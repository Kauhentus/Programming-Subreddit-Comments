&gt; Anything that has to do with signal processing, communications, controls, etc. can be done in both, but will be done quicker in MATLAB. That depends on what you are doing. For example if you need to work along a particular dimension or combination of dimensions Python will likely be easier. &gt; The other thing is that MATLAB has a cleaner and easier to use plotting syntax. Again, it depends on what you are doing. Putting a simple line on an axis is slightly simpler due to matplotlib needing an import. But if you want to highly customize the plot, Python is better (there is a reason MATLAB copied matplotlib's OOP plotting interface). And if you want to make complex plots, such as working with lots of axes, doing complicated statistical plots, exploring complex structured data, making highly interactive plots, doing non-trivial non-cartesian plots, plotting massive amounts of data, or using any of the dozens of plot types that Python offers but Matlab doesn't, then Python is going to be better. &gt; Again I can figure out how to setup the backend of the python plotting library, That is taken care of automatically now on matplotlib. It will automatically select the best backend from those available. Now one of my bosses keeps an ancient version of Matlab around because old plots can't be made to look the same in hg2, and you have to worry about your plots not working at all because you tried to use it with the wrong MATLAB gui backend since mathworks decided they need to re-implement everything from scratch *again*.
This is the most thorough and helpful answer, thank you!
Don't forget RAM. I find that you need at least 16GB to effectively use MATLAB for the course of a day.
OP means for the sine to start at the zero cross. No phase
I'll give you a hint since it's homework: Matlabs indices start at 1
Also another tip. your "long line" has a lot of repeated stuff with a simple structure. Whenever code does repeated stuff by writing it out, there's usually a better way.
Ahhh I think I get what I've done now. Thank you!
I realize that I can achieve my goal by writing this code: close all; clear; clc; syms x N = 10; P = []; for L = 0:10 P = [P legendreP(2.*L+1,x)]; end But I want to preallocate the memory for the data array because I've been told this makes for faster computation. I realize that my code is not computationally intensive so it doesn't matter all that much in this case but I'm frustrated that I can't get the OP code to work.
`P` is an array of numeric doubles. `legnedreP` is returning symbolic answers, thus there is a mismatch. If you pre-allocate `P` is an array of symbolic values, then it will. So something like `P = syms(zeros(1:N))`
Fair enough. Still seems like an inefficient way to work though. For many applications, symbolic calculations are needlessly slow, and should typically be avoided. /u/jkool2 gives a good explanation of this in the comments. In any case, without more information from OP, we can't be sure what would work best in his/her case.
Thanks, P = sym(zeros(1:N)), worked!
Difficult to say without access to the data, but bear in mind that Pearson's R requires normally distributed data and is susceptible to outliers. You might want to look at the output for Spearman's Rho and see how much the correlation values drop. or do some tests for normality (and variance). &amp;#x200B; Alternatively have a quick check in another program manually and see if it is an issue with how your script is reading/sorting/taking the correlations. &amp;#x200B; Also I hate stats. 
Haven't used 2018 yet, but if everything follows the typical pattern, sgtitle will return a handle to the title object. You can use that to change the text in it, or delete it before adding a new one. This will be explained in the documentation. 
&gt;p-value of 0.9988 So that's a bad thing--you want lower p-values, not higher. So if the test is to see if the correlation is significantly different from zero, you would say that it is not.
And robustfit
Well, I don't see the part of your code where you plot, but in general, whenever you plot, always return the plot handle, aka `h = plot(x,y)` Then you can hand in an array of handles into the legend function, with a cell array of your legends. 
Be careful! You seem to have 18 data points but 20 variables. Ideally you want lots more data points than variables. When the number of data points falls below number of variable the correlation matrix becomes singular due to colinearity. 
depends if u use multicore or single cpre performance on matlab. For multicore performance ie parfor, you want as many cores per dollar. But if ypu are not then you want the best single threaded performance cpu. from experience intel is better with less compatibility and optimization issues.
I think it's great you're writing your own solution! Afterwards, you might want to read this: https://uk.mathworks.com/help/images/filter-images-using-imfilter.html
Give it a try and ask questions when you get stuck. This is a rather simple problem, and can be solved with a quick Google search. https://www.mathworks.com/help/matlab/ref/mean.html
If i understand correctly here is pseudo R = Define Nx1000 vector, if N is unknown parameter make empty vector For i = 1 : N V1 = Mean(s1) R(i, :) = vector of 500 elements - V1 End of for
the mean function has a dimension input which is the dimension along which the mean is calculated (type "help mean" for info). So say that size(Data) is 500x1000 then you want to take the mean along the first dimension: mean(Data,1). This will give you an array of size 1x1000 containing the mean of each of the 1000 data sets. So you can just do: Data_mean = mean(Data,1); Data_minusmean = Data - Data_mean or just Data_minusmean = Data - mean(Data,1) 
In main script after you call this function you can write: figure('name', 'window title'); plot(t, dhdt); title('tank level over time'); xlabel('time'); ylabel('level');
my bad, I gave the supporting script file, this is the script used where I actually plot: &amp;#x200B; % TANKSIM1: Dynamic tank simulation - Using solution by substitution of % algebraic variables (Method 1) global alpha % Set extra parameters tf = 72; % h h0 = 2; % m &amp;#x200B; for alpha=0.01:0.05:0.2 % Solve the DAE opts = odeset('Reltol',1e-5); \[t,h\] = ode45(@tankf1,\[0 tf\],h0,opts); &amp;#x200B; % Plot the graph plot(t,h) hold on end &amp;#x200B; title('Tank model solved by Method 1') xlabel('Time (h)') ylabel('Level (m)') grid on &amp;#x200B;
my bad, I gave the supporting script file, this is the script used where I actually plot: &amp;#x200B; % TANKSIM1: Dynamic tank simulation - Using solution by substitution of % algebraic variables (Method 1) global alpha % Set extra parameters tf = 72; % h h0 = 2; % m &amp;#x200B; for alpha=0.01:0.05:0.2 % Solve the DAE opts = odeset('Reltol',1e-5); \[t,h\] = ode45(@tankf1,\[0 tf\],h0,opts); &amp;#x200B; % Plot the graph plot(t,h) hold on end &amp;#x200B; title('Tank model solved by Method 1') xlabel('Time (h)') ylabel('Level (m)') grid on &amp;#x200B;
It seems like you're talking about a problem with image registration. Here's a tutorial to get you started in the right direction: https://www.mathworks.com/help/images/example-performing-image-registration.html
If you want multiple windows with plots add figure; before calling plot function
Try subtracting your ground truth image from your image with sections removed and filled with white. Also look into functions binarizing images using an adaptive threshold (see Otsu's method), and identifying contours. Can't really help with noise and distortion in the 3rd pic without seeing it, but if nothing else, the tips I provided should give you a very straighforward way to identify the five missing regions and their pixel locations for later replacement. 
I already have one window and figure with all 4 sets of plots. I want each plot having a separate label.
The only use for the ground truth image is to compute the similarity between the recovered images. Thankyou anyway i will have a look :)
I need to modify the patch or surf object, not the axis object. Regardless of the axis orientation, the surface will have a 'top' side and a 'bottom' side. This has nothing to do with the axis. Thanks for taking a crack at the solution though.
Yeah, it still the same process. Save your figure handles in an array, save what you want your legend to be in a string array, then call `legend(h, legend_strings)` where `h` is your handles and `legend_strings` is the string array of legends you want to give. 
title(strcat(' desired label ', num2str(i))
If it would behave like normal title or subtitles, I could just change them, and then plot the figure again and the title changes (works for all the plots). But for sgtitle, matlab just prints the new title over the old one and you cant read them anymore. Tomorrow I'll might upload a minimal example, so you can reproduce it
check out circshift(...) this might do what you need. I admit I am having trouble understanding your question.
Sorry. Umm i dont need to do a circular shift ... so just imagine array elements from 0-10 arranged linearly in a straight line whose total length is say d\_x. all i need to do shift very slightly every element to the rigtht ( the distance between o and the shifted array is deltax and the total length becomes ( d\_x + deltax). I hope you got my question now? 
if it really is what you're saying in your post. The equation you posted will work in matlab i.e. d_x + deltax d_x = 0:.1:10; deltax = 0.01; d_x_shifted = d_x + deltax; I fear that I am not understanding because this appears to be too trivial. 
You mean ... d_x = d_x + 0.00001?
I have added an image for you. Hope you can understand it better now. Please help me out if you can. Thanks.
Yes I got that. That's why I suggested what I suggested. 
The clue that i was given was that my deltax from start to new position of d\_x) will range from 0 to the maximum of d\_x
You've labeled a bunch of different things dx or delta x. That makes no sense. Whatever. If you want to increase the value of everything in an array, just add the amount you want them to change by. Like everybody has said. 
Thanks anyways. Ill try it out :)
All you need for this in current versions of Matlab is the mean() function. In older versions, before implicit expansion was introduced, you'd also need bsxfun(). In no case do you need a loop for this. 
Are you ok?
I've reread your guidance about 5 times now, and I admit I am not totally sure... Perhaps this? &amp;#x200B; d = 0:0.1:10; d1 = \[d; d+0.01\]; d\_x = d1(:); &amp;#x200B;
The documentation in MATLAB is awesome. Start there. [Scroll down to references](https://www.mathworks.com/help/matlab/ref/ode45.html#References). Find [the pdf](https://www.mathworks.com/help/pdf_doc/otherdocs/ode_suite.pdf) which explicitly shows you how their ODEs work
You can also run the command `open ode45` to look at the code directly if you're curious about anything not covered in the docs
thanks a lot
&gt;Is it just RKF23 &amp; RKF45? Yeah pretty much, check out numerical methods in C or something for a generic adaptive RK4-5 algorithm. I don't think Matlab's is anything special. &gt;in C++ &amp; CUDA You probably already know this but you will need to be solving a tonne of simultaneous ODE (thousands at least) for this to be worthwhile. Since basically rk23/45 are serial algorithms with only an extremely minor ability to parallelise within each timestep; not even remotely worthwhile in CUDA without thousands of independent ODEs to move at their own pace. Remember that the adaptive nature of the stepping in these algorithms means that interdependant ODEs (e.g. large grids of rate equations) can't be done with rk45 and CUDA, they need to be fixed stepsize for CUDA to be a time saver.
My main issue is with syntax, not so much whatever claculation I want to perform with the data set.
Okay, so how do I do an iterative loop for this action?
You can literally open the file and read the code
If you want yonparalelize things, then I would use a collocation algorithm such as bvp5c... 
There is a nice code for image denoising using deepnlearning. Cf the toolbox example 
ode45 uses the Dormand-Prince 4/5 explicit RK method using adaptive step size control (as do all of the ode solvers in MATLAB). I think ode23 is a Rosenbrock implicit RK method (can be checked by running &gt;&gt;edit ode23 and reading the code). 
Thank you. You made my day. Salud!
You're right, a really dumb mistake on my part..
Hey Nick, I do prefer much more data points indeed.. But in this case I have no choice. What consequences does a singular correlation matrix have? 
Here's a minimal example: x= [0:0.1:4*pi]; f1 = cos(2*x); f2 = sin(x); a= 2; PlotMinimal(f1,f2,x,a); And the content of my custom Plot function function p1 = PlotMinimal(f1,f2,x,a) p1 = figure(1); % f1.Position = [2600 500 840 420]; subplot(2,1,1) plot(x,f1) xlabel('x'); ylabel('cos'); subplot(2,1,2) plot(x,f2) xlabel('x'); ylabel('sin'); t1 = sgtitle(num2str(a)); end If you change a in the script, the wrong plotting occurs. I tried to check for the handle t1 of the sgtitle, but since its inside the function, I always get errors, because the handle isnt defined once the function gets called again
I normally fill a cell array with the names inside of the loop. After the loop add the legend and use the created cell array 
Start defining a matrix that is gonna be your map. Then ask the user for inputs that are inside that matrix.
I normally fill a cell array with the names inside of the loop. After the loop add the legend and use the created cell array 👍
My problem is not mostly the beginning but what's in the middle I don't know How to really write a code that checks for each pixels that are next to each other, and how to find the shortest path.
On the file Exchange there is a fig_title home brewed version. I don't have 2018 yet
How to check for neighbors: Given the fact that you are using binary map i believe you are using robotics library which contains function getOccupancy which will represent your map. Your current position is on x,y, so check for all 8 possible neighbors (all combinations of with x and y +-1). How to find shortest path? You will have to create a search tree(ST) for your BFS. This algorithm is not informed - does not use hevristics like A* for example, so your tree can get very huge. Most simple implementation of tree would contain location of a node, cost to node (starting node/position will have cost 0) and node neighbors. 
What you want is a joint PDF. https://stackoverflow.com/questions/18639518/generate-and-plot-the-empirical-joint-pdf-and-cdf
I think what you mean is a 2D normal distribution? Unless I'm understanding something wrong. First set up a meshgrid of X/Y data points. I would define the inputs the the meshgrid as something like: &gt;linspace(-1,1,100) If X and Y are the ouputs of your meshgrid data, then you can create a mesh that describes the radial distance. : R = sqrt(X.^2 + Y.^2) Finally, you can use R as an input to your Gaussian normal distribution, as it describes the distance from your center point.
What you're talking about is the DC offset or constant term. Highpass filters remove low frequencies, the lowest being 0 Hz or DC. To maintain the offset you must find it prior to filtering then add it back in after. It is the mean of the signal, i.e. `mean(data)`. Also a 10th order filter is probably too much, try 4 and see if the ringing is better.
In the figure's '`DeleteFcn`', you can handle the closing of any stranded UI objects by using `findall`. For example, with the GUI I'm working on, the first thing it does before creating any part of the GUI is check to see if the GUI is already open, via: `open_app = findall(0, 'Name', app_name);` Which returns ALL objects that exist whose '`Name`' parameter is equal to `app_name`. For most (I think all) GUI objects, there is a '`Tag`' parameter that can be used for, among other things, unique identifiers. So for example, if there's one particular object that is causing you problems, you can use `findall` to search through a list of objects, returning the handle of the one that matches some unique '`Tag`'; you can then delete it. You can also look into using `allchild` or `findobj` to search through the workspace and delete any ridiculous nonsense, though I'm not too familiar with those.
Thank you very much for the quick answer! The DC offset is now corrected, the ringing however is not gone with a 4th order filter ([picture](https://imgur.com/a/lPZjry5)) and even with a 1th order filter there still is a problem ([picture](https://imgur.com/a/nY1tabe)). Any idea how to fix this?
You want to represent the density function of a 2D normal? Or you want to generate 2D normally distributed random samples? If you want the former you just want to evaluate the equation of your 2D distribution. 
I'm also trying to do this with some electrophysiology data myself. I've heard that to remove a running drift some people use the function polyfit, and just fit it with a high order polynomial that is then subtracted out. polyfit got me close, but not as good as I wanted... it may be good for you though. If anyone has other ideas I'm all ears.
For me its fMRI data, so we're in the same boat, hopefully somebody comes with the answer. Thanks for your suggestion though, I will try it.
I'm not clear on what you want, but I think you want [mvnpdf](https://www.mathworks.com/help/stats/mvnpdf.html). 
Check out the gif at the end of this example, it should help you a bit. [http://www.mathworks.com/help/matlab/math/visualize-breadth-first-and-depth-first-search.html](http://www.mathworks.com/help/matlab/math/visualize-breadth-first-and-depth-first-search.html)
A polynomial fit isn't a bad idea. 
&gt; ...the thickness changes the conductivity... &gt; ...c is the constant conductivity... [Conductivity](https://en.wikipedia.org/wiki/Electrical_resistivity_and_conductivity) is an intrinsic material property. Assuming a [homogeneous material](https://en.wikipedia.org/wiki/Homogeneity_\(physics\)), it won't change due to thickness. What will change is the [resistance](https://en.wikipedia.org/wiki/Electrical_resistance_and_conductance) (or conductance, if you prefer), which is dependent on the area and length of the conductor. Since you have fixed your voltage values at either end, the resistance will only affect the current. The current will then affect your [heating](https://en.wikipedia.org/wiki/Joule_heating). You can remember this by thinking of the -ity terms (resistivity, conductivity, susceptibility, etc.) as being there no matter what (even if they vary with position or direction), and the -ance terms (resistance, conductance, susceptance, etc.) as being defined only for an actual object with physical dimensions. Since this is a MATLAB subreddit, what do you get when you run your program? Does the answer make sense? Share some code if you are unsure of the implementation; however, don't expect anyone else here to be an electrical engineering PhD student, physicist, or industry pro.
that's a really nice, smooth animation. did you do anything special to make it, or was it just a for loop with some basic plot commands?
&gt; You can also look into using allchild or findobj to search through the workspace and delete any ridiculous nonsense So this is actually exactly what the `figCleanupFunc` in the new code I linked does - it uses `findobj` to collect any objects in the workspace, and closes all of them that are of type `matlab.ui.control.UIControl`, which will close any "stranded" UIcontrol windows that were left over from previous sessions. The problem with using something like `onCleanup` or (i believe) the figures `DeleteFcn` is that the assocated function only gets called on standard function terminations. If a user presses `ctrl+c` or there is an error which isnt caught by a try/catch block, and `pause on errors` isnt being used, the error causes the function to immediately drop into the base workspace in a way that bypasses catching errors and that doesnt trigger any "onExit" type of functions. Honestly, its something I can live with, since I have things automatically fixed up the next time the function gets run and executes normally to its completion, but ive come across this issue a few times (the general issue of some errors / function terminations not being catchable) and it would be nice if there was a solution.
 I've made similar plots in the past, and I see that your tangent line is being drawn with a constant dx, and dy = dx*dydx. If I might suggest a small improvement, try using a constant arc-length instead, so that the tangent line doesn't wildly vary in size.
FYI - You wont be able to use this for your HW, but 2D smopothing can be implemented very efficiently using d = conv2(d,k,'same') ./ conv2(ones(size(d)),k,'same'); Where d is the data and k defines the smoothing kernel you want (for your case this would be `ones(5,5)`, though I tend to prefer a gaussian-weighted smoothing kernel). [This](https://pastebin.com/3wJiv3YS) function shows how you could implement this using gaussian-weighted smoothing.
What I would recommend would be to do something like Y = fft(data); f = (0:length(Y)-1).*(fs/length(Y)) figure(1): clf; loglog(f, abs(Y)); And that way you can look at the frequencies you want to keep and those you want to remove. From this I would suggest potentially moving the cutoff frequency higher and keeping a lower order. Or try the polyfit that the other person suggested.
A little late to the party, but there is also the possibilty to call the `plot` commmand with the displayname name-value pair inside the for loop. After the loop just call legend. Inside the loop, plot(t,h,'DisplayName',sprintf('alpha: %0.2f',alpha)) After the loop, legend Replace `sprintf` with whatever dynamically created label you want. 
Agree! I am really curious about the code, can you post it, OP?
Could, but I think it is quite cool that the length of the tangent says something about the magnitude of the slope, right?
It is nice.... would definitely try to implement it
Especially the last 2 equations where I can't make the derivative term explicitly defined in terms of the other terms.. so I can't use ode45 because it needs to have the derivative terms explicitly defined like dy/dt = f(y,t)
Could you post the code for this?
I'm not OP but you can easily do this with a loop and getframe(). Make the time step as small as you like for smoothness. 
That's true, but that info is lost during the second part of the animation anyways. I think the magnitude might be tied to the color, but that could also be modified.
If you want to prioritize MATLAB performance and money is no object: Get a skylake-x (or wait for the refresh to get released).Despite bieng bit older, it still [completely blows away the newest mainstream intel and amd chips](http://www.sisoftware.net/2018/11/21/intel-core-i9-9900k-cofeelake-r-review-benchmarks-cpu-8-core-16-thread-performance/). If you want to prioritize MATLAB performance but doont want to spend for an (admittedly rather expenssive) skylake-x rig: go for one of the intel chips. Intel does quite a bit better in MATLAB fr 2 main reasons: 1) Matlab uses MKL (which is intel's software) for matrix operations, and 2) Intel has much better SIMD/AVX performance (most of the "fast" algorithms in MATLAB get a lot of their speed by using the SIMD registers to run operations vectorized). If you want to prioritize general computer usage and price/performance: get one of the Ryzen chips. MATLAB wont run as fast, but depending on what you intend to use MATLAB for maybe that is OK. If you never run anything that takes more than a couple seconds then it doesn't really matter if it takes 2 seconds or 4 seconds to run.
I'm a Matlab beginner, so please forgive my bad structure. But here is the code for the animation above. It's really simple to do :) x = 0:0.05:10; &amp;#x200B; xlim(\[0 10\]); ylim(\[-57.5 57.5\]); &amp;#x200B; Vy = 0; Hy = 0; Vx = 0; Hx = 0; &amp;#x200B; plot(x,5\*x.\*sin(x)); hold on &amp;#x200B; for i=1:length(x) xlim(\[0 10\]); ylim(\[-57.5 57.5\]); Ax = x(i); P1 = viscircles(\[x(i) 5\*x(i)\*sin(x(i))\],0.1,'Color','blue'); Vx = (x(i) - Hx)\*20; Vy = (5\*x(i)\*sin(x(i)) - Hy)\*20; Hx = x(i); Hy = 5\*x(i)\*sin(x(i)); Dub = line(\[x(i) x(i)+Vx\],\[5\*x(i)\*sin(x(i)) 5\*x(i)\*sin(x(i))+Vy\],'Linewidth',1,'Color',\[0 1-x(i)/10 x(i)/10\]); drawnow delete(P1); delete(Dub) &amp;#x200B; end &amp;#x200B; for i=1:length(x) xlim(\[0 10\]); ylim(\[-57.5 57.5\]); Ax = x(i); P1 = viscircles(\[x(i) 5\*x(i)\*sin(x(i))\],0.1,'Color','blue'); Vx = (x(i) - Hx)\*20; Vy = (5\*x(i)\*sin(x(i)) - Hy)\*20; Hx = x(i); Hy = 5\*x(i)\*sin(x(i)); Dub = line(\[x(i) x(i)+Vx\],\[5\*x(i)\*sin(x(i)) 5\*x(i)\*sin(x(i))+Vy\],'Linewidth',1,'Color',\[abs(sin(x(i))) abs(cos(x(i))) abs(sin(x(i)\^2))\]); drawnow delete(P1); %delete(Dub) &amp;#x200B; end plot(x,5\*x.\*sin(x),'Linewidth',2);
Sorry for my delayed response. Awesome, thank you! This worked perfectly
Thanks!
Thank you for your help! 
Hey, thanks for the help!
did you find answer of this question bro.? &amp;#x200B;
Ugh. Trying to debug Simulink is a nightmare. If you have time I would rebuild the entire model and add one block at a time until it breaks. Another thing you can do is put scopes everywhere to see what's happening. 
I copied this code straight into the Matlab editor. When I tried to run, I got lots of complaints about invalid characters. I tried and tried to delete them, sometimes with success, sometimes not. Then I opened the file with Notepad++. The invalid characters showed up immediately as little question marks in a different font. Deleted them and then script worked fine. If I had coded that editor I would be ashamed. But I'm guessing they found that early in Matlab's lifetime and decided not to fix it as the engineers have better things to do than fix a problem that would have never occurred if people didn't expect their product to exist outside the MathWorks world (that is, in the real world).
Shoot, if that doesn't work then I'm out of ideas, good luck! I swear I saw an answer on Mathworks site somewhere that said the onCleanup function is called when `ctrl+c` is hit, but if not, then... well, yeah, seems like the best option is to do the appropriate checks when the GUI is first launched. That's what I've been doing, but I have a very simple single figure (with tabs!) UI.
Yeah a bunch of zero width spaces for some reason. Can be seen in vim but not atom or Matlab editor. Very strange.
&gt; I swear I saw an answer on Mathworks site somewhere that said the onCleanup function is called when ctrl+c is hit, At one point it probably did...the function is described as "this gets called whenever &lt;variable&gt; ceases to exist".Ive only tried on 2018b, and it seems like there were a particularly large number of low level changes ther last few versions (in particular 2017a--&gt;2017b), so im guessing something related to adding breakpoints got changed and the part where "onExit" functions still get called got left out.
Id agree with this for "general computer usage", but this isnt the case for MATLAB. This is due to 2 main reasons: 1. MATLAB is tuned to run on intel chips, and uses (for example) Intel's MKL to perform matrix operations. You *can* manually replace some of these libraries with equivalent versions that are better tuned for AMD CPU's, but this is not exactly standard usage. 2. One area Ryzen still lags behind is in SIMD/AVX performance. It almost every other aspect it is neck and neck with intel, but here it is a factor of 2 slower. This will effect all the "high performance" operations in Matlab (matrix ops, fft's, convolution, etc.)
While I'm taking your word for it, that's a high quality answer!
I need the order of the rows of the new matrix be like, from top down, zj-cj-rcost-A. I tried \[zj;cj;rcost;A\] but I got something that has values of A changed.
I have a [frequency filtering function](https://pastebin.com/vJjDxQ4L) (which I admit im rather fond of) that you can try out. It is designed to implement high-pass, low-pass, and notch frequency filters. The syntax for a high-pass filter is `myFreqFilter(data,Fs,[Nan,Fcut,Fpass])` where `Fs` is sampling frequency and `Fcut`/`Fpass` are the edges of the transition zone of the high pass filter. I made up a [quick test](https://i.imgur.com/Dem2h1Z.jpg) and it seems to work rather well.
yeah, i'm familiar with doing that and making a DIVX file or something like that. it just looks abnormally smooth compared to what i was expecting for some reason. OP posted code below.
I have a [frequency filtering function](https://pastebin.com/vJjDxQ4L) (which I admit im rather fond of) that you can try out. It is designed to implement high-pass, low-pass, and notch frequency filters. The syntax for a high-pass filter is `myFreqFilter(data,Fs,[NaN,Fcut,Fpass])` where `Fs` is sampling frequency and `Fcut`/`Fpass` are the edges of the transition zone of the high pass filter. I made up a [quick test](https://i.imgur.com/Dem2h1Z.jpg) and it seems to work rather well.
Can you post the code you tried? 
\&gt;&gt; load('pointcloud.mat'); pcwrite(ptCloud,'object3d.pcd','Encoding','ascii'); &amp;#x200B;
then I get error code: Undefined function or variable 'ptCloud'.
P file is basically "encrypted .m files " so there is no way to check the source code I think 
The whole point of .p files is to obscure the original source code. I don’t think there is a way for you to view it, much less edit it.
&gt;\&gt;&gt; load('pointcloud.mat'); &gt; &gt;pcwrite(ptCloud,'object3d.pcd','Encoding','ascii'); &gt; &gt;&amp;#x200B; You are loading pointcloud.mat and then telling pcwrite to read ptCloud. You need to define a variable ptCloud as the . Mat file. My matlab is a bit rusty, but something like ptCloud = load..blah blah
Hmm okay. I tried to define it as ptCloud = pointCloud(xyzPoints) now but it gave me an error code that xyzPoints are not define, haha. What would be the easiest way to just get that pointcloud out from matlab? 
The above is true, the point behind .p files is to provide functional code without allowing access to how it works. Lots of University Matlab courses in particular use .p files for their autograders or similar for this very reason
Thanks, I'll definetly try it out, how long does the filter take to process ?
As in any pretty much any programming language, you need to define a variable before you use it. What were you imagining `xyzPoints` would give you? After loading your .mat file, you should see that there is a new variable in your [Workspace](https://www.mathworks.com/help/matlab/ref/workspace.html). You can double-click it to open a view kind of like MS Excel. If your goal is to just extract the data and move along to some other program, you can likely just copy/paste that data into a spreadsheet. If you'd like to use the method in the page you linked, then type the name of the variable as it appears in the Workspace (most probably 'pointcloud', the same as the .mat file name) in the first argument for pcwrite, then a [character vector](https://www.mathworks.com/help/matlab/matlab_prog/creating-character-arrays.html#briuv_1-1) for the filename in the second argument: pcwrite(pointcloud, 'myPointCloudFile') As explained in the documentation you linked, `pcwrite` will automatically use a .ply file format and extension if you don't specify one. If you'd rather preserve the organization of the cloud, you can specify `'myPointCloudFile.pcd'` in the second argument to use that format. You will have a new file in your base MATLAB directory, which can be seen on the left of the main window.
This one's the winner! Great runtime and good results, thanks a lot, I'll cite you in my work! 
thank you so much for the walkthrough! will try later tonight. sorry for missing any basics, i'm not used to working in programming languages but hopefully will become better soon:)
You're welcome. There are links in the sidebar of this subreddit if you'd like to learn MATLAB (over there --&gt;). As for learning programming in general, there are more than a billion results on Google... check out [this comment](https://www.reddit.com/r/matlab/comments/a1t1e1/how_to_get_better_at_writing_code/easmt3r/) I made on another, similar question.
The global optimization toolbox should have what you need.
Glad to help. Ive gotten a lot of use out of that function since a) its fast (gotta love FFTs) and b) it seems to work well in just about every use case ive tried it in. (as I said in the original comment, Im quite fond of it lol). Its kind of funny actually...from a filtering standpoint its extremely basic - just FFT --&gt; choose pass/cut frequencies and make a tukey (cosine) transition between them --&gt; IFFT. There's no rippling or impulse response analysis. Makes me think sometimes people just make things more complicated just to keep busy. PS if you actually end up citing this send me a PM and ill send me actual info. Im a last (hopefully) year PhD student, so i take all the random citings I can get lol.
Its worth noting this isnt necessarily implying OP shouldn't go with a Ryzen, it just depends how much they want to prioritize MATLAB usage. If they never ruun anything that takes more than a few seconds then they are probably better off with Ryzen, since it does seem to have better price/performance in most aspects of computer usage (the only common exception other than MATLAB and HPC applications is Video Editing, which also heavily uses the SIMD registers and thus is hurt by Ryzen's reduces SIMD performance)
try using `suptitle` instead of `sgtitle`
The most robust way (that i know of) to do this is using (for example input `x`): if ~exist('x','var') || isempty(x) || ~&lt;conditions on x to ensure validity: e.g. (isnumeric(x) &amp;&amp; x &gt; 0)&gt; x = defaultValue; end The `~exist` part is applied if there was not enough inputs (e.g., x in input #4, but only 3 inputs were given). The `isempty` part is for when x was given as an input but was empty (suggesting they wanted `x` to take its default value). The `&lt;conditions on validity&gt;` part is self explanatory.
I believe ode23i is the implicit method you speak of, ode23t is implicit trapezoidal, and ode23 is an explicit ssp solver.
Sorry for taking so long to reply. Thanks a lot for your help, I realized I was making things needlessly complicated for myself and just used semilogarithmic plots to get the result I needed. Thanks again.
Also for sake of ease, [here](https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods) is the Wikipedia entry for RK. 
How close is your error to machine error? As far as your code, I don't see anything wrong with it. Try swapping out rk4 with a second order update and see what happens. 
error ends up being `6.9182e-03 3.4059e-03 1.6895e-03 8.4137e-04 4.1984e-04` Not nearly close enough to be machine error. I ran a 2nd order Taylor series method and got roughly the same errors. (which shouldn't happen)
Looking at your orders, your 4th order method is behaving as a second order method. Is your function 5th order continuous? (Can take 5 derivatives?)
I believe it is. The function is yn. Putting it in wolfram seems like it can derive 5 times.
Kk. I'll take a look again when I get home and can use Matlab my self. Hard to debug on my phone...
Thank you so much for your help so far!
Where is your approximating function coming from? The y\_exact function you wrote is only a function of t, which would make dy/dt also a function of only t. Also, in the definition of y\_exact, it should say t(delta(k)), not t(delta), right?
I figured it out. I needed to use t = 1:h:2, not linspace. Also error is (exact-y(delta(k+1)). &amp;#x200B; Thank you all for your help!
Import a single file into the matlab workspace, then learn how to apply each step you described, on a single file, one at a time. Then learn how to apply your code to multple files in a directory. There are plenty of ways to do it. Look at the matlab documentation.
Glad you got it figured out. As extra notes, you can still use linspace but you should do it as t = linspace(1,2,delta(k)+1); This will give the desired h. &amp;#x200B; As for the error, you can use error = exact - y(end)
You can have a ode that is dependent on x and t and have the solve solution only depend on t, take exponential growth as the example. Its ode is dx/dt = c\*x and its solution is x(t) = x0\*exp(c\*t)
Of course, which is why I asked where the expressions came from.
Kk. If this is for a class, I would assume the exact formula was given. At least that is what I have experienced and what I would do.
You are welcome to try out the frequency filtering function I posted for OP (see [this](https://www.reddit.com/r/matlab/comments/a3rxtw/problem_with_the_construction_of_a_highpass_filter/eb9zh4k/) comment). As long as the frequency of the drift is lower than the frequency of the data you want to keep (i.e., no overlap in the frequency domain) Ive found that, despite being fairly simple (from a filtering perspective), this function often works quite well for high pass / low pass / notch frequency filters (It can do all 3, depending on how the `Fn` input is defined - see the function header for more info).
For something like this you could get away with brute forcing it 1. get the bin count for each histogram bin 2. define a range of possible values for your parameters (you should only have 2 or 3 with most distributions) and subdivide it into an absurd number of pieces (as long as you have tyhe RAM you can literally do a few billion combinations in a very short amount of time) 3. compute the resulting distribution for each combination, compare it to the data (the bin counts), and compute an error measure 4. choose the combination with the lowest error
\&gt; error = exact - y(end) You should not be checking the error at just one point. See my comment in this thread to OP.
You should not be checking the error at just one point. They could coincidentally be the same. For example, solutions which decay rapidly to zero might be near machine precision at whatever final time you decide to measure them. It is much better to check the error everywhere. For example, y\_exact = t./(1+log(t)); % Compute the exact solution at every time step. % ... then compute y by RK-4 ... error(k) = max(abs(y\_exact-y)); This is sometimes called the "global L\^infinity error". Another option is to use the "global L\^2 error", which is the square root of the integral of the squares. You can compute it approximately using a Riemann sum like this: error\_L2(k) = sqrt((sum(y\_exact-y).\^2)\*h); Importantly, don't forget to include the step size "h" as above, or different delta values will not be comparable. Note, you can also do this in a slightly shorter way by using Matlab's "norm" function. It computes the square root of the \*sum\* of the squares of vector components, so you still have to put in the h to make it an integral, as follows: error\_L2(k) = norm(y\_exact-y)\*sqrt(h); There are many other way to compute the global error (see more general \[L\^p norms\]([https://en.wikipedia.org/wiki/Lp\_space#Lp\_spaces](https://en.wikipedia.org/wiki/Lp_space#Lp_spaces)) for instance), but hopefully this gives you an idea. Happy coding! =)
I'm an utter beginner and barely managed to save it as a movie file. i used the getframe function without altering any fps settings. however, the smoothness might be the result of my stepsize being fairly small? i usually create a vector x ranging from 0 to pi in 0.1 steps or if necessary even smaller (for a smoother transition)
I just copy pasted it right out of my editor. however, I deleted the "getframe" commands, but other than that, I didn't change anything. weird, works for me like a charm (kinda), but yeah I'm confident there's a multitude of problems in my style of coding (I'm just a mechanical engineer with an admiration for coding/visualisation, you see)
So, IDK if this will be useful or not, but I find it incredibly annoying when you post a thread asking for people to run some code and a bunch of people comment but *no one actually runs the fucking code*. So, I figured Id run it for ya, even though my hardware may not quite be what you were looking to compare against. That said, here are results for an i9-7940x Starting parallel pool (parpool) using the 'local' profile ... connected to 28 workers. Starting Benchmark 1 Test 1 of 10 Time: 3.3084 Test 2 of 10 Time: 3.18 Test 3 of 10 Time: 3.1637 Test 4 of 10 Time: 3.1476 Test 5 of 10 Time: 3.2043 Test 6 of 10 Time: 3.1081 Test 7 of 10 Time: 3.1269 Test 8 of 10 Time: 3.1023 Test 9 of 10 Time: 3.0608 Test 10 of 10 Time: 3.1399 Results Benchmark #1: Average Time: 3.1542 , Min: 3.0608 , Max: 3.3084 Starting Benchmark 2 Test 1 of 10 Time: 1.9287 Test 2 of 10 Time: 1.7992 Test 3 of 10 Time: 1.7992 Test 4 of 10 Time: 1.7998 Test 5 of 10 Time: 1.8021 Test 6 of 10 Time: 1.8135 Test 7 of 10 Time: 1.7986 Test 8 of 10 Time: 1.7749 Test 9 of 10 Time: 1.7779 Test 10 of 10 Time: 1.7871 Results Benchmark #2: Average Time: 1.8081 , Min: 1.7749 , Max: 1.9287 Parallel pool using the 'local' profile is shutting down. Its worth noting you wont see much difference in this benchmark between AMD asnd intel (or in between different generations of intel). Where you will start to see a (rather dramatic) difference is when you get into matrix operations, fft's, convolution, etc. (PS all those functions are much more efficient that parfoor is capable of being. If you can vectorize with matricies you are almost always better off doing that and not using parfor).
Here in this page the above picture has been mentioned but no source code has been provided. I was wondering if this has been published anywhere?
You don't need some kind of special "batch code". Figure out how to do it once. Then figure out how to put the code that does it once into a loop that does it to a list of files. When you don't know how to do something, read the documentation. 
Why does it have to be one line? I'm curious 
Input will accept any valid numerical value or expression, (or character array, with `'s'` flag). You can just ask them to enter a vector in `x`, then pick the parts out with `v = x(1)` etc. Try it out!
Maybe [this](https://www.mathworks.com/help/matlab/ref/inputdlg.html) will help.
 x = str2num(input('Enter U,I,P:','s')); this should work.
This is for an assignment and it was specified to be like this , weird i know
Weird. Then let them input a vector x=[a, b, c... n] 
This is the same as x = input('Enter [U, I, P]'); I think OP. Wants U I and P as separate variables, not columns vectors in x.
 [v a p] = subsref(num2cell(input('test:')),struct('type',{'{}'},'subs',{{1:3}})) It looks horrible but I think it should do what you want. (a bit copy-paste from the Internet)
Sadly I'm not allowed to use any of those functions!
Where are all your comments? I'm not sure what you are asking or what each value means without internal comments in Matlab. 
I think line 34 might have an addition operation where you meant to do a multiply. &amp;#x200B; Some ideas on the demod. Lots of ways to do this. You can mimic a radio where you mix down to DC and then feed it through a diode (i.e. abs() ) followed by a lowpass filter. &amp;#x200B; You can do an IQ demodulator where you have two orthogonal mixers that mix down to DC followed by an abs() function. &amp;#x200B; I don't want to do your homework for you but hopefully those ideas will help you remember perhaps what your professor went over in class. &amp;#x200B;
Ahh, these things happen randomly. Could even be the Reddit markdown. You wrote a nice little script - I don't mean to take away from it.
Make the script as a function which takes in this vector as input..... trying to implement traditional programming style in MATLAB is not much useful
I'll post another picture, later
Thank you, buddy. 
whatever you did, it looks great! &amp;#x200B; I haven't made a video like this in Matlab in a while now, like maybe using a 2013 release, and wasn't really impressed with the output. they may have improved the video encoding over the years, or it was user error on my part. &amp;#x200B;
Thanks a lot for your help! Those are impressive times. Meanwhile i was able to run this on a friends pc using a ryzen 2600 with 16 gigs ram Starting Benchmark 1 Test 1 of 10 Time: 21.52 Test 2 of 10 Time: 14.3461 Test 3 of 10 Time: 13.7072 Test 4 of 10 Time: 13.9834 Test 5 of 10 Time: 13.7736 Test 6 of 10 Time: 13.9365 Test 7 of 10 Time: 13.696 Test 8 of 10 Time: 13.7687 Test 9 of 10 Time: 13.8248 Test 10 of 10 Time: 13.7943 Results Benchmark #1: Average Time: 14.635 , Min: 13.696 , Max: 21.52 Starting Benchmark 2 Test 1 of 10 Time: 6.0321 Test 2 of 10 Time: 5.7073 Test 3 of 10 Time: 5.8851 Test 4 of 10 Time: 5.7732 Test 5 of 10 Time: 5.8428 Test 6 of 10 Time: 5.6898 Test 7 of 10 Time: 5.789 Test 8 of 10 Time: 5.7268 Test 9 of 10 Time: 5.7376 Test 10 of 10 Time: 6.0144 Results Benchmark #2: Average Time: 5.8198 , Min: 5.6898 , Max: 6.0321 While the ryzen is noticeably faster than my current cpu its nowhere close to what you get from your 14 core intel. Meanwhile was able to improve the performance of the first test a lot by not using isinterior so this is not the bottleneck anymore. Still wondering what the performance on a intel 8700 or a intel 9900 would be because i need to get an upgrade anyway in the near future.
Ok there are more possible way. The first and "normal" one is using functions. So each of your m-file gonna be a function. You can add "function [*outputVariableName*] = functionName(*inputVariableName*)" to the top of your m file and end it with an additional end. Then you can call the function as your would with any other function in Matlab. In the called m file the variable you give in will have the name specified by *inputVariableName* 
For evaluation the quality of reconstruction, see [PSNR](https://www.mathworks.com/help/vision/ref/psnr.html)
If I just created it using the GUIDE function, I'm not sure whether it would be considered a function or script. And I know this is basic, but to call a function in a different matlab function all you would do is: In File 1: function m = findval(z) z=1; m=z; In File 2: a= 2; w = findval(a); %so w = 2
in file 2 w would be 1,sinfe you said z=1 in file 1
Oh yeah, so the value will maintain itself. I'll try this method thank you. 
look, when you input a into your function from file 1, you never use that input. You just output 2, no matter what input 
Okay so the second input doesn't matter. Is there a way to do this with the save(), load() functions?
This is faaaar too complicated. Save and load are functions themselves. Using functions to avoid using functions are not the way to go 
The thing is the variable can only be assigned if a certain function is executed, and if that variable is not executed it's assigned a different value. So let's just say if the function is executed x == 1, if not x == 0, both values need to be transferred to a different .m file, not sure how to do that with a function.
Sorry can't make any sense of what you're saying. I think you need to use a *if* statement. [See this](https://www.mathworks.com/help/matlab/ref/if.html) This is all **VERY** basic stuff. You should really watch a introduction/first steps video on MATLAB 
I don't think my question was clear enough, I don't think an ifelse statement would help me. Sorry and thanks for the suggestions. 
You're right, I wasn't coming with a friendly tone exactly, sorry.
I don't believe you had anything to do with it. It's something in the HTML probably.
Really happy with how Matlab handled this post's GIF's
Isn’t it just a matlab default.
Yes, GNU Octave also displays one, although different and IMO less spooky, before triggering the error.
Probably, we just thought it was funny and were more wondering why they chose this kinda creepy looking kid of all things. 
Why not I suppose, doubt much thought was put into it 
https://blogs.mathworks.com/steve/2006/10/17/the-story-behind-the-matlab-default-image/
That actually really interesting, there was way more to that than I expected.
OP? https://www.reddit.com/r/aerospace/comments/a4vuwu/forbidden_regions_and_where_to_find_them_the/?utm_source=reddit-android
https://www.reddit.com/r/matlab/comments/296djj/when_matlab_and_reddit_collide_run_this_code
Until recently (r2016b), "strings" as such didn't exist, and every "string" was just a character vector.
If you're okay with losing any sort of sample-related information, one option is to use [interp1](https://www.mathworks.com/help/matlab/ref/interp1.html) to linearly interpolate between samples such that both vectors have the same length.
It appears as though your recursive function doesn't have an exit condition. Just copying / pasting into MATLAB causes an out of memory error due to infinite recursion. If you're only dealing with integer exponents, maybe try adding an extra condition so that when n is less than one, it exits properly. As for your question, why not just call your function on the highest power to date whose exponent is an integer divisor of what you're trying to get? E.g. x\^200 = `myexptr(myexptr(x, 100), 2);`
What have you tried so far; what does your code look like? MATLAB's got pretty good documentation, so I'd suggest you start there via Google, or work through MATLAB Onramp to help you get started. The MATLAB `rand` function will give you a uniformly distributed pseudorandom number between one and zero. So if you want to generate a vector of 10,000 random numbers, you can try `X1 = rand(1, 10000);` And similarly for `X2`. And then you can take those vectors, and just create `W1` and `W2` using `log`, `sqrt`, `cos`, `sin`, etc. Then you can use the `histogram` function to view your results.
I mean, that's a little hard to help with since it's so basic that I'm not sure what I could say besides just typing the functions for you. What have you tried? Have you searched the documentation for the mathematical operations you need to perform? 
I've tried basically exactly this. When I define W1 and W2 I have W1 = sqrt(-2*log(X1))*cos(2*pi*X2); W2 = sqrt(-2*log(X1))*sin(2*pi*X2); The issue seems to come from X1 and X2 being vectors and I get the error "incorrect dimensions for matrix multiplication" from MATLAB
Can you explain the difference? It's never been clear to me
One way to do this is to just compute the values directly, for example: myOutput = myFirstInput.*mySecondInput + myThirdInput; Which will take three vectors, and compute the product of the first two and sum that with the third, and assign the result to `myOutput`. In this version, you may note the `.*`, which is a Hadamard product (or [element-wise product](https://www.mathworks.com/help/matlab/ref/times.html)), in which each value in the vector is multiplied by the corresponding value in the other vector, returning a vector. This is different than something like `A*B'`, which for two row vectors of the same length, will compute the vector product, which is a scalar. Another way is to use [anonymous functions](https://www.mathworks.com/help/matlab/matlab_prog/anonymous-functions.html), for example: myOutputFcn = @(x1, x2, x3) x1.*x2 + x3; myOutput = myOutputFcn(myFirstInput, mySecondInput, myThirdInput); Which will compute the exact same thing as the previous example, but is easily extended to other input values without having to rename them. When calling the anonymous function, any variables in the workspace can be used. Since you've already done the math by hand, it should be a piece of cake to use either of the above two methods, along with perhaps the [sqrt \(square root\) function](https://www.mathworks.com/help/matlab/ref/sqrt.html), [log function](https://www.mathworks.com/help/matlab/ref/log.html), and the [integral function](https://www.mathworks.com/help/matlab/ref/integral.html) to compute your PDF's. PS: If you still need `X1` and `X2`, please check out the [rand function](https://www.mathworks.com/help/matlab/ref/rand.html).
In that case, you might consider taking some beginner tutorials. This is a difference between the `*` (mtimes) and `.*` (times) operators. Try switching things to `.*` and see what you get.
Sure. A string is a single object. While at various positions in the string, a character likely exists (unless the string is ""), it is still a single, monolithic object. Functions like `split` and `join` allow you access to substrings (generally also strings) down to single characters. A character vector, in contrast, is a vector (or array) of individual character objects. The vector is itself a monolithic object, but it is defined as an indexed object, something that at any instant in time has a set number of elements, each of which belongs to the array, but may be distinct in other ways. The difference can be subtle, as disp('word') and disp("word") show the same thing at the command prompt, but something like: myCharWord = 'word'; myStringWord = "word"; disp(myCharWord(3)) disp(myStringWord(3)) ...will not work! You will get an error about the bounds of the string, which as previously mentioned, does not have 3 or more elements. Hope that helps!
Do you just want to jam them together? M = [M, A(C)] You have to tell it where to go, otherwise: M(some value/range) = A(C)
That certainly does, thank you!
I'd try something like a Boolean mask, where you get a mask array of true/false to decide where you will fill. How you decide that mask, whether a simple "array=255", or a more complex "where array and neighbouring pixels =255", etc will change your result. Haven't used MATLAB for a while, and there are likely better ways to do it.
When I use M = [M, A(C)] it tells me that "M" is undefined
You're most welcome.
Right, you're new... very sorry about that omission. You'll definitely want to initialize it to something before the loop. An empty matrix would probably work just fine (e.g. `M = [];`). You've now learned a very small, but important thing about variables: they need to exist before you try to use them in expressions. :)
It works. Thank you! :-)
You're welcome.
Just to clarify for those who are wondering, disp(myCharWord(3)) does work, and will return "r", the 3rd entry of 'word'. disp(myStringWord(3)) will not work, because the string "word" is only one object. disp(myStringWord(1)) will return "word". Anybody who has been using MATLAB for a while will just use the former, characters and character vectors. string are relatively new, as someone pointed out. &amp;#x200B; &amp;#x200B;
What happened when you Google that error? Or read the documentation for the \* operator? 
&gt;A character vector, in contrast, is a vector (or array) of individual character objects. True, but misses an important fact that a lot of people don't realize. The `char` data type is a numerical data type, just like doubles or ints. In fact, I'm pretty sure their identical to a `uint16`. The only difference is that when you display it directly in the console, Matlab replaces the integers with their ASCII equivalent; and when you enter a character literal, like `x = 'hello!'`, it translates from ASCII chacters to the corresponding ASCII code. They are *literally* numbers. Like, you can do math with them. Try double('numbers') char('numbers' - 32) double('a') - double('A') And so on. 
&gt; True, but misses an important fact that a lot of people don't realize. Or have forgotten! Very good point, and a useful, additional distinction.
The statement `M = A(C)` means "take the value of `A(C)`, and assign it to a variable named `M`". It always means this. No matter what else is going on, no matter the context, no matter what you want it to mean. All of programming works like this, and I see you've used the = symbol to assign values to variables in other parts of your code, so you know what it does. If you wanted to replace the value of `M` with the value of `A(C)`, what would you have written? The same thing, right? Well in programming, the same code means the same thing *every time*. So if you'd use it to do something else, don't expect it to do something different just because you want it to. If you don't know how to write what you want, try reading the documentation, or think about what code you've used before that might be more like what you want. 
That doesn't sound possible without loops, since if you could sort an array with a fixed number of operations you would be in the running to win a very nice computer algorithm prize.
Assuming all the numbers are real and unique ...and sum doesn’t count as an in built function x(sum(x(:)'&lt;x(:))==1)
For compatibility reasons, I can only work with R2010. Never knew strings are a thing now. Honestly, if you know the right functions and write the functions that are lacking, character vectors are a powerful (enough) tool.
What do the data look like? Are they all structures like Book1 Book2 etc., and you're plotting the same set of variables from each 'Book'? Or do you have a bunch of other variables contained in Book1 and you want to go through a bunch of combinations of them? Depending on what they are you can probably loop through and create your plots. I'll try to help once you some more details. 
It's cheating, but you could just look at the source code for sort.m and see what Matlab did ;).
Would likely involve loops though wouldn't it?
Neat use of implicit expansion. 
If the array was a known length n, you could sort with n! if/elseif's, right? Each if/elseif would check if a new ordering is correct. Absolutley inefficient and wouldn't work for any other lengths though. 
Do you want a guitar or just inputs? If you want a gui you need to use the guide function. If you want command window inputs just use the function called input
&gt; Do you want a guitar or just inputs? I am laughing for real right now. This is the best instance of "damn autocorrect" I've seen in a while. OP: Check out [this launching point in the documentation](https://www.mathworks.com/discovery/matlab-gui.html). Give it a shot, and come back with more specific questions, please.
Lol. I meant GUI.
Strings are nice, but I'd suggest updating for two reasons: 1) Functions don't have to be their own files. Since 2012, I think you have the ability to define a (sub)function within a script (without going through lambdas). My code now makes sense, and I don't have zounds of three or four line files cluttering up folders. 2) Tables were recently introduced, and a pure joy to work with. See: [https://www.mathworks.com/help/matlab/matlab_prog/create-a-table.html]( https://www.mathworks.com/help/matlab/matlab_prog/create-a-table.html ). Mathworks did a demo for us a while ago, and tables were definitely a nice way to store and work with data. I understand if you're stuck, but those two language features are pretty nice to have.
Yeah, I think that was pretty clear from context, but the image in my head of you standing there with a Stratocaster in one hand and a stack of code printouts in the other was too much for half a cup of coffee to combat.
Haha
When you say `a = b`, you assign whatever is in `b` to `a`, regardless of what (if anything) was in `a` before. When you do this in a loop, you are just overwriting the value on each pass. When you go to plot your `n` and `term` variables, since they are each scalar, all you get is one point. You'll probably want to [learn about indexing](https://www.mathworks.com/company/newsletters/articles/matrix-indexing-in-matlab.html) to solve that issue. Since your while loop is still empty, I'd suggest finishing the work you have to do on the for loop first, then just move what you've done in the for loop over and modify it appropriately. You'll have to update the value being tested in the while loop every iteration, otherwise it doesn't make sense; why check a static value over and over again if it's never going to change? Double check some of the examples for the [while loop here](https://www.mathworks.com/help/matlab/ref/while.html).
I'd never use this code in practice but here's one that doesn't use sum. Same assumptions apply. Specifically, this looks for an element for which there is only element greater than it. The x(:)\*0+1 just produces a column vector of ones with the same height as x, using a matrix multiplication to take care of the sum across rows. x((x(:)'&gt;x(:))*(x(:)*0+1)==1) &amp;#x200B;
Hello, the data is set up in a csv book where each column is a chemical data type and each row is a different sample. I just want to plot each column against every other column in a series of scatter3 plots. &amp;#x200B; &amp;#x200B;
That is not what a simulink model is. Granted, I'd expect that any physically realizable system could hypothetically be modeled by a DE of sufficient complexity, but there is no guarantee that an analytical expression for such a DE will always be practical to obtain. Certainly, not by automated means, and not by a tool that isn't designed to do so. 
Thanks for your feedback, and your time. I understand your first paragraph and the information it conveys. In this case, it should be noted that x = user input. Also, as you can see, n = 1:nmax where nmax is set at 12. When I run the code, the output is exactly what I would expect to see for the expansion. \* Result to nmax = 1 is 0.005 Result to nmax = 2 is -1.25e-05 Result to nmax = 3 is 6.25e-08 Result to nmax = 4 is -3.90625e-10 Result to nmax = 5 is 2.734375e-12 ... \* So, I am confused as the indexing suggestion. n here shouldn't be scalar, correct? Since I have set it to equal 1:nmax, where nmax=12. Also, term is scalar since it is just a number as a result of the chosen x value and the particular n value from 1 to 12 (as displayed in output 'Result to nmax = ...'). So I am still struggling to see how and where the indexing is wrong. My code also more or less correlates with some of the examples I have in the literature. But you're right in that I seem to have an empty loop when I go to plot. &amp;#x200B; &amp;#x200B; &amp;#x200B;
&gt; Since I have set it to equal 1:nmax This is the assumption that's causing you trouble. Look at your Workspace after running your script. You will see that `n = nmax` (not `[1, 2, ..., nmax]`) after the loop. Why? You can check the [for loop documentation](https://www.mathworks.com/help/matlab/ref/for.html) or use [breakpoints](https://www.mathworks.com/help/matlab/matlab_prog/set-breakpoints.html) to step through and see the value of `n` at each iteration for help with this question. When you make the call to plot, it's doing exactly what you asked it to do: plot the single point (`nmax`, `term`). If you'd like it to plot each `n` against each corresponding `term` result, you will need to use vectors, not scalars. This is why I pointed you at the indexing article.
Okay, I think that should be doable easily enough. But before I give you some steps, I want to make sure that I'm actually understanding what you have and what you're looking for, because what I'm visualizing isn't quite consistent with the example that you gave in your post. I'll explain what it sounds like to me, and then you can correct me and let me know where I've misunderstood. So you have a csv file, and in it are a number of columns (I'll call C1, C2, C3,...) and a number of rows (I'll call R1, R2, R3,....). You'd like to read all of the rows for a given column in as a vector, so you'll have (for example): `C1data = [C1R1, C1R2, C1R3, ....];` and `C2data = [C2R1, C2R2, C2R3,...];` and so on for all of your columns. Then you want to create a scatter plot for each different combination of columns and save it. So if you had 3 columns, you'd want to create the following scatter plots: scatter(C1data,C2data); scatter(C1data,C3data); scatter(C2data,C3data); But you don't just have 3 columns, you have a lot. And because you have a lot of columns, you don't want to write out all of the combinations manually; instead you'd like Matlab to run through all the combinations automatically. &amp;#x200B; That's how I'm interpreting your request, but I don't think that's exactly what you want. The reason that that doesn't seem correct is because in your original post, you have a scatter of 4 different types of data (x,y,z,C) instead of just 2. So what have I got wrong?
Thanks. I can see exactly what you're saying, and I've tried a number of things based on my own literature and on the reference links your provided. In my textbooks, the examples provided do it exactly as I have done. What confuses me is when I take their code and run it, their n value is also set as a scalar. This is what has me so confused. \*\*Example from book\*\* x = input( ’Enter a value for x: ’); expx = 1; % initialise expx as the first term in series term = 1; **for n = 1:10** term = x\^n / factorial (n); % nth term in series expx = expx + term; % add to previous total disp(\[ ’Result with ’ ,num2str(n) , ’ terms is ’ ,num2str( expx) \]) ; end disp(\[ ’exp( ’ ,num2str(x) , ’) = ’ ,num2str(exp(x)) \]) ; \*\*\* I understand the general premise that for example for k=1:2:9 % do something end should run from 1 to 9 in 2 steps sizes as the for loop documentation explains. I understand completely that, in my case, n is a scalar and that is wrong. But I am lost. &amp;#x200B; &amp;#x200B;
MathWoker here from the MATLAB Online team. When you purchased your student license to MATLAB, it came included with access to the Software Maintenance Service for the first 12 months ([https://www.mathworks.com/services/maintenance.html](https://www.mathworks.com/services/maintenance.html)) which provides a number of benefits, including access to any versions of MATLAB that come out during that time, as well as access to MATLAB Online. After the initial 12 month period, an annual fee is required to renew your Software Maintenance Service (SMS). If you do not renew the SMS, then you have a perpetual license, as you've indicated. These licenses provide the right to use the software indefinitely, but you cannot upgrade to a new version, and you cannot access MATLAB Online. The fact that you do have access to MATLAB Online would mean that your MathWorks Account is linked to your university license (which could be the Total Academic Headcount type), which is what is continuing to grant you access. I hope this answers your question.
&gt; Is it because I am not creating the correct valarray, such that " For example, on the first iteration, index = valArray(:,1). The loop executes a maximum of n times, where n is the number of columns of valArray, given by numel(valArray(1,:))." No. This is far more than what you need to solve your problem, and just allows you to have a vector of index values (a single column of `valArray`) at each iteration (over `n` total columns). This is not useful to you. You only need a single index value at each iteration, and the vector you've created (`n = 1:nmax`) will give you just that. For what the example you pasted is trying to do (which is *almost* exactly what you've done for part a), the code works perfectly. It tells you at each step, in the Command Window, what number of terms is used, and what the approximation is with that number of terms. Where your homework diverges from the example, however, is in *keeping track* of each step. The program has no memory of what values came before. Nor should it, as written! The problem to be solved, then, is how to force it to "remember" all the intermediate results so that they can be plotted against the number of terms used in the approximation? Enter vectors. You have how many iterations/terms? Make a placeholder vector of the appropriate size before the loop to hold onto your answers at each step. I like to use the [zeros function](https://www.mathworks.com/help/matlab/ref/zeros.html) to do this kind of thing, myself. Fill in the appropriate spot in this placeholder vector on each iteration of your loop. Think of this vector as a sequence, if it helps. The n^th term of the sequence goes in the n^th spot in the vector, with the value at the index of `nmax` being the "final" approximation result.
Exactly, but C is the same for every plot, whole x y and z will vary as you said, different combinations of columns.
Oh! I think I see what you mean! I've been encircling this, trying to use the mat function as found in this tutorial: [https://blogs.mathworks.com/videos/2011/03/09/how-to-store-a-series-of-vectors-from-a-for-loop/](https://blogs.mathworks.com/videos/2011/03/09/how-to-store-a-series-of-vectors-from-a-for-loop/) So far I've not had success, but I understand that I need to store a a vector from the loop. What I haven't tried is the zeros or one's function. So, what you suggest makes a lot of sense, I just couldn't quite put my finger on it (so to speak). I'm going to take a 'pause' and look at it tomorrow morning with fresh eyes. Thanks again for your time, suggestions and support. &amp;#x200B; 
Have MATLAB send a serial message back to the Arduino.
Clear explanation, thanks. &gt; That is not what a simulink model is. I stand corrected. It is the way I use it, mainly, though. &amp;#x200B;
I have faith in you! You seem to be suffering only from being a novice. :) By the way, that's a great video, but the video linked in the post's first paragraph is even better suited to your application. I'm happy to help. Go ahead and reply here if you get stuck after trying again, or you can make a new, updated post with your new code if you'd prefer.
Love your user nane
A better way to do this would be completely without syms. Make your script a function that takes in a function handle and approximate the Jacobian with finite differences. Going from a string to a function sounds like a huge pain in the ass and syms is slower than a function handle anyway
Yeah, agreed with the other poster, you should probabyl do this without syms. Honestly, this problem is solved by basically everyone that takes numerical methods or anyhting like that. Try googling "newton raphson matlab" and you'll probably find some good resources.
Ah, okay. So z is another one of the columns but C is something different. Since you have axis names, and you mention saving the file based on the variable names, I'm guessing that the csv file has headers for each column with the variable name? &amp;#x200B; Here's the beginning of the coding for the basic strategy I would try to use here (though it's not the only approach). Obviously this is still incomplete - it's just to give you an idea of what I'd do. You can then read up on the relevant functions, or you can ask questions and I'll go into more details. &amp;#x200B; % read in csv file as matrix, ignoring the header row: M = csvread(...) % read the heading row of the csv file in as a cell vector of text entries (i.e. the variable names) varNames = ... % get the number of columns of the matrix: N = size(M,2); % create list of all possible combinations combs = nchoosek( 1:N, 3 ); % loop through all combinations and create plots for n = 1:size(combs,1); % get variable names xName = varNames( combs(n,1) ); yName = varNames( combs(n,2) ); zName = ... % get variable values x = M( :, combs(n,1) ); y = ... z = ... % create plot scatter3(x,y,z); % label plot xlabel(xName); ylabel... ... % create filename and save fName = sprintf('%s%s%s.fig',xName,yName,zName); saveas(fName); end &amp;#x200B; &amp;#x200B;
I should point out that if your csv file has 50 columns, and you want to take every possible combination of 3 different columns and plot them, then that's A LOT of plots. You might want to think about how many that is before starting the process.
Really neat solution.
Can you just do like a: myVec = textread('myfilename.txt','%d'); for ii = 1:length(myVec) fprintf('%d\n',myVec(ii)) end I'm not totally sure if I understood your question, but that's my best attempt at understanding it...
On the arduino, I am aware of the PortManipulation reference: https://www.arduino.cc/en/Reference/PortManipulation which allows faster reading/writing to pins. I do not know if there is an equivalent command in the matlab-&gt;arduino interface. but somewhat as /u/St_maunsell stated, you could just establish a serial link between matlab and the arduino. that way you don't need to overwrite the arduino sketch. 
You only have to initialize 'a' once, but sounds like you are doing it every time you try to set a pin to high or low, and it is not surprising that that would take forever (can't say for sure, though, since you have not really posted any code). I have not tried using the arduino library in MATLAB (I use python for this sort of thing), but I suspect writeDigitalPin will be faster if you are not re-initializing your serial port connection every time you change the pin value. &amp;#x200B; If this is not the case, then send a character over the serial port and just check for values in your main loop inside your arduino sketch. If it receives the appropriate character, you can just set the pin onboard the arduino. If you want to toggle, you can either have a 'last\_state' variable or keep track of its current state in MATLAB and have different characters for setting pins high and low. 
https://ocw.mit.edu/courses/mathematics/18-s997-introduction-to-matlab-programming-fall-2011/root-finding/newtons-method/ Contains (poorly formatted) Matlab code. f(x) and f'(x) are hard coded, but putting them in functions should be straightforward.
I'd start by looking at [min](https://www.mathworks.com/help/matlab/ref/min.html) and [max](https://www.mathworks.com/help/matlab/ref/max.html). 
You're looking for a combination of the second and fifth syntax options given in [the documentation for max](https://www.mathworks.com/help/matlab/ref/max.html#bubhhu5-1-I). (min is similar)
Do you by chance know if those numbers were for 6 or 12 workers? I found that going from 14 workers to 28 workers decreased times by ~25%. (this is pretty standard - in my experience each "hyperthreaded" thread on average does about 1/3 the work of a " standard" thread, (not that threads are actually differentiated like that, but you get the idea), so doubling to 2 threads per core gives 4/3's the power (on average) and things finish in about 3/4 the time. Assuming this is the case, if you wanted to compare the "equivilant time for a chip with the same number of cores", youd scale one of the results by `(14 / 6) * (4 / 3) = 3.111x`. Scaling your average times by this gives 4.7 sec for test 1 (about 50% slower), and 1.87 sec for test 2 (which is basically identical: ~2% faster). Its hard to say why test1 is slower, but id guess it is either that a) the test is memory bound (meaning the increases bandwidth of having quad channel ram vs dual channel ram actually matters), or b) this is a use case that benefits more from having more L2 cache. Skylake-x redistributed the cpu cache layout (more L2, less L3, sometimes helps, sometimes hurts), but if it means something can stay loaded in cache instead of being repeatedly re-read in from memory that can, on occasion, make a noticeable difference in run time. &gt; Still wondering what the performance on a intel 8700 or a intel 9900 would be because i need to get an upgrade anyway in the near future. Id guess the "per core compute" is probably similar to what im seeing, just scaled back by a factor of `6/14` or `8/14`.. depending on which chip your comparing it to. I dont think these tests use avx512 at all, and so * the newer intel chips will benefit from a bit higher clock speed (mine runs at 4.28 GHz all core for standard operations, vs 4.6 (allcore) / 5.0 (turbo) for the i9-9900k) and a few architectural improvements that increase IPC by a bit, * my i9 has the advantage of higher memory bandwidth and(on average) perhaps a slight overall improvement from the L2/L3 cache re-tooling. Its hard to estimate how much each of these things matters,n but i wouldn't be surprised if they roughly cancel each other out (on average).
This is my very first assignment in MATLAB. What I have done is: A) Function [Current] = (t, R, Vs, C) [Current] = (Vs/t).*exp(t/R*C) B) t = 0: 0: 200; R = 18000 C = 0.003 Vs = 20 [Current] = (Vs/t).*exp(t/R*C); Current; Then I tried running, but I keep getting an error in the function, I know I need to have a variable/function before the bracket but I have no idea what that is. 
You should look into Mathworks and Stack overflow for simple questions like this. Also the Matlab help guide. It'll be faster than Reddit users answering your question. 
You can specify a direction to search for a max/min. E.g max(myMat, [],1) will give the max in each column 
Thanks!
Wow...I did not know that is could be that simple. Thank you a lot for helping me with this!
Seems stra gr. Can you post a screen shot of the pid model used and the transfert func of the system? 
Two questions: - What is it that you are controlling and how would you characterise it’s derivative? - Are you using the PID block, or are you implementing your own piece of user-defined code/user-defined nonlinearities? A suggestion I have without knowing the answers to my questions, graph the three components P, I and D. As someone else said, put up a screen shot.
Heyo im German can u send me more informations in German may or may not I can help u :)
I'm still stuck, I'm afraid. I've gotten closer, I think, especially when invoking the zeros function. But I can't get the programme to work correctly. My code is a bit of a mess, because I have been experimenting. But this is an example, where I am trying to use to the zeros function to store my incremental results. It is displaying some output, but I am also receiving an error regarding number of array elements. &amp;#x200B; %Add for loop, expand sqrt(1+x) nmax = 12; %Set upper limit for n vec = zeros(1,12); %zeros to store incremental results symsum = 0; fprintf('Result of binomial expansion for chosen x up to x\^12:') for n = 1:nmax; term = ((-1)\^(n) \* factorial(2\*n)) ./ ((1-2\*n)\*factorial(n)\^2 \*4\^n) \* x\^n; vec(n) = term disp(\['Result to n max = ', num2str(n), ' is ',num2str(term(n),10)\]); &amp;#x200B; end
Looking at the closed form transfer function would help. If you have a transfer function G and you're using standard PID control your control block diagram for PID would be C = Kp + Kd*s + Ki/s That integral gain adds another pole to your transfer function and when you close the loop your closed loop transfer function would be GCL = GC/(1+GC) Your closed loop poles would then be where 1+GC = 0 which means that your closed loop dynamics all depend on the transfer function G. We can't comment as to why you're experiencing the phenemona unless you give us G. 
You wouldn't be able to automate this process but you could do it by hand. Take every block and compute the transfer function (assuming it's linear) and then combining all the blocks yourself. If the system is nonlinear you could just change every block to affine form and combine into one big derivatives routine
Yeah, I'm definitely stuck. I've been messing around for some time without success, and my literature isn't offering clear guidance. I'm at the point where my code is getting worse and worse.
I'm not sure what you mean by correlate. It sounds kinda like you mean average, in which case the ``mean`` function can do that (or any of the other average functions if mean isn't what you're after) - the documentation should provide guidance on how to perform the mean over the fourth dimension. Though this wouldn't use your TIME variable - maybe it would be helpful for you to clarify what correlate actually is? A combination of ``max`` and ``find`` should help you find the voxels with the maximum value - if you need the x,y,z coordinates of the voxel then ``ind2sub`` can be used for that.
It might be nice for you to also compute the analytical value so that you can check your work. You can then plot a [refline](https://www.mathworks.com/help/stats/refline.html) using a slope of zero and intercept of the analytical value. If your plot approaches the refline, you can be certain you've done it correctly. If it doesn't, then you know your formula needs adjusting. You can choose to keep or discard the refline for your final submission. One note: the binomial theorem says that you can represent any number using a *sum*, generally infinite, but to some degree of accuracy with a truncated infinite sum, depending on the value of x (i.e. around some region of convergence). I still don't see where you've added your terms together, which is what I alluded to when I said you did *almost* exactly the same thing as your book's example.
First of all your code is fairly clean and relatively well commented. I think the root of the glitching is that your time steps are too large. If the velocity is too high when a particle is at a boundary, then the particle's distance from the boundary will be slightly larger than the distance step on the next interval. It would be best to decrease the time step (I see a marked improvement with dt = 0.01), so that the change of position on each step is smaller. Another improvement I see is making the velocity direction change at a boundary dependent on which boundary is hit. For example, if the particle's y position is less than zero, set vy to positive rather than just flipping its sign.
Another way to do it would be to, whenever a particle gets to an edge (or it's new position is just over the edge), change its position to be on the edge. The weird zig-zagging motion you see when things glitch through is because the flipped velocity can't get the particle back into the box causing it to just flip velocity over and over at each time step. Since y is between zero and 500, you can do this, e.g. for the y-values with: `y(y_hits) = y(y_hits) .* round(y(y_hits) / 500);`
This is very much an introduction to discrete element modeling.... I would highly recommend using a smaller time step. You may also want to try a different update scheme to integrate your particles. I would recommend the velocity verlet update vy=vy+0.5\*g\*dt; x=x+vx\*dt; y=y+vy\*dt; vy = vy + 0.5\*g\*dt; This will give you a second order update method (in practice you only need to calculate the physics once per step) &amp;#x200B; You will also run into a problem once your particles have a low vy value as gravity will continuously try to pull your particles through your bottom wall. I would suggest putting in a check that stops vy calculations if abs(vy) &lt; (some tolerance).
have stepped through the script? you will be able to identify the line thT throws out NaNs
I think I've figured out the why. Seems like it may not be the code, might actually be my math. Some of the equations seem to be dividing by infinity. Just need to figure out which ones. 
well good luck
Thank you
Just posted a screenshot, sorry if it's confusing I'm trying to teach myself matlab/controls
I'm trying to control an idealized inverted pendulum system. I'm using the PID command on matlab. I posted a screenshot if you want to check it out. Thanks!
Ok I think I get what you're saying, that makes sense to me. I posted a screenshot if you'd like to take a further look. Sorry if it's confusing I'm trying to teach myself matlab/controls and it's been a process.
end is the last index. Say that m = 3 and A is a 5x4 matrix. A(1:m,end) is a 3x1 column vector consisting of the first 3 rows of the last column of A. I can't say for certain what debug is, because its passed into your function as an input. It would have to be a boolean true/false.
So in your A example, A(1:3, end) refers to the top three elements of the rightmost column of A?
I'm not going to read all that but you could either use the debugger with break points by clicking on the line number in the editor... or just dump stuff to stdout by inserting lines like printf('variable Vm is %f\n' Vm) every once in a while to check the math at intermediate steps.
Yes. For reference: https://imgur.com/a/jJ2AxgW 
^(Hi, I'm a bot for linking direct images of albums with only 1 image) **https://i.imgur.com/GrlV4xc.png** ^^[Source](https://github.com/AUTplayed/imguralbumbot) ^^| ^^[Why?](https://github.com/AUTplayed/imguralbumbot/blob/master/README.md) ^^| ^^[Creator](https://np.reddit.com/user/AUTplayed/) ^^| ^^[ignoreme](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=ignoreme&amp;message=ignoreme) ^^| ^^[deletthis](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=delet%20this&amp;message=delet%20this%20ebo473r) 
Ok yeah thanks for the screenshot. So you're basically doing an inverted pendulum. Your open loop transfer function has two poles or roots. The first is messy and the second is -messy. Poles are defined as the roots of the denominator. Anyway. Your system is second order which means you have two poles. In order to have a stable system all poles must be negative. In this case one of your poles I positive hence needing PID control. The thing with PID control is that it adds another pole which means your system is third order and thus all poles must be negative. The other wierd thing about PID is that it adds a zero to the system. Zeros are also wierd. Anyway, when you set your PID gains your moving around 3 poles and 1 zero. The zero can go wherever it wants but the 3 poles all have to be negative for the system to be stable. Because your system is third order getting closed form expressions is difficult but you can get trends from something called the Routh Hurwitz criterion. It's a pretty standard method in any controls textbook. If you want to use a numerical method you can use rltools or sisotools which is probably installed on your computer. Also I don't think you're actually using Simulink. I think you're using the control system toolbox. They are related but not quite the same thing. I teach this at the graduate level so I have a lot of information to give but hopefully that will do for now. 
I believe he wants us to use the corr2 function to correlate the TIME data with the timepoints data in the REF variable (the 4th dimension). I was confused about this too so i pushed for some more info and here's what was provided as a "template" with the following "hint": "In the m file, the three for loop accesses three different dimension of the data and the fourth dimension represents the time domain which needs to be correlated with the reference time series. The only change one needs to make is add an if loop in the inner most if loop/" &amp;#x200B; I assume that last sentence is saying to add an if loop into the inner most "for" loop. How does this help me correlate the TIME data with the 4th dimension of the REF data? &amp;#x200B; motor=rand(32,32,18,45); \[l,m,n\]=size(motor(:,:,:,1));% Calculate size of first three dimension so data %l=32- X direction %m=32 - Y direction %n=18 - Z direction REFFILE=rand(1,90) for i=1:l %%%%x direction count=0; for j=1:m %%%%y direction for k=1:n %%%%z direction motor\_dt(1,:)=motor(i,j,k,:); motor\_corrvalue(i,j,k)=corr2(motor\_dt,ref); end end end &amp;#x200B; &amp;#x200B; &amp;#x200B;
I would say try instantiating an array of gobjects, then you can iterate through and position them based on the size of the array. Once you have done that all you need to do is reduce the size of the array by the number of sticks picked up and reposition the sticks however you want. I would recommend making the sticks with patch objects as they will easily transition to 3d if you want
Well it does provide some background but I bought a separate $100 annual student Matlab/Simulink license which was not related to my University's site license. With this individually bought license I created my Matlab Online account and used it and expected it to expire with my student license after a year. But I still have access to it but as expected I can not open Matlab with the student license I bought because it was an annual license which is now expired. I do not think a perpetual student license exists. My license page term does however say "perpetual" yet I can not open Matlab anymore at all. I can see if I paid for a home version that it would do what you say, stop updating but retain access. But I have an annual student version. So it saying "perpetual" on my license screen is perplexing. So I ran out of my $100 worth of Matlab which is fine. I expected that after year. I can't explain why my Matlab Online still works though unless it is because Mathworks knows I'm on my campus which does have a site license. I haven't tried the software off campus but will report back when I do sometime next week. Or is my "perpetual" Term describing my Matlab Online access? I appreciate your response Sir. 
how about a GUI? 'guide' in console opens the gui development environment. You basically create a stock figure (many skinny vertical buttons for your purpose?) and then you access them and edit / engage / run code in a .m file that runs alongside the gui figure. There's a bit of a learning curve on using handles and tags to address what you want, but it gets easier the more you do it. [https://www.mathworks.com/discovery/matlab-gui.html](https://www.mathworks.com/discovery/matlab-gui.html)
Have you tried any search engine? This is the top result for "Matlab GUI" https://www.mathworks.com/discovery/matlab-gui.htm Also, avoid GUIDE if you use modern versions, App Designer is way more optimized for GUI creation
Presuming that ``ref`` is supposed to be your time points (and is actually the same length as your 4th dimension of ``motor``) then this will calculate the correlation coefficient with no changes. The ``if`` loop would seem to relate to the way your professor wants the maximum to be found, i.e. simply testing if the value of ``motor_corrvalue`` just calculated is higher than the previous higher one - this will then allow you to store the corresponding value and i,j,k.
Please no, the mlapp designer is really kinda terrible as of right now. I have found that it makes it difficult to make relatively positioned uicontrols. I think the app designer is almost more of a learning curve because now OP would have to learn object oriented matlab.
A nice function I like is the find(isnan()=1) function. That can quickly find the indices where something is going NaN. 
Thanks - things seem to be running a lot smoother now! 
Thanks for the suggestion - I've implemented that now
how about nto using inputemu, but the set like this: &amp;#x200B; %move right set(0,'PointerLocation',get(0,'PointerLocation')+\[100 0\]) %move up set(0,'PointerLocation',get(0,'PointerLocation')+\[0 100\])
I'm interested in what your game looks like. I feel like I'm always stuck using the same functions. 
Your system transfert function as a negative steady state gain. Multiply it by minus one and it should be fine
Do you have other licenses listed in the License Center? That might explain the access to MATLAB Online. Also, when you say you can't access MATLAB anymore, do you mean that you can't access an installed version of MATLAB? Or are you referring to something on the [MathWorks.com](https://MathWorks.com) website?
Hey, thank you for these sanity checks AWildPlotAppears... I was mistaken, you are correct. The $100 student suite is indeed a perpetual term license as indicated in my license center and I can open an installed version of Matlab now 15 months after my benefactor purchased me that license. Perhaps I mistook the service message which appeared in Matlab after one year warning me that it was ending for my access being terminated all together. I'm set, and can now proceed with exploring my next topic of study here at the UC Santa Cruz on Energy Generation and Control. I appreciate your time! P.S. Upon receiving the message in matlab which I apparently misinterpreted but understand now thanks to you, I switched over to checking out licenses from my University. That worked well for a month until my school for whatever reason then decided students needed to use the schools VPN to check out licenses which I don't want to do. That's when I switched to Octave for a few months after which I found out I still had "inexplicable" Matlab online access. Anywho, I'm almost back to using Simulink now.. 
While that's true, I think in this case the `end` is ending the `if` statement, not indexing into a variable. 
My guess is the [content] is a bunch of print statements? In that case, most likely the script can run one of two ways- just running like normal, executing the script and then having a result returned. However, it can also be run to print diagnostics- either to the screen or to a file perhaps- to help with debugging. 
&gt; I have tried wiener,medfilt etc but not getting anywhere. What do you mean by 'not getting anywhere'? What is your desired result, and how is your current result not matching that?
I can't see any obvious distortion, only noise which seems pretty uniform. You can Google around for denoising or noise reduction techniques. https://en.m.wikipedia.org/wiki/Noise_reduction
The desired result is to recover the image above to make it as similar to the ground truth image as possible. My current result isn't matching it because it either removes the noise/distortion the tiniest bit or makes it more blurred
Yeah i think its majority noise specifically salt and pepper
Gotcha. This is a common issue with many denoising techniques. I've found that currently, machine-learning approaches tend to work the best for more general cases (some more specific filtering techniques may work, but often it's hard to find the correct one for the specific image and noise combination you're working with). This may be a good start: https://www.mathworks.com/help/images/remove-noise-from-color-image-using-pretrained-neural-network.html
I looked at that neural net technique before but didn't seem to work, not sure if i was doing something wrong. Can you tell what would be the best way from the image and how to go about it
Here's my best crack at it, median filter to remove the harsh noise, then an edge preserving gaussian filter. You can read more about the second filter [here](https://www.mathworks.com/help/images/ref/imbilatfilt.html), I basically copy and pasted the whole section from the 'color' part. You can probably play around with the values to get it to turn out better. `%% Read and display original image` `x = imread('penguin.jpg');` `figure; imshow(x);` `%% Perform 3D median filtering to help remove harsh, spotty noise` `y = medfilt3(x, [5 5 3]);` `figure; imshow(y);` `%% Smooth image using bilateral filtering to preserve edges` `% Convert the image to the L*a*b colorspace, so that the bilateral` `% filter smooths perceptually similar colors.` `yLAB = rgb2lab(y);` `% Extract an L*a*b patch that contains no sharp edges.` `% Compute the variance in the Euclidean distance from the origin, in the L*a*b space.` `patch = imcrop(yLAB, [40 40 100 100]);` `patchSq = patch .^ 2;` `edist = sqrt(sum(patchSq, 3));` `patchVar = std2(edist) .^ 2;` `% Filter the image in the L*a*b* color space using bilateral filtering.` `% Set the DegreeOfSmoothing value to be higher than the variance of the patch.` `% The spatial extent of the filter can probably remain a small value, as the noise is fine-grained.` `DoS = 4 * patchVar;` `extent = 2;` `zLAB = imbilatfilt(yLAB, DoS, extent);` `% Convert the image back to the RGB color space, and display the smoothed image.` `z = lab2rgb(zLAB, 'Out', 'uint8');` `figure; imshow(z);` `imwrite(z, 'penguin_fixed.jpg');` &amp;#x200B; I don't have access to imgur at work, if somebody knows how to post the final result in this comment I can throw it in
It has a full tutorial in the link, I'm not sure how much more help I can give without just doing it for you. &gt;didn't seem to work Again, this sort of information isn't helpful to us helping you. You need to describe what you tried and what didn't work. 
For an easy and fast solution maybe you can tray another filters like gaussian or [weighted median](http://www.cse.cuhk.edu.hk/~leojia/projects/fastwmedian/index.htm) , which preserves edge while denoising. Also if you know the noise source or type, you can select a filter that gives you a better result (the noise is impulsive, additive or speckle?)
Thanks, i will have a look and play around tomorrow. Great help
think i will try gaussian!
You can't do this exactly, but you can [create your own toolbox](https://www.mathworks.com/help/matlab/matlab_prog/create-and-share-custom-matlab-toolboxes.html) which then all the functions are available anywhere, or you can create a [classdef](https://www.mathworks.com/help/matlab/ref/classdef.html) which you can't import but you can access by `class_name.function_name`. 
You can add the folders containing those files to the working directory of Matlab. This enables you to use them as you need them on that machine.
I think you do. Suppose I'm in a parent folder containing a function file run_me.m and a subfolder support_func that has a bunch of .m function files that I want to use in run_me.m, How do I do that?
I've done similar things with **addpath()** This lets you add tools, and you just need to organize things in directory structure.
I came up with this and it seems to work: Write a function support_funcs.m that returns handles of local functions inside it. These handles can now be called outside support_func.m (but still in the same folder). Proof of concept: Save the code below as support_func.m ______________________ function sf = support_funcs sf.add1 = @add1; sf.add2 = @add2; end function f = add1(x) f = x+1; end function f = add2(x) f = x+2; end ________________________ Save the code below as compute_stuff.m _________________________ function [plus1,plus2] = compute_stuff(x) sf = support_funcs; plus1 = sf.add1(x); plus2 = sf.add2(x); _____________________________ Entering [plus1,plus2] = compute_stuff(1) at the command line produces plus1 = 2 and plus2 = 3,
I figured out a workaround in my comment.
I figured out a workaround in my comment.
I figured out a workaround in my comment.
Try plotting Nrg after having it defined (move the plotting part to the bottom of your code)
Thank you SO much for pointing me in the right direction. I'm pretty confident I figured it out with your help.
This is so elegantly simple! Thank you so much, worked like a charm
I like MATLAB, but it's beyond my price range as a hobbyist. 
It already is being plotted (or well should be) before Nrg, is it not? The graph isn't updated until drawnow - Nrg is defined before that.
It already is being plotted (or well should be) before Nrg, is it not? The graph isn't updated until drawnow - Nrg is defined before that.
Will also add once I performed the above action I deleted the part of my script that saved the table
Well, it depends on what you mean. Are these regions contiguous? What are you looking for? The minimum distance between ANY two elements? The minimum distance between the elements center “mass?” If it’s the former, then you (unfortunately) like all problems have to either brute force, cook up a function that gives you an answer from a known context within the problem, or (my favorite) estimate. Cheap solution: a few thousand pairs from each and record the minimum.) Expensive solution: cook up a script to identify the pixels / voxels on the boundaries of the regions. Sample THOSE. Potentially cheap solution: Write a function that takes an NxN size square (or xN cube) from your image and returns a 1 If both sets show up inside. Do a cheap loop through your image (not pixel by pixel, you can skip some.) Keep scaling down the squares until the loop doesn’t return a 1 (to some threshold.) 
Yes, they are contiguous. I figure out a way. I can calculate segment regions based on their color, then find the boundary using bwboundaries function. Next, I can march along th boundary and check neighboring pixels color to see what region they belong to. This will give me an estimate of the fraction of contact between regions. 
I’m being downloaded because I misread your question. I thought you were asking for the distance between two regions not border length. 
What I would do is this: say that you have a single array A that has a different value (1, 2, 3, 4) for the different colors. Take the gradient of your image: [Ax,Ay]=gradient(A); G=(abs(Ax)+abs(Ay))&gt;0; Now you should have a binary image with value 1 along all borders, and 0 elsewhere. Break G into connected segments: L=bwlabel(G); Loop through each segment, thin it down to a single pixel thickness, then determine the number of pixels, which should be (approximately) your border lengths. lens=zeros(max(L(:)),1); for i=1:length(lens) L_curr=bwmorph(L==i,’skel’,Inf); lens(i)=sum(L_curr(:)); end You can also look at specific borders by only looking at specific pairs of colors, e.g. if we only want to look at borders between red and blue regions, for which I will assume that A is 1 and 2, respectively, then we would define A((A!=1)|(A!=2))=-1; And then after calculating G, we would filter out the non red-blue borders using G(G&gt;1)=0; Note that for other pairs, you may need to adjust the values that you assign to A and the threshold that you use for filtering on G 
Thanks, this seems logical. I already wrote the code using bwboundaries. I guess your approach is much faster, and it is more neat. 
It's difficult trying to imagine what may have happened as a result of some random button clicks. How about you tell us the problem this is causing you, and what you would like to achieve? 
This is kind of hard to make heads or tails of. So to provide any sort of help, I'll ask a few extra questions. Did you delete the table from your workspace? Is it still there? &amp;#x200B; Is there a new variable in your workspace that is a cell array that looks like it is a subset of your table?
There are two other way to do something similar to this. One is with a class. You can create a class with only static methods, then just call it with `class.method`. The other is to use packages. You put all your m files in a folder with + at the beginning of the name, and you can use them similarly to python modules (although they don't support relative imports and some other import styles python supports).
What was the final script you put in the command window?
If you used bwboundaries, then it should give you a matrix of the coordinates of your masks made for rois. I have a method that will work, but is rather inefficient: Just use nested for-loops to go over the coordinates of both masks. At each step measure the least squares distance between the pixels you are on at the loop, and then find the smallest distance between any two entries in either roi mask. That should give you the length between borders of 2 rois. Hope that helps. Cheers.
I don't understand why you wish to make these changes, but the easiest way to alter the plot display is to change the zticklabels. h = gca; h.ZTickLabels = cellstr(num2str([0:10:40]')); For a more complete solution you would want to use hist3() to produce the matrix and then setup your own histogram functions using bar3().
Ultimately you want a function with the given name and inputs. This isn’t hard, just look up functions in the help browser. That should prob be your last step. First, make an m-file that does what you want the function to do, assigning values to the inputs, and once it works, you can comment out the variable assignments and convert it to a function. I would suggest the following: - Look up *line* and figure out how to draw a line between 2 points. - Think about *theta* and determine its range and how to divide that into a list of *n* numbers equally spaced. - using the list of *theta*, and the *x* and *y* equations given, generate x/y pairs and draw lines between them. - look at the *line* documentation to specify colors - convert from fixed values to user-specified values and change to a function
I am implementing a counting algorithm for material fatigue analysis, used to quantify damage and ultimately predict the life span of a machine part exposed to random loading within certain stress bounds. Some of the cycles should be counted as a full cycle, however the rest must have their number of occurrences cut in half, the full cycles (in terms of stress amplitude and mean stress) must be displayed with the half counted cycles on the same histogram. So you take a bunch of random data and separate the full cycles from the rest, divide the remainders by two, concatenate them back together and display them on a 2D histogram. &amp;#x200B; With that said, your suggestion to use bar3() works! Thank you!!!
reshape function, or just x(:) is what I do
In your particular case, you should use the squeeze(x) function to remove unnecessary matrix dimension
You need to give more information for anybody to be able to answer.
Yeah sure... Actually I'm developing a project on image feature extraction and enhancement in that it contains some features like colour,shape, texture, edge etc in that for colour rgb and hsv are different techniques in the same manner how can I add some different techniques to find shape of an object in a image?????
why did u make 2 threads tho........
I'm still not sure what exactly you are trying to do. You want to know if methods exist to extract the shape of an object in a picture?
You can implement edge detection to find the boundaries of the image and then develop a classifier to parse through your bounded images and determine what the image is.
Are you familiar with PCA? There has been a lot of research into taking multi-dimensional data and reducing it to a lower dimension. This may help. [MATLAB PCA Function](https://www.mathworks.com/help/stats/pca.html)
Hope this helps.... https://stackoverflow.com/questions/16320375/convert-matlab-char-array-to-string
Thanks! I'll try it when I get home. I didn't know exactly what to search for
Show an example of an image. Depending on the complexity of the features you are trying to find, you might be able to simplify your algortihm by looking at a single color channel.
Project Document and Code: [https://drive.google.com/file/d/1yjmixnCYuJWcA5MDNQqh0tjmOyX1wXE\_/view](https://drive.google.com/file/d/1yjmixnCYuJWcA5MDNQqh0tjmOyX1wXE_/view)
Sprintf 
Ok thank u I'm still planning on that project if any doubts occurred then I'LL definately ask u....
Yess sir
Sry ?
I wouldn't do it since it leads to mostly round (maybe kind of potato shaped) segments because the underlying mathematics of k-means dictates this. Your real image segments will probably be shaped quite differently though.
Do you know how to set the range of each membership function?
It is not possible???
Sure it is
Okk u know image processing technology?
Sure. (Your follow up questions are ultra generic and pointless) 
Ok I have some doubts regarding image processing sir
I have found it to be useful for color-based segmentation (i.e. clustering colorspace 'vectors') . If you can game whatever your image is to have well defined color separation and minimize the number of colors you have, it is quite powerful. The problem with it is that it is seeded randomly, and the 'clusters' it returns are not in any particular order for a given image. It requires a decent bit of supervision, and is not very fast, but is pretty straight forward. I used it to perform supervised tracking that was eventually used as a training set for machine learning based approaches to rapid automated feature detection. 
Ok can I get that coding easily?? Or it will be very difficult??? Bcz I'm very weaker in coding so I have to get that code easily
You can literally do it in one line with the kmeans() command. 
Ohh is it possible???
https://www.mathworks.com/help/stats/kmeans.html
Thank u sir
Thanks sir thank u so much
It's typically not a best practice to have clear all in your scripts that are to be shared. More frustrating to those who run them. I typically run a setup file that sort of acts as an initializer. If a var exists then do a clear all since it's me otherwise only close all clc. 
`clear all` does clear more than just variables, though I'm not sure what it all encompasses. I know if you use some custom java classes or such (e.g. javaaddscript) clear all will delete all those, while clearvars will only clear workspace variables. In this case, clearvars will save time.
Just use clear
Try using element-wise multiplies and divides in your equations and see if that fixes it.
Thank you, Perfect fix!!
Don't do any clearing of variables, as a general rule. Get in the habit of properly initializing variables so that there's no way your code can be confused by preexisting variables in the workspace. This is good practice for lots of other reasons anyway, so you should be doing it regardless. Clearing variables at the start of your script is a crutch that will save you from your bad habits, preventing you from learning. There are occasionally situations where it's handy to clear variables at the top of a script, and you'll know those situations when you see them, but by then you'll have already built good programming habits. 
I've used k-means segmentation plenty of times and never had an issue like this. I'm sure why you would, really. Maybe you're assuming that the segmentation is done in the spatial domain of the image? Typically it's done on the image histogram - in the intensity domain. It just calculates an ideal set of N threshold values. 
There's never really a reason to have negative I gain, unless you have the sign wrong somewhere else in your loop. Have you tried tuning it with just the P term first? Oscillation is typically a sign of too much P. 
If you're doing that, that usually means you should be making it a function instead of a script.
What do you mean here by properly intiailising variables.
I like to use clearvars to avoid the performance loss from clearing functions. 
One big problem is the `clear all` clears breakpoints. That makes it quite annoying when debugging.
Before you call/iterate/operate upon a variable, set it to what value you want. That will ensure that the values in that memory location are always set to what you actually want them to be.
+1. Function foo % your code here With no inputs and no outputs is probably what you really want if you’re doing this.
The reason why Matlab tells you not to use `clear all` is that Matlab has a just-in-time compiler. Clearing everything includes clearing the cache, meaning the code has to recompile every time. To see this, you can run and time a script twice: once right after opening Matlab, and a second tome right after that. The second time should be faster, possibly much faster depending on the code
The To Workspace block saves data into a workspace variable. Make sure you set it to save as array (not dataset), and you can also limit how many simulation data points you want. The error is computing a cumulative error rate so you’ll probably be interested in the last output to compare to the theoretical bound. 
The two workspace block. Is that another block I add to the diagram? Sorry this is my first time using Matlab so I'm pretty clueless when it comes to how to use it. 
It should never be unclear from reading the code whether the contents of a variable are influenced by its value prior to the code being run. In fact, it should never be unclear from reading the code what the contents of a variable are at all. For example, if the first time a variable X is referenced, it is being appended to without first being set to an empty, zero, nan (etc...) value, that's bad. 
+ Thanks for the response! Could you give an example of a situation where it's handy or point me to somewhere that might explain that point further? I'm just starting to break the surface again with Matlab and I'm trying to learn where I can
I can't think of a good example of it being advisable, which is kind of the point. Just don't do it. When you encounter a situation where it's reasonable, you'll know it. If you don't, you're probably not experienced enough to be in a situation where you need it anyway. 
this coincides with a post i'll be putting up in a bit. take a look here: &amp;#x200B; [https://hub.docker.com/r/flywheel/matlab-mcr/dockerfile](https://hub.docker.com/r/flywheel/matlab-mcr/dockerfile)
[Yes](https://au.mathworks.com/help/simulink/slref/toworkspace.html)
You can display the sticks using annotation objects and accept inputs as pushbutton uicontrols. help annotation help uicontrol Using both of those can give you a result like this: [Stick Game Images](http://imgur.com/gallery/iRVKC). The sticks are drawn as an annotation object of type 'line'. The pushbuttons execute a callback that keeps a counter and sets the appropriate number of lines to be hidden. [Link to last time](https://www.reddit.com/r/matlab/comments/5xo5tg/how_do_you_create_games_on_matlab/)
oh well that's odd that people don't do that... I always use a clear all close all at the beginning of my scripts but also I'd never even considered the idea of defining variables outside of a script and then manipulating them in the script lol.
lol so I do clear all close all *and* this as well.... good practice bad practice :P 
I mean, I don't really care what you do. Is this supposed to troll me? It literally doesn't effect me at all for you to have bad programming habits. 
uh... no dude I was just making conversation and laughing at myself... I was confused because I couldn't imagine how anyone would be doing "bad variable initialisation". Sounds like a textbook problem over a real-life one at the end of the day.
Bad variable initialization is extremely common. So much so that there's an automatic warning for it in the editor UI. It's got real practical implications, especially if you do more than just the occasional simple calculation or share code with colleagues.
yeah sounds then like that's not what I'm doing and clear all close all is a seperate issue for it as I've never seen that error.
Got it thanks!
mean2(im)
Is this built in function??
It's a 2x2 matrix! ';' indicates another line and commas indicate another column. So in this case, you have a two lines with two columns. One is [1 rp], and the other one is [rp 1].
The last line is a 2x2 matrix the first row is 1,rp and the second row is rp,1. The spaces between the values are acting as commas.
Thanks. So i could also write `y = 1/tp*[ 1,rp ; rp,1 ];` ? Is this space required by matlab or just for lazy people?
What do you think the code should do? Given your if statements, that is the expected result. You're multiplying -5.5*t. If that's your only problem, please look for typos in your code before asking for help.
That should be equivalent! Just test it! The space is not required. It's not that it's lazy, that's just how matab parses the entries in brackets.
The inside of the brackets is just Matlab matrix notation, The space is a delineator. Given y = [ 1 5 ; 5 1 ] y = | 1 5 | | 5 1 | Here's a great article about matrix operations https://www.mathworks.com/company/newsletters/articles/matrix-indexing-in-matlab.html
Two problems. First, look up how to do compound conditionals. You're not allowed to write `3 &lt; x &lt; 4`. You have to write two statements. Second, your final 'else` shouldn't have a conditional. That's your "everything else" case
The code should create a graph that looks moderately similar to the graph for the C6 engine. The code should, if t = 1 or 2, multiply t by 7.5 and set that as x for that value of t. The code should set x(t) to be 4.5 if t is 5 or more. I just realized I need to edit the elseif in the code, since that's not the *complete* equation of the line I need. But no, that's not my only problem. It's also not displaying anything on the graph, nor is x(t&gt;=5) 4.5. 
Thank you so much for the help! That fixed the problems with my numbers being wrong! Do you happen to know why my graph is blank?
Using `clear` commands at the top of scripts is a school habit, not something that should really be done in the real world. Doing that it sort of like saying "this script does everything I need. No way I need any results from any other scripts." When in using MATLAB for work, it's much more likely that you have lots of scripts and functions you need to use to get the results you want. 
You should `plot(x,t)` instead of `plot(x, x(t))`
plot(t,x) was the first thing I tried and it didn't work either. When that didn't work, I switched to x(t) thinking maybe that would help. Spoiler alert: it didn't. Side note: how are you getting code boxes like that in the middle of text? When I tried it just now, either I had to move to a new line after the code to not have it set as code or code all of it.
Just like lazy people in python who don't want to use brackets as delimiters, right? Just tabs because they're lazy? Let's not be syntax snobs. 
You need to define t outside of the loop. I’d also recommend changing x(t) to a variable such as “y”. I know that it is a function of t, but defining variables as a specific function of another in Matlab takes a bit more coding. Once you have your for loop edited per the previous comments, define t as t = [1:18] figure(1) plot(t,y)
Try this: clear all; clc; x = []; for ii = 1:18 if ii&lt;= 2 x(ii) = 7.5*ii; elseif ii &gt;= 3 &amp; ii&lt;= 4 x(ii) = -5.5*ii; elseif ii&gt;= 5 x(ii) = 4.5; end end figure(1) plot(1:18,x) Problems I see with your original code: - You're plotting x(t) vs t. But in this case, t = 18 (because you never set t equal to a vector, like 1:18, you only used it as a loop variable, where it finished with t = 18). - x(t) = -99, because that's the final element of x. You should do plot(t,x) instead. - Don't use a condition on your final else unless you want to do elseif. 
Why did you think it would help? Did you understand the meaning of x(t) and believe that it was what you wanted? Or did you just try something at random? 
Aha! The plot(1:18,x) fixed it. Thank you for your help! It didn't occur to me that t was a scalar 18 by the end of it all!
I can answer that question but it's probably better if you answer it yourself, since it is trivial to do so. 
No problem. That alone doesn't fix it though, I don't think. The for loop is still producing a trend that's incorrect (x should equal 4.5 for t&gt;=5), but it doesn't. That is fixed by the proper use of the loop.
I understood that x is a vector. I was thinking that maybe the reason nothing was plotting is because it needs to know that at each t, it needs the x in the t-numbered slot.
I fixed that with /u/Weed_O_Whirler 's help. He pointed out I needed to write my elseif condition differently. I also found the exact equation I wanted for the elseif (I forgot to include the y-intercept in the line equation).
https://www.mathworks.com/help/matlab/learn_matlab/matrices-and-arrays.html
Old-timers have a hard time with this since older versions of MATLAB made functions exist as separate files. Scripts could not have sub-functions.
Did you compare the output of `x` versus `x(t)`? 
[https://pasteboard.co/HSbOpIv.jpg](https://pasteboard.co/HSbOpIv.jpg) &amp;#x200B; Theres the output from that example code - removed some noise and kept sharp edges
I think your problem might be in this line: `angle = -L*360/(2*pi*R) + angle;` Wouldn't you want to subtract the angle (or make the whole term positive)? &amp;#x200B;
+ Holy cow, this literally opened my eyes thank you!
Can you post Germany2010.mat or some representative test data?
Sure, here it is [**https://pixeldra.in/u/iOWISJ**](https://pixeldra.in/u/iOWISJ) 
Not really. In this case, my reference is not the (0,0) point, but actually where I am. So, if I calculate a 6º turn based on the length and radius, that 6º is added to 'angle'. Negative or positive depends on the type of curve. 
ok, so the inputs are curve length and radius and the direction that the curve is facing? 
Yes.
Here's a picture of what i'm getting. [https://imgur.com/a/zEokIjd](https://imgur.com/a/zEokIjd)
I am not sure how familiar you are with the games but I would definitely invest some time to play and understand the game. You can take notes during the game and build up the logic from there. 
This is a super common homework assignment. Just use the "search" box on mathworks. 
I would suggest you first a logical vector `has_cancer` which indicates which rows of your table should be selected on the basis of whether or not cancer is present. `cancer_indicator` would be 1 in your example. `has_cancer = big_table.cancer_column == cancer_indicator` Then you can just subset the larger table and store just the rows you want in new tables. `small_table_cancer = big_table(has_cancer, :)` `small_table_no_cancer = big_table(~has_cancer, :)` 
Thank you, I'll try that
Just quickly wrote this (it could be vectorized and stuff could preallocated and such): close all; clear all;clc; patients = [20 4 2 3 1;21 3 5 2 0; 22 3 9 4 0; 23 4 4 4 1; 24 9 5 2 0; 25 3 4 9 1;]; [m,n] = size(patients); cancerPatients = []; nonCancerPatients = []; for ii = 1:size(patients,1) if patients(ii,n) == 1 cancerPatients = [cancerPatients patients(ii,:)]; else nonCancerPatients = [nonCancerPatients; patients(ii,:)]; end end
Lol, when is this project due there big cat
Did you know that posting your professor's assignment to the internet without permission is a copyright violation?
Have you taken Linear Algebra yet? If not, go do that and come back afterward. Without a basic understanding of matrix operations most of what is said here will be (literally) Greek to you. 
This is horrible advice to someone new to Matlab. There is plenty you can do without linear algebra, which they will be able to learn later. I have taught many people matlab who have never had linear algebra. 
(:) will make vector from matrix of any dimension...
I would check out the sidebar, and then come ask us when you have specific questions. Good luck!
The power of Matlab comes from how it handles matrix operations. Sure you can teach people Matlab without it but then they may as well be teaching Python. Without an firm understanding of linear algebra most people won't be able to understand why it is set up the way it is.
It's due on Thursday 
Really, everyone does that on chegg 
That was certainly the original purpose of Matlab, and still a major strength; but like it or not, it has evolved into a general tool for scientific and engineering computation. It's good for, and widely used for, an enormous number of tasks beyond linear algebra and matrix calculations. 
It's wrong there too. Professor's materials are their own intellectual property, and they or their institutions hold the copyright for those materials. Also, I've contacted the instructor for your class; I hope he finds you.
Do you even know who my professor is 
I'm not certain that he is your professor, but I looked at the author information in the pdf on your github page. A quick google search found him at a particular university in Fresno, and I informed him that I found his property on github.
I'd suggest using the find function. On mobile, so it's going to be messy. Index1=find(table.Var1==2) Index2=find(table.Var1==1) Cancer=table.Var1(Index1) Healthy=table.Var1(Index2) So table is your table variable name, and Var1 is the column name of the table. Now, if there is no name, the name is Var#, where # is the literal column number. So maybe it would be data.health_status or something to the effect.
When the editor tells you not to do that, it isn't lying. 
Remindme! 5 days
I will be messaging you on [**2018-12-24 04:14:53 UTC**](http://www.wolframalpha.com/input/?i=2018-12-24 04:14:53 UTC To Local Time) to remind you of [**this link.**](https://www.reddit.com/r/matlab/comments/a7apzw/agricultural_information_analysis/) [**CLICK THIS LINK**](http://np.reddit.com/message/compose/?to=RemindMeBot&amp;subject=Reminder&amp;message=[https://www.reddit.com/r/matlab/comments/a7apzw/agricultural_information_analysis/]%0A%0ARemindMe! 5 days) to send a PM to also be reminded and to reduce spam. ^(Parent commenter can ) [^(delete this message to hide from others.)](http://np.reddit.com/message/compose/?to=RemindMeBot&amp;subject=Delete Comment&amp;message=Delete! ____id____) _____ |[^(FAQs)](http://np.reddit.com/r/RemindMeBot/comments/24duzp/remindmebot_info/)|[^(Custom)](http://np.reddit.com/message/compose/?to=RemindMeBot&amp;subject=Reminder&amp;message=[LINK INSIDE SQUARE BRACKETS else default to FAQs]%0A%0ANOTE: Don't forget to add the time options after the command.%0A%0ARemindMe!)|[^(Your Reminders)](http://np.reddit.com/message/compose/?to=RemindMeBot&amp;subject=List Of Reminders&amp;message=MyReminders!)|[^(Feedback)](http://np.reddit.com/message/compose/?to=RemindMeBotWrangler&amp;subject=Feedback)|[^(Code)](https://github.com/SIlver--/remindmebot-reddit)|[^(Browser Extensions)](https://np.reddit.com/r/RemindMeBot/comments/4kldad/remindmebot_extensions/) |-|-|-|-|-|-|
I don't know enough to help you, but wanted to let you know that the link to the paper you referenced isn't working
Hi, did you by any chance figure out what is wrong? I can only imagine it has something to do with your data not being in radians as you supose it is, or something of that sort, that makes it so that the total angle gets progressively distorted until you finish your lap (total angle = 360deg) but it registers a 90deg shift.
Thanks! Could you tell me if it's working now?
It is! Will try to get some time to read up a little bit on both the paper and your code at lunch.
Much appreciated! Please let me know if there is anything I can explain regarding the maths; I know it is a long code to attempt to understand without having written it. If you check my post history, I also posted some questions about deriving the heat equations from the paper - perhaps that would show you my thought process (there's also a link to some of my working out).
I'm having a very hard time reading your code. I recommend that you reformat the code to a more conventional format. Below you can find a reformatted version of the main interior loop, using standard conventions for a code like this: %% Step interior nodes for i = 2:(nodes_i - 1) for j = 2:(nodes_j - 1) for k = 2:(nodes_k - 1) theta = del_theta*i; aE = Fo*(1+1/(2*i)); aW = Fo*(1-1/(2*i)); aN = Fo/theta^2; aS = Fo/theta^2; aT = Fo; aB = Fo; aP = 1 - (aE + aW + aN + aS + aT + aB); T(i, j, k, p+1) = aP*T(i,j,k,p) + ... aE*T(i+1,j ,k ,p) + aW*T(i-1,j ,k ,p) + ... aN*T(i ,j+1,k ,p) + aS*T(i ,j-1,k ,p) + ... aT*T(i ,j ,k+1,p) + aB*T(i ,j ,k-1,p); end end end Several key modifications are included in the reformat. * The loop index variables are now used directly, instead of using ii, jj, etc. * The time-stepping process may be written as {T}\_p+1 = \[A\]{T}\_p; the aE, aW, aN, aS, aT, aB, and aP scalars represent non-zero diagonals of \[A\]. * It is convention to express the principal diagonal (aP) in terms of the other diagonals. This helps when looking for diagonal dominance in the system, which becomes very important for implicit methods using certain types of linear system solver such as Jacobi or Gauss-Seidel iteration. * The matrix product \[A\]{T}\_p is now much more-clearly present in the code, and each term is more-readily checked for correctness. * By default, Matlab does not use tabs for indentation, so the indentation is done using 2 spaces. Overall, codes like these usually benefit from storing the \[A\] diagonal terms in a struct of arrays, which in your case should be oversized by one element to simplify the looping over the domain. If you specify the coefficients on the boundaries which would reference non-existent nodes to be zero, then these nodes may be safely allocated and multiplied without changing your result. This, combined with carefully setting all boundary coefficients, permits treating all nodes as interior nodes and updating them with a single nested loop. Good luck on your code. If you need more help, I can show you details about what I mean.
I think I just realized why you after seeing different cooling times. It seems strange that any of your interior coefficients would depend on theta, but your code includes delta_theta*I. I suspect that it should be delta_r*I, to get the radius instead. As your code is written, the heat transfer between nodes is wrong, but only by the ratio of delta_theta/delta_r.
The group is called "dialout" [https://playground.arduino.cc/linux/ubuntu](https://playground.arduino.cc/linux/ubuntu) Try `sudo usermod -aG dialout &lt;myuser&gt;`
Solved that problem by starting matlab with sudo. $ sudo matlab But now I have the problem that matlab says arduino IDE at folder 'arduino....' is corrupt or inaccessible. 
Yea. But acording to the groups command I'm already in that group. Still get that error. 
More problems: aoeu
I'm confused now everything works and I don't know why. 
yes
But I didn't get those code in MATLAB so plz can u help here??
https://uk.mathworks.com/help/images/image-segmentation-using-the-color-thesholder-app.html https://uk.mathworks.com/help/images/image-segmentation-using-the-image-segmenter-app.html
Yeah I can do by adjusting their threshold but consider a tree image then both root and stems contains same colour then how can I differentiate them . 
Plz sir help me....
My two cents. If you want more detailled answer, I suggest explaining what did you try, maybe providing some code. People here may then try to help you. It s always simpler for others to help you to improve your work based rather than doing your homework from scratch. 
Yo OP, we have literally no idea what you're talking about. What kind of tree are you even talking about? https://en.wikipedia.org/wiki/Tree_(disambiguation) My best guess is that you're doing image analysis? And even then, what are our inputs and goals? E.g. does the image contain colors or is it grayscale? Wat different parts would you want to be detected? Depening on your image you can go for [something as easy as thresholding](http://images.hellokids.com/_uploads/_tiny_galerie/20120416/6t3_how-to-draw-a-simple-tree-tutorial-drawing.jpg) , or [all the way to semantic image segmentation] (https://www.youtube.com/watch?v=oMhyQsT8jMA)(based on your lack of technical jargon, I don't expect you to be able to pull this off).
Ohhh ok thaks
Ok sir can I add any other modules for my project based on soil and plant using MATLAB
First thing that comes into my mind would be a "simple" calculation program with GUI. Example: I had a course were we had to design a gas tank based on some values/norms/rules. Standardized calculation process, which in most cases is basic math but it has to be done and can be a pain to do by hand. So I made a GUI where you can type in every value and choose the desired measurements etc., press the button and everything shows up. In physics I guess you do some experiments. Maybe a GUI with table input area (looks like excel) and again some simple labeled textboxes for other needed values,a button to plot the measured values and a plot of everything/result.
First, you want to isolate what area you would like to end up researching. Do you have specific research interests? Second, decide on a lab that you will be pursuing. The best project will be something tailored to the research interest of your desired advisor---that's what will catch their attention. Say you pick a Professor, read their papers and try to understand their projects and overarching research goal. Ideally, that should spark an idea. Maybe they have some data that you think you could analyze slightly differently to get more info out of it? Ask for the data and tell them you have some ideas you want to explore. Make some nice looking plots in Matlab, think outside of the box, and show them your work in a report or presentation. This demonstrates you understand and are truly interested in their work, you take initiative, and you can work with actual scientific results. Sorry, I know it would be easiest just to have a general project that impresses everybody. But, in my field at least, not many professors are impressed by people coming in with Matlab proficiency. They either assume that you know it coming in, or you will learn it quickly. What will impress them is if you show that you are interested in their work specifically---almost no other applicants do that. Also, it will tell you if you like their research and if the lab is right for you.
While there are many ways to do this, one of the easiest ways to do this in Matlab is to use GUIDE. GUIDE has a premade density and mass to volume calculator. It's fairly simple and you can figure out how to make GUI's quickly by using the code it generates from this built-in Matlab function. All you have to do is type 'guide' in the command window and it will pull up a window. Select 'GUI with Uicontrols'. After that you can look through the code it creates for the UI and eventually generate a blank GUI to do what you please.
Honestly, I would switch to the AppDesigner if you are going to learn one. it has rather more features, and since about 2018a/b I haven't noticed any features lacking. I believe there are some good examples for learning it on the file exchange.
I’ve never used it so I’ll check it out
You still haven't explained anything about what you're working on... Soil and plant what? I'd love to see you being helped here, but you have to give us more information on what your problem is/what the goals are. 
Morphological closing (dilation + erosion)
\^This. Look up imclose().
[Fluid simulations](https://en.wikipedia.org/wiki/Navier%E2%80%93Stokes_equations) tend to produce some pretty interesting results
ok, maybe that wasn't a good example. Hopefully this one is better: https://imgur.com/a/wKxJzzm If there's some noise on the edges in the top image, then dilating it will create an additional edges that I don't want (in red in the bottom image). 
Thanks for the response! I will update my code to be easier to read and post it here! However, the reason I have two variables ii/jj/kk is that the variable in your version does not start counting from zero, therefore, the i value called in the aE and aW terms is incorrect. 
2 body problem in stimulink is pretty fun (that was my first project learning simulink as a freshman)
No. I changed the loop bounds to account for that.
Here is the working for the interior node equation: [Page 1](https://ibb.co/rGZcxGg) , [Page 2](https://ibb.co/2ddjCjt) I believe that the theta term is correct, but please point out if you see any errors. With the exception of two typos in the paper I linked above (the typos are a + sign inside the last bracket and a del\_r\^2 term for the J+1 and J-1 node, which does not match the corresponding coefficient inside the final bracket), this equation also matches the equation presented in the paper for the interior nodes (Eq. 1). &amp;#x200B; &amp;#x200B;
Makes sense - in this case, as i = 2 is the third node (0, 1, 2, .. ) would you construct a separate loop for both i = 0 and i = 1? 
Try to use the code formatting to make it easier to read: clear all vidObj = VideoReader('vid2.mp4'); vidHeight = vidObj.Height; vidWidth = vidObj.Width; s = struct('cdata',zeros(vidHeight,vidWidth,3,'uint8'),... 'colormap',[]); k = 1; while hasFrame(vidObj) s(k).cdata = readFrame(vidObj); k = k+1; end figure(1); subplot(1,2,1); imshow(s(4).cdata); title('4th frame'); subplot(1,2,2); imshow(s(6).cdata); title('6th frame'); im1=s(4).cdata; im2=s(6).cdata; t=0.5; imnew = interp2(im1,im2) figure(2); subplot(1,2,1); imshow(s(5).cdata); title('5th frame'); subplot(1,2,2); imshow(imnew); title('estimated 5th frame'); You may need to refine your question because asking how [interp2()](https://www.mathworks.com/help/matlab/ref/interp2.html) works will likely just have people linking to the Mathworks site as no one could run the code you posted without *vid2.mp4*.
do morphological opening first. Should be able to get rid of those lines entirely. Look at imopen().
Oh, good point thank you
What is matlab returning? An error? Or is it not evaluating the == correctly?
Very insightful and logical point, thank you 
Cleaned up my code in the OP :)
Things based on Monte Carlo simulation or DE solving are often fun. If there's a field you're interested in you could try to do something related to that. Maybe reproduce a published result of some kind if the data is publicly available. 
If you're really serious about it, you might consider talking to some of your target professor's research assistants and asking them for what types of projects you could help them with. If an undergrad came to me and offered to automate data extraction, management, plotting, analysis, etc. during my PhD (and successfully lightened my workload) I would 100% recommend to my PI that the undergrad be brought into the group. Obviously you don't want to just get stuck pressing a button for a grad student, but I think there's a lot of things that grad students may consider routine that would be really fun projects to optimize in Matlab and allow you some significant insight into the project they're working on. You could get your name on some papers this way too.
It looks like column 1 &amp; 3 probably have a bunch of (approximate) 0's in the data. So, the 25th/75th quartiles are actually 0. Thus, the top/bottom of the box are at the same point, so the box disappears. &amp;#x200B; You can verify this by opening the data, making a histogram, or looking at the empirical cumulative distribution function.
You can use confusionmat to find the number of correct and incorrect labels and use that to compute error rate.
That's exactly the explanation I was looking for. So, do you have any idea how I would go about making a boxplot if I have 5 vectors of various lengths, so where I don't have any zero values that completely mess up my percentiles?
That's a fucking awesome idea. Grad students! Workload is through the roof and they don't have as many options to discriminate from as professors do. Fucking genius.
Try replacing your zeros with NaNs.
It depends on what you want to do. The best abilities and experience are **relevant** abilities and experience. Me personally I would throw together a simulation and a controller for it, but that's because I have a lot of experience with that and I can do it quickly. Perhaps consider simulating a simple dynamic system, mass/spring/damper, or if you're really ambitious something nonlinear like a pendulum. An Euler integration simulation using state space formulation is incredibly useful and it only takes about a dozen lines of code. A = [system model] B = [input model] for ẋ = Ax+Bu x = x⁻¹+ẋ*dt
It depends on what you want to do. The best abilities and experience are **relevant** abilities and experience. Find out what the professor does, find out what they need, and learn some of that. Talk to their grad students and see what skills they wish they had had when they started. They might need you to script and automate experiments and data processing. They might need you to write/run/modify simulations. If you want to show off your own thing, consider writing a basic simulation. Simulations are universally useful and an Euler-integrated simulation using state space formulation is surprisingly easy to make. You can simulate a linear system like a mass/spring/damper in about a dozen lines of code. A = [system model] B = [input model] for (however long) ẋ = Ax+Bu x = x₋₁+ẋ*dt
[https://imgur.com/a/AnKlt0y](https://imgur.com/a/AnKlt0y) Thats the error message I'm getting
^(Hi, I'm a bot for linking direct images of albums with only 1 image) **https://i.imgur.com/hYJsorb.png** ^^[Source](https://github.com/AUTplayed/imguralbumbot) ^^| ^^[Why?](https://github.com/AUTplayed/imguralbumbot/blob/master/README.md) ^^| ^^[Creator](https://np.reddit.com/user/AUTplayed/) ^^| ^^[ignoreme](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=ignoreme&amp;message=ignoreme) ^^| ^^[deletthis](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=delet%20this&amp;message=delet%20this%20ec68iqe) 
thanks, i'll look into that
I would first consider WHY those values are zero. Are they actually zero, or are they missing? Are they important? If they're missing, replace with nan.
Yeah /u/shriyaBhat123 , instead of spamming this subreddit with multiple posts, maybe take some time to propose your question in a meaningful manner, read the sidebar, put in some of your own effort. If you expect someone to be able to give you a magical solution to your problem, prepare yourself to be disappointed, because such solutions don't exist. 
This 100%. 
To plot something simple: x = [0:.01:5]; y = 2*x.^2-3.*x+1; plot(x, y, 'Color', 'r') To do simple plots, you can use fplot, which frankly is a very bad idea starting out, but if you don't care about learning Matlab it will work: fplot(@(x) 2*x.^2-3.*x+1) I'm a book learner. If you want a Matlab book, I'd use Stormy Attaway's book. It's great for beginners.
Not sure how this will help a beginner?
Do you have a question?
yes i do, from the post i made i am currently unable to get my function to be in both space and time domain....i am only able to get it in the space domain at instantaneous time. Would you be able to help me? 
This is too vague. Exactly which graph and which curve? What are the equations which are supposed to model it?
The page you have posted isn't enough info. They are just describing the initial density distribution at time = 0. There has to be a differential equation with respect to time somewhere.
The equations are in the little extract at the top of the question: n = tumor f = ECM m = MDE &amp;#x200B; n(x,0) = |exp(-x^(2)/epsilon) when x = 0 - 0.25 | |0 when x= 0.25 - 1 | f(x,0) = 1 - 0.5\*n(x,0) m(x,0) = 0.5\*n(x,0) &amp;#x200B; I have made the first plot in that figure but unable to make the second plot in that figure for when t=1
Yes there is, i will post it to the original post aswell
This is, like, an order of magnitude more complex than the manner in which you are asking it here. You need an estimate of the solutions for those differential equations at the times requested and given your initial conditions. &amp;#x200B; The methods section of that paper has their simulation methods and parameters.
myfuncN calculates n from x and epsilon, then it redefines n to be zero between the 27th and 101st element. It never defines t, despite declaring it as a return value. What is your intention here? If you don't assign a value to t, why are you trying to return it? 
I added t as i thought it would make the function be in the form n(x,t), the t is needed for the time domain so that the curve for the plots differ at different times
Yeah but you never assigned a value to it. What value do you expect t to have after the code in the function is executed? 
In my main script which has all the variables defined, i have set t as t = 0 : 1 : 30
Try formatting your code so we can read it. The sidebar should have instructions. You're also going to have to explain what it is you're trying to do. Not everybody is in the same class as you. I have no idea what a Hamming code is. 
I don't think I quite understand what you mean, do I need to solve the differential equations via an ode solver, or do I handle it like i would on paper so that df/dt = -carnot\*m\*1 as the f has been differentiated and now equals 1. But then in doing this I still don't have a value for the time domain.
Okay but then why are you trying to return t from your function if it's already defined outside of the function? 
I never realised i was doing that, how am I meant to define the function so that it operates like n(x,t) 
If you want it to be a function of x and t, then x and t must be input arguments to the function. You might want to read the documentation a little bit. 
The interpolation is not correct. Interp2 is used to interpolate function like z=f(x, y). In your case, you need to apply the interp1 function to all the pixels. It is actually easier to do it manually rather than using interp1 function which is not well suited in your case. Try something like Delta=0.5; imNew=(s(5). cdata-s(4).cdata)*Delta+s(4).cdata; Delta=0 is original 4th frame, Delta=1 is original 5th frame and in between interpolated data is obtained 
Ok thanks so then it should be, Function [n] = myfuncN(x,t) epsilon = 0.01 n = exp(-x²/epsilon) For i = 27:101 n(i) = 0 End End Now would this format have it with respect to space and time so if I did plot(x,n(: 1)) it would show n(x,t=1). Another person above said that the differential equations should be used for the time domains, how would i incorporate them into the function as they use the function itself to be solved.
&gt; for i = 27:101 &gt; n(i) = 0 &gt; end This replaces the 27th through the 101st elements of n with zeros. Why are you doing this? Do you even know how many elements n has to begin with? How do you know that those exact elements must be replaced? Why are you doing it with a loop? &gt;Now would this format have it with respect to space and time so if I did plot(x,n(: 1)) it would show n(x,t=1). As you wrote it, n is not a function of t at all. I don't even see why it would have two columns. &gt;Another person above said that the differential equations should be used for the time domains, how would i incorporate them into the function as they use the function itself to be solved. If your trying to model something with a time dependence which is described by a differential equation, then yes obviously you will need to solve a differential equation to get an answer. 
&gt; This replaces the 27th through the 101st elements of n with zeros. Why are you doing this? Do you even know how many elements n has to begin with? How do you know that those exact elements must be replaced? Why are you doing it with a loop? I know that n has 101 elements as it should be the same length as x which has already been defined to be from 0 to 1, using increments on 0.1 i then get 101 elements. I make the elements from 27 through to 101 become zero as that is the function that defines n, which is shown in the images attached. &gt; As you wrote it, n is not a function of t at all. I don't even see why it would have two columns. If i was to do this properly with, for example t = 30, should i not have 101 rows and 31 columns with different values of n at those points? &gt; If your trying to model something with a time dependence which is described by a differential equation, then yes obviously you will need to solve a differential equation to get an answer. This is a step that I have been attempting for days and I haven't progressed, I tried to tackle it the same way I have doing the 1-D advection diffusion equation (which I have the code for if you need to see it) but I have come to no avail. Once I do solve the differential equations, how do I relate it back with the functions?
&gt;I know that n has 101 elements as it should be the same length as x which has already been defined to be from 0 to 1, using increments on 0.1 i then get 101 elements. I make the elements from 27 through to 101 become zero as that is the function that defines n, which is shown in the images attached. Oh. Okay so you're relying on x to be defined in a very specific way. That's fine but be prepared for things to break if you define x differently. &gt;If i was to do this properly with, for example t = 30, should i not have 101 rows and 31 columns with different values of n at those points? I don't know. You could add columns to n if you want, but that's irrelevant. You assign a value to n by doing some calculations with x and epsilon. The value of t has no effect on n at all. If I say x = g+7, does the value of x change if I say k = 5? No. Because x has no dependence on k. It only depends on g. &gt;This is a step that I have been attempting for days and I haven't progressed, I tried to tackle it the same way I have doing the 1-D advection diffusion equation (which I have the code for if you need to see it) but I have come to no avail. &gt; &gt;Once I do solve the differential equations, how do I relate it back with the functions? Your functions would themselves be a numerical DE solution. For example, using ode45. 
&gt;I don't know. You could add columns to n if you want, but that's irrelevant. You assign a value to n by doing some calculations with x and epsilon. The value of t has no effect on n at all. &gt; &gt;If I say x = g+7, does the value of x change if I say k = 5? No. Because x has no dependence on k. It only depends on g. Based of this, is there any need to define the function as: function \[n\] = myfuncN(x,t) , knowing that it has no effect on the outcome. &gt; Your functions would themselves be a numerical DE solution. For example, using ode45. So first I should solve the DE for dn/dt, df/dt and dm/dt. Once these have been found, their solution is the functions n, f and m? Or are the functions just the initial conditions, which will now vary with time due to the DEs?
try creating a list of all the fpaths you eventually want to create in a separate loop. Save these as a cell array &amp;#x200B; for example: &amp;#x200B; fpath{i} = fullfile(fullfilepath,newfilename); &amp;#x200B; &amp;#x200B;
Maybe it's easier to create a "look up" vector first. Then you can read a new amplitude after each half period. So after an Amplitude arrives you will read a new "AmplitudeValue" out of your vector. 
&gt;Based of this, is there any need to define the function as: function \[n\] = myfuncN(x,t) , knowing that it has no effect on the outcome. That's up to you? If it should have some dependence on t, you should write the function to capture that dependence. If it shouldn't depend on t, then you don't need it as an input. Either way, the function will only do what you write it to do. It's not going to magically represent some time dependence that you haven't written. &gt;So first I should solve the DE for dn/dt, df/dt and dm/dt. Once these have been found, their solution is the functions n, f and m? Or are the functions just the initial conditions, which will now vary with time due to the DEs? I don't know. I'm not digging into the details of your math. If you have a differential equation it should tell you the derivative of the value you're interested in. You don't need to take derivatives yourself. That's kind of the definition of a differential equation. You'd use something like ode45 to solve your DE numerically. Have you read the documentation for ode45? 
Fzero is for numerical computation. Are you after a numerical, or a symbolic result? 
numerical
Stop making things gpu arrays and they won't be gpu arrays anymore. Or you can check the documentation on gpuArrays and see what command converts them back to normal arrays. Are you sure that singles are faster than computing on the gpu? You said they were faster than doubles, but you're not using normal doubles, you're calculating on your gpu. 
Then stop using symbolic variables. Those are for symbolic calculations. 
https://imgur.com/a/sA3qmZK hmmm well I'm kinda new at this, maybe I'm going about it wrong clearly. I'm trying to run the code on the GPU and see how much faster it is then on the CPU. Is there a different way to go about this?
^(Hi, I'm a bot for linking direct images of albums with only 1 image) **https://i.imgur.com/pebAxhT.jpg** ^^[Source](https://github.com/AUTplayed/imguralbumbot) ^^| ^^[Why?](https://github.com/AUTplayed/imguralbumbot/blob/master/README.md) ^^| ^^[Creator](https://np.reddit.com/user/AUTplayed/) ^^| ^^[ignoreme](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=ignoreme&amp;message=ignoreme) ^^| ^^[deletthis](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=delet%20this&amp;message=delet%20this%20ec7em8q) 
If I don't define them as symbolic, it'll tell me that my variables are undefined. The equations are tightly coupled. The lower limit of the integral in the first equation is a root of the second equation (which itself depends on the first equation). Switching to non-symbolic vars... fun = @(x) 1/x^2; fun2 = @(A) A^2 + A*L; L = integral(fun, A, inf); A = fzero(fun2, 0.2); Yields Error using integral (line 85) A and B must be floating-point scalars.\ Error in test (line 5) L = integral(fun, A, inf); &amp;#x200B;
Your problem intrigued me, so I thought I would mock something up real quick. I have a signal processing background so I came at your problem from that field of thought. There is a analysis/synthesis technique called the STFT (short time fourrier transform). This is well documented in the literature and I am sure that there is wikipedia page that better describes what it does better than what I can do. This takes the synthesis portion of the STFT and generates a smooth sea wave simulation. Yet another way to attack this problem. &amp;#x200B; `% Sea Wave Simulator based upon the STFT.` `clear;` &amp;#x200B; `frame = 100; % number of points per frame` `Nframes = 5; % total number of frames to generate` `step = floor(frame / 3); % step size of the frame` `% use a window to smooth out the transitions` `% step size is tied to the type of window` `% hanning window can't step faster than frame / 2.` `window = hanning(frame,'periodic');` &amp;#x200B; `index = 1; % starting index` `numberRandomSines = [ 0 2]; % [min max]` `randomAmp = [ 1 1.25]; % [min max]` `dampeningCoeff = 0.7;` `bandWidth = 7; % sine harmonics are smaller than this number.` `u = zeros((Nframes-1)*step + frame,1); % final amplitude vector` `U = zeros(frame,1); % frame vector` `Ts = 0.05; % sample period` `t = (0:length(u)-1)'*Ts; % time vector` &amp;#x200B; `for k=1:Nframes` `% first dampen the frame vector so that any` `% sinusoids contained in it will naturally die off over time.` `U = dampeningCoeff*U;` `% now calculate how many sines we want to add in this frame` `Nsines = randi( numberRandomSines(2) - numberRandomSines(1) + 1) + ...` `numberRandomSines(1) - 1;` `sineIndex = unique(randi(bandWidth,Nsines,1) + 1);` `Nsines = length(sineIndex);` `if Nsines &gt; 0` `% generate sines with random amplitudes and phases.` `% we use complex numbers here` `U(sineIndex) = U(sineIndex) + ...` `(rand(Nsines,1)*(randomAmp(2)-randomAmp(1))+randomAmp(1)).*exp(1j*2*pi*rand(Nsines,1));` `end` `% add in sines with a window to the final vector` `% the window ensures that all sinusoids are smoothly added in.` `u(index:(index+frame-1)) = u(index:(index+frame-1)) + frame*(window.*real(ifft(U)));` `% increase the index and repeat the process` `index = index + step;` `end` &amp;#x200B; `plot(t,u);`
Your problem intrigued me, and I thought I would mock something up that presents a solution using an alternative method. This is based upon the STFT (short time fourrier transform) and uses a window to smooth out the glitches. The STFT is well documented in the literature. % Sea Wave Simulator based upon the STFT. clear; frame = 100; % number of points per frame Nframes = 5; % total number of frames to generate step = floor(frame / 3); % step size of the frame % use a window to smooth out the transitions % step size is tied to the type of window % hanning window can't step faster than frame / 2. window = hanning(frame,'periodic'); index = 1; % starting index numberRandomSines = [ 0 2]; % [min max] randomAmp = [ 1 1.25]; % [min max] dampeningCoeff = 0.7; bandWidth = 7; % sine harmonics are smaller than this number. u = zeros((Nframes-1)*step + frame,1); % final amplitude vector U = zeros(frame,1); % frame vector Ts = 0.05; % sample period t = (0:length(u)-1)'*Ts; % time vector for k=1:Nframes % first dampen the frame vector so that any % sinusoids contained in it will naturally die off over time. U = dampeningCoeff*U; % now calculate how many sines we want to add in this frame Nsines = randi( numberRandomSines(2) - numberRandomSines(1) + 1) + ... numberRandomSines(1) - 1; sineIndex = unique(randi(bandWidth,Nsines,1) + 1); Nsines = length(sineIndex); if Nsines &gt; 0 % generate sines with random amplitudes and phases. % we use complex numbers here U(sineIndex) = U(sineIndex) + ... (rand(Nsines,1)*(randomAmp(2)-.... randomAmp(1))+randomAmp(1)).*exp(1j*2*pi*rand(Nsines,1)); end % add in sines with a window to the final vector % the window ensures that all sinusoids are smoothly added in. u(index:(index+frame-1)) = u(index:(index+frame-1)) + frame*(window.*real(ifft(U))); % increase the index and repeat the process index = index + step; end plot(t,u); 
Oh I see. Check the documentation for gpuArray. It's literally the first example. 
&gt; fun = @(x) 1/x^2; &gt; fun2 = @(A) A^2 + A*L; &gt; L = integral(fun, A, inf); &gt; A = fzero(fun2, 0.2); &gt; &gt;Yields &gt; &gt; Error using integral (line 85) &gt; A and B must be floating-point scalars.\ &gt; Error in test (line 5) &gt; L = integral(fun, A, inf); &gt; That's weird. It should say "undefined function or variable 'A'. " since you haven't defined A before using it. How would that work? You've set this problem up in a really weird way. fun is a function of x, L is a function of A, but it's in your definition of fun2 (how can that work?) and then you calculate A by finding the zero of fun2. How are you expecting this to happen? How would you do this by hand?
Thanks for all your input, I am going to go away and understand ode45 and develop numerical solutions for the 3 differential equations that I have, then with those I should be able to get the functions to work with respect to space and time not just space. If I have any more queries is it okay if I send you a PM? Thanks again
Make sure that you’re referencing the content in DataTestband DTPredict correctly, rather than the objects themselves 
TIL matlab has a startup file. 
I have an integration framework that will solve this easily, but you need to solder a jumper onto a certain transistor in your cpu and use this particular version of the BLAS library that I've edited to avoid using the 24th bit of every double. Also it's super efficient but only on blue computers with a least 30 TB of ram and a mechanical keyboard. Seriously though, isn't that just a divergent integral? 
The default simulink project has a startup file which is run on opening the project. 
As mentioned below you should have gotten the error due to A being undefined. The fact that you are getting this means you did not clear the variable. Do "clear all" to remove all of the previous symbolic stuff. 
It doesn't give an undefined variable error because he's running a script and didn't clear his workspace. But you already knew that.
&gt;I have an integration framework ... lol &gt; Seriously though, isn't that just a divergent integral? &gt; &gt; Edit: seems to converge fine if you avoid the singulatities, see? https://www.wolframalpha.com/input/?i=integral+of+1%2F%282+t+tan%5Bt%2F2%5D%29+from+t+%3D+0.1+to+%282+%CF%80+-+0.1%29 Indeed! That's what I was trying to do by changing the number of points, thereby reducing `dtheta`. When I first sat down to do this by hand, I did the same thing; limit as ξ -&gt; 0 of integral from ξ to 2π + ξ etc.. Unfortunately there is no integration by parts strong enough to continue that folly. Enter WolframAlpha, vindication and simultaneous reluctant resignation to solve it numerically, attempt, spectacular failure, and here we are. In the snippet I pasted, I was trying to find an acceptably small perturbation to use, but I was confused by the behavior of `cumtrapz`. I would just like to see if anyone has any ideas about what MATLAB is doing to my approximation. I really feel like I shouldn't have to multiply `dtheta` after integration! I'm not even mad, I'm just confused.
The problem may be that this system of equations does not have a real solution. Evaluating the first equation by hand gives 1/A = L, which if you plug into the second gives A^2 + 1 = 0. The root of that is +/- i.
Yes, exactly. 
Not enough explanation here. What does your code do? What variables are loaded into the workspace? When you say startup file do you mean the standard startup.m? If so does that mean your program runs when you open MATLAB?
What about using Perlin noise? 
It's a default simulink project. The workspace is empty before opening the project (.prj file) . On opening the project the startup file runs which adds various folders to the path. After this stage I would like the different parameters which are stored in an m file to be loaded to the workspace. On setting a breakpoint at the execution of the m script, I'm able to see the parameters being loaded into the base workspace. However on continuing the execution the workspace is cleared. I hope I've explained it clearly. 
That makes more sense. Why not copy and paste the code from the m file into the startup file and see what happens? I may try and replicate this tomorrow and see if it happens on my machine. 
Are you by chance calling automatic clean up https://www.mathworks.com/help/simulink/ug/automate-shutdown-tasks.html ?
But wouldn't what you're saying happen on *closing* the project?
Yes. So even when project is open, the variables are cleared? If so, step through the code in debugger to identify the line after which the variables are cleared.
I think I figured out the reason this is happening... set_up_project is a function and I'm executing the m script inside this function. The variables stay in the base workspace right up until the function is in scope. The moment the last line of the function, which is "end" is executed, the workspace is cleared.
I did try that out. I got the same result. I believe this has something to do with the difference between base workspace and function workspace. I'll copy my comment to /u/whats_in_a_name_ppl &gt; I think I figured out the reason this is happening... &gt; &gt; set_up_project is a function and I'm executing the m script inside this function. The variables stay in the base workspace right up until the function is in scope. The moment the last line of the function, which is "end" is executed, the workspace is cleared.
It's divergent. Not just analytically intractable, but divergent. Numerical methods are no remedy to that. The solution of the integral is literally infinite / undefined. By decreasing the step size you are getting better and better "approximations" of infinity. It's not a problem with cumtrapz. I have not verified this, but I did look at the graph. Just look at it at x = 0, which is right in the middle of the integration domain.
One feature came before the other. ImageSet is just not being removed to preserve compatibility .Use imageDatastore.
You can avoid this by using an oversegmentation algorithm like SLIC and then clustering based on super pixel features. https://www.mathworks.com/help/images/land-classification-with-color-features-and-superpixels.html Then the structure of the segmentation is dictated by the Superpixel geometry. Of course, algorithms like meanshift that don’t assume a Gaussian prior don’t have this problem out of the box, but even then, it’s generally a bad idea to cluster each pixel independently if you care about noise in your segmentation result.
Hi. I did not figured it out. Tried with a couple different tracks ang got the same result. I've tested something like "if angle&lt;-180 angle = angle*-1" and it got a bit better, but didn't solve. I really have no idea what to do here, but I still think it is a matter of trigonometry.
Yes that's exactly why. Functions don't write their vars to the workspace
What does the error say? That the folder does not exist? Are your input arguments correct? Have you run the code in debug mode?
I’m not sure about “typically” in this statement. It’s a pretty common practice to cluster with a combination of color/intensity and x,y location features, with the intuition that pixels close to each other are likely to lie in the same class.
 Error using saveas (line 96) Invalid filename. Error in plot_all (line 76) saveas(gcf,fpath,'jpeg');
Yes. You're absolutely right. That was my mistake; this is a minimum working example for a much more complicated problem. Let's say I make it A^(2) \- AL = 0. I still get an error that A is not defined. I am also now clearing variables as others suggested. How can I fix the following so I get a solution? clear; clc; fun = @(x) 1/x.^2; L = integral(fun, A, inf); fun2 = @(A) A^2 - A*L; A = fzero(fun2, 0.2) &amp;#x200B;
Yes, that's a useful tool as well, but k-means segmentation doesn't necessarily specify such a process. Certainly not without an allusion to the parameters controlling spatial domain handling. Connectedness definition, window size, etc. 
So you're saying... they lied in the article? And the reviewers let it pass? And some odd dozen people cited the paper without noticing it? I find that hard to believe (though *certainly* not impossible). Please don't break my heart unless you're sure. ;) &gt; I have not verified this, but I did look at the graph. Just look at it at x = 0, which is right in the middle of the integration domain. It tends toward positive infinity as *x* -&gt; 0, yes. It also tends toward negative infinity as *x* -&gt; 2*π*. The integral of [1/*x*^2](https://www.wolframalpha.com/input/?i=1%2Fx%5E2) converges, and it's also an even function with at least one singularity, though not periodic so not quite apples to apples. Just the first one I thought of halfway into cup of coffee #1 today. There are an infinite number of counterexamples, too... but the point stands that looking at a single limit won't close the issue. &gt; By decreasing the step size you are getting better and better "approximations" of infinity. This obviously bears consideration, because over the interval *t*∈[0, 2*π*], the factor 1/*t* skews the slopes at the endpoints. The approach to negative infinity might be too slow to make up for its positive counterpart. The situation is worse about zero, considering something like *t*∈[-*π*, *π*]. It does offer an appealing explanation of why the value of the integral grows linearly with the number of points, especially in the case of the latter interval. I'm less suspicious now, though still not wholly convinced that I haven't stumbled upon some edge case. It remains that without telling the rest of the world how, these fine, upstanding individuals\* managed to make it work in their paper, which is published in a very well-respected journal (not sure if you clicked through, but we're talking about the IEEE Transactions on Magnetics, if that means anything to you), and I'll be damned if I give up before I figure out how to do the same! I'm sure there's some radius of convergence to be found, and I'll keep after it. Hell, maybe I'll even email these fellas and see what they have to say for themselves. Thanks very much for your thoughts, regardless. You've helped `cumtrapz` earn at least some of its esteem back, though we're still not 'besties'. __ ^(*Assumption maintained until definitively proved wrong!)
Agree, kmeans is of course agnostic to the feature set provided. You stated though that people don’t “typically” cluster in “the spatial domain”. I think in image segmentation that it’s actually pretty common to use x,y features as part of the feature set. That’s all I was saying. I don’t know what you mean by connectedness definition in the context of working with spatial features, there is not a raster grid anymore once you hand the feature set to kmeans.
Here's the code I used: clear fun = @(x) 1./x.^2; f = @(x) toSolve(x,fun); x0 = [2;4]; x = fsolve(f,x0); function [y] = toSolve(x,fun) y(1) = integral(fun,x(1),Inf) - x(2); y(2) = x(1)^2 - x(1)*x(2); end It converges. But something important to keep in mind is that the solver is sensitive to the initial guess. For example, if you set `x0 = [0;0]` then the algorithm will not converge, presumably because the function cannot be evaluated there.
I don't know if there's a connection definition in particular. I was just referring to the types of algorithm parameters one might need to process something using spatial domain information. 
What if you create a vector full of 2000 zeroes, then set every other element to 1? Don't have the code off the top of my head, but I think that's something you can do fairly easily.
This is a very basic MATLAB indexing problem. I recommend reading [this article](https://www.mathworks.com/company/newsletters/articles/matrix-indexing-in-matlab.html). You can start by using the `ones` or `zeros` function to create the vector, then index in the other ones. 
repmat(vec,1,1000)
Here's sort of an answer to the first part of your question: a = [zeros([1000,1]),ones([1000,1])]; this creates a 1000 x 2 matrix where the first column is all zeroes and the second column is all ones. 
mod([0:n-1],2) Where n is the desired length of your vector 
`repmat([0 1], 1, 1000)`
Thank you. I think that's the most simple solution :)
Part 2: 1+mod([0:m*3-1],3) Where m is the number of repetitions of your sequence
Also a good solution, thanks!
Didn't think about that. I'll give it a try, thanks :)
As far as I know, yes it is possible. You would set it according to the language you're using in the Mex file. I have a question for you is why are you going from Matlab to C back Matlab? I would think it is easier to stay in Matlab (skip the Mex) or write it completely in C. 
&gt; write it completely in C. Plotting real-time data in C is a nightmare and MATLAB is a far better choice. I've already got some basic examples working really well, so I'm sure this is the way to go. I just need help figuring out how to set variables in the MEX file.
If I understand what you want, you need to allocate \`rxy\` and then initialize it with values. If \`rxy\` is just a matrix or array of real numbers, you can use \`mxCreateDoubleMatrix\` to allocate, e.g., \`rxy = mxCreateDoubleMatrix(m,n, mxREAL);\`. Mathworks has some examples in their documentation: [https://www.mathworks.com/help/matlab/apiref/mexcallmatlab.html](https://www.mathworks.com/help/matlab/apiref/mexcallmatlab.html)
That makes sense. Set the variables like you normally would for C. It might be easier to pass the variables out &amp; then call the plotting routine. Most of my experience is with Fortran based Mex items.
Please don't just do homework problems for people.
The variable is not being used in the C program. It's being used in the MATLAB code. How will the MATLAB code know what the variable is set to or that it even exists.
I'm trying to find a way to let MATLAB know the value of the variable without having to pass it as part of the function parameters.
It's ok. I wasn't aware that this function even exists. I was looking long enough for something like this :)
Ahh, now I understand what you're after reading other part of this thread. &amp;#x200B; Try [global variables](https://www.mathworks.com/help/matlab/ref/global.html) which I think will work here.
Global variables look promising but it appears that they're meant to be used inside of MATLAB and not a MEX function.
Well, as best I can understand, the call stack is Matlab (level 1) to C (level 2) to Matlab (level 3). The global would allow you to bypass the C part (level 2). I am assuming the level 3 part is a stand-alone Matlab script/function
You could also use indexing. Suppose you have a previously undefined variable a. To make the pattern N elements long, you could do: a(1:2:N) = 0; a(2:2:N) = 1; However, for any kind of generalized approach, you should be using repmat - it’s more performant and far more extendable!
Initially create a vector [0 1] and then reinsert it in itself 999 times using a for loop. (Hint: vec = [vec 0 1] )
The integral of 1/x^2 (which is basically your function for small x) converges when you integrate from a positive number to infinity (x = infinity). It does not converge if 0 is in the integration domain (f(x) = infinity). I'm not going to check through that publication. Are you sure they are integrating over the singularity?
Ok. I think I understand now too after reading the other responses. u/Nebabon's suggestion for global vars is a good suggestion. Another suggestion would be anonymous functions, but it would be more complicated.
They're not asking if it's okay with you. It's because they don't want to encourage people posting lazy questions or lazy answers. (lazy answers being one that don't help the asker learn the process, but just do it for them) 
&gt; I'm not going to check through that publication. No prob. Just wanted to point out that the formula isn't from the webpage for "Bob's Tire Repair and Magnets". &gt;Are you sure they are integrating over the singularity? Absolutely not. I'm not sure of anything, other than the fact that they say they used this novel function to improve the estimation of static capacitance between two round wires to within 0.7% of the value from FEM analysis. The methodology section (aside from being non-existant, or rather distributed in a micron-thin film across several sections of the paper) figuratively has crickets chirping. It's almost like they meant to submit it as a conference paper and accidentally ended up at the transactions portal. &gt; The integral of 1/x^2 (which is basically your function for small x) converges when you integrate from a positive number to infinity (x = infinity). It does not converge if 0 is in the integration domain (f(x) = infinity). I'm on board. I'm looking for the RoC now.
RoC is a complex analysis thing right? Wow I didn't realize how long it's been I've forgotten most of that (and all of real analysis, but I forgot that on purpose *shudders*). I'd read through the paper with the assumption that the function is never evaluated at, or integrated over, the singularity. See if the paper makes sense in that context. Alternatively, try reading some of the works which cite this paper and see if they give some clues to the implementation. Failing that... Garbage does occasionally get published. 
&gt; RoC is a complex analysis thing right? Yeah but it maps to the reals too, just instead of a disc in the complex plane it's viewed edge-on as a line. Higher dimensional abstractions exist too... &gt; I'd read through the paper with the assumption that the function is never evaluated at, or integrated over, the singularity. See if the paper makes sense in that context. With you here. The documentation for the various integral functions (by fuzzy consensus) says MATLAB will generally handle singularities. `cumtrapz` has no such note in its documentation. Maybe that's a clue! Also maybe this function is just an atrocity. &gt; Alternatively, try reading some of the works which cite this paper and see if they give some clues to the implementation. Been there, done that, some flavor of "using [7] &lt;insert equation&gt;... " or "... other electric field paths such as the curved path in [12]". Bummer. Thanks for your thoughts. I'll keep after it as soon as the holidays are over. Think I'll take a break for now. Hope you have a jolly Festivus or whatever everyone is celebrating these days!
&gt;With you here. The documentation for the various integral functions (by fuzzy consensus) says MATLAB will generally handle singularities. `cumtrapz` has no such note in its documentation. Maybe that's a clue! Also maybe this function is just an atrocity. Functions like integrate (formerly quad, quadv, etc.) use adaptive methods to handle singularities. Trapz can't do that since it doesn't have access to the function itself, only pre-calculated samples of it. But even then, it only works for functions that have finite integrals. This one is just an atrocity. 
Can you explain why this doesn't work with high resolution grids? As far as I can surmise you would be invoking line() or scatter() to produce the types of hatches shown in your examples. If how they draw falls to meet your needs you should write your own functions. However, if the problem is render/resolution it may be how you are displaying/saving the figures.
With high resolution, the grid points are too close together for the grid markers, especially around the Pole with a polar stereographic projection.
this is a waste of number of reindexing, it can be done with one line, two max. While this works its a lot slower if you check run time.
You can use symbolic variables. Why do you want to do this though?
Well, I'm writing a function that works by piecing together a polynomial piece by piece, in the "input" format I used above. The point of the function is to output the polynomial formed during the function. Really it's just an aesthetic preference to have the function output the polynomial the way I want it to. Does your suggestion require `syms`?
With I matlab you can use: Polynomial can be multiplied using the conv of their coefficients. Using Laplace operator(s=tf('s')) then you can easily multiply coefficients and then get developed or factoriwed form using tfdata ans zpkdata. But this imply using the coefs rather than directly a function handle. 
You should be able to do it using `eval`: list_of_strs = ['(x+3).*(x-5)', 'x.^2 - 2*x - 15'] for i = 1 : length(list_of_strs) `eval('f_x = @(x)', cur_func, ')')` end 
Could you use polarscatter() to produce the desired scatter effect around the pole? I think I'm generally at a loss here. If you have an imagine you would superimpose your hatching, however it sounds like all the options make a mess of things. This suggests the existing functions do not address the spacing between elements or their scaling particular well.
You could create an object that represents your polynomials and overload the object’s display functions so that it prints the object in the form you want it to. [This might help.](https://www.mathworks.com/help/matlab/matlab_oop/displaying-objects-in-the-command-window.html) 
&gt; Trapz can't do that since it doesn't have access to the function itself, only pre-calculated samples of it. Key point, and a great reminder to "slow down/zoom out and look at what you're doing". I forgot that this is just one of MATLAB's many time-saver built-ins: functions you could write yourself in 10 minutes but that are already written for your convenience. I'll pop back over to adaptive integration when I spin back up. Hat's off to you for the help.
There's a lot to explain here. However, the below info should give you a good starting point and enough context to understand the docs. Confusing part of MATLAB classes. By default, they're not self modifying. Meaning than function(object) returns an entire new copy of the object with changed properties. If this isn't what you want, use "handle" classes. https://www.mathworks.com/help/matlab/matlab_oop/comparing-handle-and-value-classes.html
Thank you!!
Update: Turns out I'm plotting it correctly. The reference image I used had modified data for a closed circuit. I'm used the data for the open circuit, which is exactly what I'm getting. So, lack of attention on my part. Thanks for the help!
Look up parfor, but not sure it would be helpful here. Only useful if the outputs from the functions are independent... And I'm not sure it would be very useful on a dual core system.
My system is more than dual core, it was just for illustration! And the outputs of one simulation do not feed into the next so they are independent in that sense.
You should use \[\`conv\`\]([https://www.mathworks.com/help/matlab/ref/conv.html](https://www.mathworks.com/help/matlab/ref/conv.html)) to implement polynomial multiplication.
You can use C/C++ and threads to do that. I think C/C++ allow you to call Matlab functions so it should be simple as making a C function that creates two threads and each one calls myFun. Although, since you are into making it faster even better if you directly write your function in C. [https://www.mathworks.com/help/matlab/write-cc-mex-files.html](https://www.mathworks.com/help/matlab/write-cc-mex-files.html)
Without the parallel processing toolbox, your only option is to launch multiple instances of MATLAB and run your scripts. You could just do half your MC in one, half in the other. Not sure how much the overhead of running 2 instances will hurt you. 
So I could literally open two terminals and just run one version of each script in each terminal?
Yup
if you go this route, make sure the instances have different starting seeds for rnd. if they are set at the same seed, you'll get the same results.
Would you mind to explain what precisely are you trying to achieve? 
This is one of those fun projects where there are a million different ways that you could go about it, and make a complete mess of things no matter which way you choose. Otherwise known as a great learning, or, character building exercise. First, a couple of questions: are you trying to help yourself win at this game to show your parents who's boss? Or, are you trying to fully simulate a game, potentially with multiple people some of which may be your parents? Since the tiles that have already been played can be used by every player, I'd suggest a couple of things: 1) figure out how to keep track of the tiles that have already been played; 2) figure out how to keep track of what you've been dealt (the array is one way of doing it); 3) figure out how to score points, first with what's in your hand, then add in tiles that have already been played. Ultimately, depending on how points are scored, and how you want to use the program, you might want to consider fancy data structures, which may require object oriented code, and... ALGORITHMS. The easiest way to start, I think, would be to figure out how to visualize ways to score points, to make it more obvious for you, the human player, to score. This is literally what you've done so far: create a matrix where the indices define tile color and number and the layout makes visually identifying opportunities more obvious. You can then abstract an algorithm from there. For example: some kind of abstract tree data structure, where three populated nodes in a rows in a branch makes for a possible play, or three populated nodes at a certain depth makes for a possible play... though this would be very similar to your matrix now that I think about it. From THERE you could then figure out how to add in tiles that have already been played. And then once you have that basic structure, adding in a few more rules might require tweaks to search algorithms and whatnot, etc. etc. I did something similar to help me cheat at Scrabble, but I had to adapt Java-based stuff since MATLAB doesn't have a lot of the built-in data structures that I learned in school (unless it does in a toolbox somewhere; DAG stuff maybe? Also on file exchange). So I just cheated by porting code from, "Data Structures and Algorithms With Object-Oriented Design Patterns in Java."
[removed]
I will describe the matter more clearly. Well, after removing the actuator from the schema (1 / 2s), the waveform generated by the Scope block looks like this: [https://zapodaj.net/images/1f6f3347c5008.png](https://zapodaj.net/images/1f6f3347c5008.png) &amp;#x200B; However, the correct course of the controlled variable in the case of the three-position regulation is as follows: [https://zapodaj.net/images/50fb5ea6e70ff.png](https://zapodaj.net/images/50fb5ea6e70ff.png) &amp;#x200B; And now the question is how to transform the scheme with simulink to show the correct course for the three-position control system? Below is a link that allows you to download the current model: [https://www29.zippyshare.com/v/rYwnZTAE/file.html](https://www29.zippyshare.com/v/rYwnZTAE/file.html) &amp;#x200B; &amp;#x200B;
I’d try a filter that was designed with the denoising problem in mind. Non local means is included in recent versions of IPT: https://www.mathworks.com/help/images/ref/imnlmfilt.html That or bm3d would be my first choice.
 Can anyone help me? 
First, note that for the neural network toolbox your data should be in column format (i.e. each column equals one data point), and your inputs and outputs should be in two separate variables. That said, the easy way to turn string labels into "one-hot" labels is to use the function "categorical" followed by "int16" (or "double" or any other casting function that turns values into numerical values), followed by "ind2vec". So, first your outputs need to be in a 1xN array of strings, let's call it T. You can then do "Tvec = ind2vec(double(categorical(T)));" and Bob's your uncle. 
&gt;Optrode Thanks for the reply. Just for a kind clarification, as my table (named **my\_table)** has the dimensions **21392x4** so I will need to convert it from a table to a numeric array using `my_table_array = table2array(my_table);` , so I would need to have my inputs in a separate variable which I would extract from **my\_table\_array** now(let me call that **preds**, of dimension **21392x3)** and let the output labels be referred to as **T (**now of dimensions **21392x1**, all string type labels). So, now, I will need to do `Tvec = ind2vec(double(categorical(T)));` And then, I can use **preds** as the predictors and **T** as the outputs in the neural net toolbox. I hope I inferred your reply correctly, but it would be great if you could kindly clarify :-)
That's correct, BUT with one extra step needed: You need to transpose "preds" and "T". And you must be sure to transpose T before you convert it to Tvec. So "preds" should be 3x21392, and T should be 1x21392, and Tvec should then be 14x21392 (if you have 14 classes).
On a technical note, you might find better performance using a softmax regression for such a small dataset. Neural nets are very prone to overfitting. Then again, it depends on the quality of the dataset. You don't really know until you try. 
if u r finding any difficulty..feel free to use nftool...since it is a gui for the same function, would be slightly easy to start with...
We will gladly help you, but first you have to actually tell us what you want to do. I gather you have a vector and you want the cumulative sum but only of elements less than -0.99? First have a look into `help cumsum` and `help find`. Now, you say your code doesn't run correctly. Mind showing us this code? It might be easier to help you then.
Please reword this a bit. I'm having a hard time understanding what you'd like.
Exactly, I want cumulative sum and count but only of elements less than -0.99, my code is more confused in R, for (i in 1:length(df)){ df2&lt;-data.frame(S=df\[,i\]) level&lt;-ifelse(df2$S &lt; -0.99, level&lt;-1, level&lt;-0) df2&lt;-as.data.frame(cbind(df2$S,level)) dd.rle &lt;- rle(df2$level) ival &lt;- dd.rle$lengths\[dd.rle$values == 1\] levl &lt;- factor(rep(seq\_along(ival), ival)) severidad&lt;-tapply(df2$V1\[df2$level==1\], levl, sum) &amp;#x200B; &amp;#x200B; I want this cumsum and count &amp;#x200B; &amp;#x200B; &amp;#x200B;
I suggest you could use the single line code, assuming the data is in x: Y=cumsum(x(x&lt;-0.99)); 
l want this cumsum and count for more colums data cumsum count \-0.636256 0 0 \-0.926217 0 0 \-1.783181 0 0 \-1.349061 0 0 \-1.438958 0 0 \-1.983866 0 0 \-2.110742 -8.665808 5 \-0.926217 0 0 \-1.783181 -1.783181 1 &amp;#x200B;
X = your dataset; L = 1:length(X); % length of your dataset X1 = find(X&lt;-0.99); % find locations of points least than -0.99 Y1 = cumsum(X(X1)); % cumsum of filtered datapoints Y2 = 1:length(X1); % count of filtered points Y3 = L(X1); % original point locations
this code work because not for me, i need reset when value is higher than -0.99 my expample, please help me =( mydate cumsum count 0 0 0 \-1 0 0 \-1.2 -2.2 2 1.9 0 0 1.3 0 0 \-1 -1 1 \-0.8 0 0 \-1.5 -1.5 1
According to your latest explanation, you also need to reshape the result. This can easily been done via logical indexing and memory preallocation for the result: Idx=x&lt;-0.99; Y=x*0; Z=x*0; Y(Idx) =cumsum(x(Idx)); Z(Idx) =sum(doublIdx)); 
Take a look at the ecdf function
Please help me
What are the two vectors? Can't you just use histcounts on the time vector alone? Have you tried using datenum?
Thank you so much @Optrode. I was able to get my Neural Net working. I used the toolbox to generate some plots including the confusion matrix and performance plot. Now, the thing is that the confusion matrix has 14 classes (as the 14 labels like Angry, Happy, Neutral, Sad etc.) were converted to when ind2vec() was used. The Confusion Matrix plot looks really blurred/overlapped ([https://drive.google.com/file/d/1KioESfxfHKJpuNRqxOFQxsvLfnF57Euo/view?usp=sharing](https://drive.google.com/file/d/1KioESfxfHKJpuNRqxOFQxsvLfnF57Euo/view?usp=sharing)) and you can't just see the values until zoom in is done within the MATLAB Figure Window. I was wondering if there is a way to view the confusion matrix properly. Also, is there a function/command which lets me know the original names of the classes, for example Class 1 - Angry etc. 
This question is very broad. The Mathworks help site often has pretty good answers for such broad questions or you can google keywords to find answers as well. It sounds like you want to use [imread()](https://www.mathworks.com/help/matlab/ref/imread.html) to find the properties of image file.
Typically imread() will return an nxmx3 array, which represents the rgb values for each pixel in your nxm image
Thanks sir tysm....
&gt; A curated list of awesome Matlab frameworks, libraries and software. with that many listed, I don't think it's **curated** anymore, more of a list ;) also fyi, you can find plenty of these "awesome-lists": https://github.com/topics/awesome-list 
Agree. It would be a lot better if it were organized into categories
here's one: https://github.com/mikecroucher/awesome-MATLAB
I never succeed in using the GPU for real time application. The bottleneck was the transfer, because it is not possible to transfer in background then I need to wait for the transfer to end before starting the computation. Go C++ cuda if you need real time. It’s 100-1000 time faster on my computer (titan Xp with 128GO RAM). 
Total guess: is your MEX compiler not aware of the additional file path?
I'm not sure. MATLAB isn't something I use regularly.
I'm pretty sure you don't need to add it to the MATLAB searched directories, but to the environment variable PATH. Aka MATLAB command getenv, add the path I think comma separated and then setenv. I'm on mobile so I can't test this.
&gt;I'm pretty sure you don't need to add it to the MATLAB searched directories, but to the environment variable PATH. I'm sorry I don't follow what you are saying. What is the environment variable PATH and how do I edit it?
&gt; I'm pretty sure you don't need to add it to the MATLAB searched directories, but to the environment variable PATH. I'm sorry I don't follow what you are saying. What is the environment variable PATH and how do I edit it?
you cna also include the directories and files in your mex call rather than messing with path vars. on mobile... if you need an example I can make one later
Ya I'd really appreciate an example. I've actually tried including the full path to the .hpp files but I still had the same error.
so I just downloaded boost and extracted it to a folder, then created a basic mex function (boost_test.cpp) to load a boost library and do nothing to a matrix (to prove I could compile) // boost_test.cpp #include "mex.h" #include &lt;boost/numeric/ublas/matrix.hpp&gt; #include &lt;boost/numeric/ublas/io.hpp&gt; using namespace boost::numeric::ublas; void mexFunction( int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[]) { matrix&lt;double&gt; m (3, 3); for (unsigned i = 0; i &lt; m.size1(); ++ i) { for (unsigned j = 0; j &lt; m.size2(); ++ j) { m(i,j) = 2 * i + j; } } } Then compiled at the MATLAB command line with mex boost_test.cpp -Iboost_1_69_0\ What did you mex call look like with the include line that wasn't working?
I've added the include lines to my original post. It fails on the first one. If I comment it out then it fails on the second one. The only difference between the command you ran and the one I ran was that you have 1\_69 and I have 1\_67.
Thanks. I'm fairly new to cuda. Can you run interrupted cuda code on an RT Linux kernel?
part of it is your include lines in the code have "boost" in them which is the top level folder name, yet the path you added dives down all the way to the file level. there should be a folder called "boost" in C:\Program Files\boost\boost_1_67_0 that's what you want your include path to be. keep in mind the lib folder is used for the binary library files, which is for linking not compiling. try the cmd mex &lt;your_file&gt; -IC:\Program Files\boost\boost_1_67_0 and see what happens
So I did that and I got the following error message: \MATLAB\Files\boost\boost_1_67_0 not found; check that you are in the correct current folder, and check the spelling The thing is I don't even have a folder called "Files" in my MATLAB directory. So I tried to make a folder called Files and then copied the top level directory along with all its content into it. I then ran the command again and now I'm getting this error: Error using mex Unknown file extension ''.
Could put a backlash at the end and see what happens
You mean like this: mex mex_file.cpp -IC:\Program Files\boost\boost_1_67_0\ Same result. I'm also confused as to why MATLAB can't just access the library from where it is installed. Isn't that the whole point of this line: -IC:\Program Files\boost\boost_1_67_0\
thats what that line does; it tells the compiler where the boost header files are. im not sure how much more i can help without being there...try a fresh workspace and boost install. sidenote id try to avoid spaces in paths maybe thats it
The space between Program and Files is probably the problem, the space initiates a new command option. Either put " (usual in programming, idk about MATLAB's ' delimiter) around the path à la -I"C:..." or install boost where there isn't a space in the path (e.g. C:\boost) 
The environment variable PATH is assigned by the system and defines where compilers look for dependant files. Apart from the system wide definition (containing paths like sytem32) the logged in user expands the variable to contain paths like AppData and the process can also enrich its PATH definition. So by adding the path to the variable, you're doing the same as marking it as include directory (you do that in the other comment thread). Type "getenv('PATH')" in the MATLAB command window and you will see all paths queried during compilation in addition to the current directory. "doc getenv" will probably also explain something about environment variables. Note that I'm not a CS guy, but I've worked with MEX and DLLs in my master's thesis.
You do a lot of work elsewhere in this thread about adding stuff to the Matlab path, but I think /u/cegras is right in that it's probably a compiler setting. The mex command calls whatever compiler you have setup. This is probably akin to setting additional include directories in a visual studio project. 
yes I think so
Does the folder/directory called `C:\Users\anon\Dropbox\masch-lernen\Projekt\files\plots_sortiert\circle_grav` exist? If not you likely have to create one for each file you are reading. You can do this via the `mkdir` and `isfolder` commands. 
In finite precision arithmetic, there is no way to guarantee that they give you exactly the same answer and for complicated functions, could give you quite drastically different results.
The folder did existed, it was a problem the filetype, at least I assume it was, of fpath. I solved it by changing how I was building the filename and pathname and then using saveas(gcf, strcat(new_output_dir, string(new_filename))); Thanks anyway.
https://imgur.com/5Ny1JCR thats using imnlnfilt, where would i find a good example of bm3d
A couple thoughts: When you say "That's using imnlnfilt", did you perform the filtering in RGB space or L\*a\*b\* space as the example and some of the other comments here have suggested? If RGB, you will likely get better answers in L\*a\*b\* space. Also, varying the hyperparameters of Non-Local-Means will often change the results you are seeing. Especially important is the 'DegreeOfSmoothing' parameter and the 'SearchWindowSize'. Did you vary those or did you just call imnlnfilt with default values and call it a day? Last thought. BM3d. I'd suggest literally googling "BM3d" and choosing the top link. The original authors provide a reference implementation on their site. &amp;#x200B; &amp;#x200B;
I used the example given within the link you gave. Here's my version: clc; noisyRGB = imread('img2.jpg'); imshow(noisyRGB); noisyLAB = rgb2lab(noisyRGB); roi = [210,24,52,41]; patch = imcrop(noisyLAB,roi); patchSq = patch.^2; edist = sqrt(sum(patchSq,3)); patchSigma = sqrt(var(edist(:))); DoS = 1.5*patchSigma; denoisedLAB = imnlmfilt(noisyLAB,'DegreeOfSmoothing',DoS); denoisedRGB = lab2rgb(denoisedLAB,'Out','uint8'); imshow(denoisedRGB); 
Thank you for your help, I was definitely over complicating things and this works. Cheers 
&gt; This is probably akin to setting additional include directories in a visual studio project. Funny thing is I tested this in VS and it worked fine. MATLAB is just weird.
You don't program the software to look for your trigger pulse. You set it up to receive an image (i.e. a serial port connection with a long timeout), and apply the pulse to the cameras. Images will likely arrive at slightly different times, but will all have been captured simultaneously. Does that make sense?
It is doing matrix left division of the transposed MT by transposed lnDR matrices. "\\" is left division and the single quote is transpose. 
Further, this seems to be equivalent to least squares fit, why is that?
I can't really say without knowing much about what you are doing, but there is no fitting going on in that code. My guess is this is just the analytical solution to whatever your least-squares fit is approximating.
Just an added note: `'` is the *conjugate transpose*, which can be very surprising in transposing a matrix/vector of complex numbers! [Documentation for mldivide \(\\\)](https://www.mathworks.com/help/matlab/ref/mldivide.html) [Documentation for transpose \(.'\)](https://www.mathworks.com/help/matlab/ref/transpose.html) and [for ctranspose \('\)](https://www.mathworks.com/help/matlab/ref/ctranspose.html)
Technically, a single tick is the complex conjugate transposed, while a .’ Is the regular transpose. It doesn’t matter if you’re only dealing with real numbers. But that’s hours of debugging that I will never get back. 
Directly from the “FM”: o. If A is a rectangular m-by-n matrix with m~=n, and B is a matrix with m rows, then A\B returns a least-squares solution to the system of equations A*x=B. 
You can physically go through Finder/whatever file browser you have, and drag+drop whatever file you need into the MATLAB folder (MATLAB automatically creates this folder when it is installed on your computer, and this is where it keeps all the functions/scripts you create). &amp;#x200B; Alternatively, when you open any .mat file from your file browser, it will automatically open in MATLAB. Open the file in this way, and then click "save as", then make sure you save it to the MATLAB folder. 
I don't follow. I have the library installed in the same directory as my MEX file. The problem is the linked cannot open it. I get the following error: LINK : fatal error LNK1104: cannot open file 'libboost_filesystem-vc141-mt-x64-1_67.lib' However, that file is located here: `MATLAB\Files\boost\boost_1_67_0\stage\lib` So I'm not sure why it's not working.
Do you by any chance know how to modify the Environment PATH? The thing that is returned by `getenv('PATH')`
Is this what you are looking for? https://www.mathworks.com/help/matlab/ref/addpath.html
In an over determined system, mldivide is a least squares fit
u/Echo_, u/yerrrrrrp, I'm pretty sure this is a follow up question from https://www.reddit.com/r/matlab/comments/aaml5i/how_to_i_add_boost_libraries_to_matlab u/NativeMeasurement you have to differentiate between MATLAB's paths (where it looks for functions and macros) and the Linker's paths (where you want to add your boost dependency). To add to the former paths, addpath is the command, for the latter you have to write the return value of getenv to a variable, edit that variable (it is a vector of characters) and re-set the PATH environment variable by using setenv. The documentation of setenv contains a minimal example https://www.mathworks.com/help/matlab/ref/setenv.html 
This is of course, correct. I would only add that syntactically, this is designed to be though of as how you would divide to solve for x in the scalar problem: ax=b (division). In the case of a fully constrained system, mldivide means solve the system of equations for x. In the case of an overconstrained system, solve the least squares system. Also, from an algorithm perspective, this syntax is useful because you are directly declaring that you intend to solve a system of equations. This avoids explicitly computing the inverse or pseudo-inverse of A, which can be numerically unstable.
You need to `#include` the headers from the library that you want to use in the mex function. Untar the library to a convenient directory. Then when you compile with `mex` you will need to pass `-Idirectory` arguments that tell the compiler to search those directories for headers when compiling. `mex` will forward these arguments to your compiler. For the most part, the process is no different than compiling any other C file. I suggest you learn and understand the C/C++ build process before trying mex. Mex adds a small amount of complexity because the `mex` command will add a bunch of flags to the invocation of your actual compiler in order to have access to all of the mex stuff, and it also has to forward your flags to this compiler invocation (I think I've run into some small syntactical issues with the forwarded flags before).
Thanks. Although I think I already did that with `path(oldpath, newpath)` I tried it and it didn't fix my issue.
I might by cursed. I tried running the following command: setenv('PATH', [getenv('PATH') ';C:\Folder\OtherFolder\MATLAB\Files\boost\boost_1_67_0\stage\lib']); Then I typed getenv('PATH'); I confirmed that my folder was in fact appended to the end. Yet when I try to build the file &gt;&gt; mex simpleBoostExample.cpp -IC:\GitHub\WirelessBloodPressure\MATLAB\Files\boost\boost_1_67_0 Building with 'Microsoft Visual C++ 2017'. Error using mex LINK : fatal error LNK1104: cannot open file 'libboost_filesystem-vc141-mt-x64-1_67.lib' It's just so confusing why it cannot open it.
To add to this, you can call mex with the verbose flag (`-v`) to get it to output the exact `gcc` (or whatever compiler your using) commands, and then you can take those commands and compile the code outside of MATLAB entirely. As /u/Idiot_Engineer said, sometimes `mex` doesnt get the syntax quite right, and ive personally found that if I need non-standard compilation options in the `mex` call it is easier to work directly with `gcc` and make modifications to the output of `mex -v &lt;...&gt;` myself than it is to try and get `mex` and `gcc` to understand each other.
Check the output of `which findpeaks`. If it is not finding the function in one of the built-in Matlab directories (where they are depends on your operating system), then either you have directories you shouldn't in your path (there is a setting in the toolbar to fix that) or you have a `findpeaks` function in your personal Matlab directory (which again depends on your operating system) so you should find out why and either move, rename, it delete it. If it is in a standard directory, it may be the a toolbox is shadowing the normal version. This shouldn't happen. You might want to try resetting the path to the default to see if that fixes it. If not you might need a clean install.
Can you post the code for easier understanding? How did you do the fft?
I added the code you can check it
What equation are you trying to solve? This doesn't look like the standard heat equation. For that, I'd expect something like: `T(j+1) = T(j) + dt*a*del2(T, dx);` which would get you the temperature at the next time step based on current temperatures along the rod. For tips, instead of typing out the equation explicitly for each node, you can take a few different approaches, which would allow you to adjust things for more nodes: 1. You could store the areas in an array, and then build an inner loop to solve the equations at each node; or, 2. You could learn [vectorization](https://www.mathworks.com/help/matlab/matlab_prog/vectorization.html) in MATLAB to reduce the use of loops and improve performance; or, 3. You can use some of MATLAB's built in functions like `gradient` or `del2` to make things even better.
This sounds like a job. Are you offering pay?
since it's hw i didn't think people would ask me money for it though
Why don't you just post your question here, and see if someone can help. What's the advantage of going over DM?
1) What are X and Fs? Or, at least what is the size of X? 2) Why is NumberOfHarmonics = 521? Should it be 512?
okey, but some things are in my maternal language and might need translation. #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;math.h&gt; #ifndef M_PI #define M_PI 3.1415926535897 #endif int main() { int n; float proiectieX[100], proiectieY[100]; printf("Numar de vectori: "); scanf("%d" , &amp;n); for(int i = 1; i &lt;= n ; ++i) { float theta; float modul; printf("Modulul vectorului %d si unghiul dintre Ox si vector in grade:", i); scanf("%f %f", &amp;modul, &amp;theta); if(modul &lt; 0) continue; theta = (theta * M_PI) / 180.0f; proiectieX[i] = cos(theta) * modul; proiectieY[i] = sin(theta) * modul; } for (int i = 1; i &lt;= n; ++i) { printf("Proiectiile vectorului %d : %g %g \n", i, proiectieX[i], proiectieY[i]); } return 0; }
X is my signal and Fs is the sampling frequency. 521 is correct it's just a typo.
Lol you're not even posting it here for other people to learn from, you just want someone to message you and do your homework for you for free?
So X is the signal sampled on Fs, and you do the inverse DFT on that with ifft?
no, X is my original signal based on external data. and I use fft not ifft.
Ok. So what part are you struggling with? If you want to accept input from the user, you can use `input` in matlab. Everything else is so close to exactly the same, I can't imagine what you're struggling with. 
I think the problem the half amplitude issue. The first element of Y is the real DC component but the others are halfed. If you plot the whole Y vector it will be symmetric except the DC component. So you should multiply the M vector by 2, except the first element. But, I dont really understand your code. Why do you sort M? Don't you want to see the whole spectrum?
I tried multiplying by two but nothing has changed. the sort function is used to obtain the amplitudes and the frequencies of the signal. here's the original signal: https://imgur.com/a/H9M7s9g and here's the reconstructed signal: https://imgur.com/a/kjUsRhK
^(Hi, I'm a bot for linking direct images of albums with only 1 image) **https://i.imgur.com/acxzwBR.png** **https://i.imgur.com/w5rTQ0v.png** ^^[Source](https://github.com/AUTplayed/imguralbumbot) ^^| ^^[Why?](https://github.com/AUTplayed/imguralbumbot/blob/master/README.md) ^^| ^^[Creator](https://np.reddit.com/user/AUTplayed/) ^^| ^^[ignoreme](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=ignoreme&amp;message=ignoreme) ^^| ^^[deletthis](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=delet%20this&amp;message=delet%20this%20ed5vdgz) 
You should try the ifft after the fft, before sorting the components.
Here are the steps you should follow: 1) Learn C# to understand the source. 2) Learn MATLAB/M language. 3) Use your head the transpile the source. Btw, most basic language features are the same, only syntactic differences. But higher level features are very different and IMO C# is much better and more complex. I will help more for 314159.26$ per hour.
i appreciate the fact that you take the funny approach. Bonus points :)
How did you calculate the natural frequencies?
By using eig values and vectors and then using a code to derive that. 
What code can I use to find the mode shapes?
And I didn't pressed the down button.
Translating C# to Matlab is going to be a challenge since the languages are very different if you are doing it right. You'd be better off beginning from an algorithmic description and then re-implementing it in Matlab.
Are you apodizing and zero filling the signal prior to fft?
The fft uses complex exponentials as their basis function. This is the analysis side of the equation. Your synthesis equation you are using is the sum of sines with phases. This is different from the analysis equation, and this is why you are not getting the results you need. If you want to convert FFT output into something you will can feed into your synthesis equation. You will need to do the following 1. Ensure you're signal is strictly real. (FFT is designed to analyze both complex and real signals) 2. Use only data from the first half of the FFT (the later half should be replicate data if indeed your signal is strictly real) 3. Multiple the amplitudes by 2 ( which I see you've done in your code ) 4. Offset the phases by -pi/2. You don't need to offset the phases by -pi/2 if you use the sum of cosines with phases as your synthesis equations. 
How would this affect my output?
[https://www.mathworks.com/matlabcentral/answers/9519-draw-the-mode-shapes-and-get-the-natural-frequencies-of-the-cantilever-beam-with-a-force-in-free-e](https://www.mathworks.com/matlabcentral/answers/9519-draw-the-mode-shapes-and-get-the-natural-frequencies-of-the-cantilever-beam-with-a-force-in-free-e)
I used the function "isreal" and it says my function is real. I also tried the rest but not #2. What do I need to change in my code to ensure using the first half?
This guy Pi's.
I took a closer look at your code. I see you've taken care of the fundamentals. You ensure the first half of the FFT is only used with this line... f=(0:1:length(Y)/2)*df; %frequency axis Since you've taken care of the fundamentals, you must have a bug in your code somewhere. I would be suspicious of the line... M = M(f&gt;0); I think this line later throws of your harmonic numbers when you synthesize your function. This is the line I am referring F(i01,:)=M(SelectedPoints(i01))*sin(2*pi*f(SelectedPoints(i01))*t+P(SelectedPoints(i01))); Your f vector didn't get paired down like your M vector did, so I think your M no longer matches your f, and shoot for that matter I am now noticing that your P vector also has the same mismatch problem. I don't see your t vector being made in the code you provided, so I am also suspicious of your t vector as well. 
I'm a bit rusty but I think your calculation of df is wrong. I'm also not clear why you're sorting M twice. 
I might have misunderstood the linked pictures and problem I am on mobile it might not help. My question arised because because it appeared that looking at the pictures of previous comment. I had a similar problem that was due to apodizing the function prior to fft and then I couldn't reproduce it, the images reminded of that problem I had so I threw my guess in hopes that it would help...
So this line: M = M(f&gt;0); is working against you here. It looks like you used it in conjunction with: GC = ones(size(t)); to do your DC offset, but that'll only work in the very specific case where that DC offset is 1. To generalize this, I would remove that first line and replace it with M(1) = M(1)/2; to do what /u/SZ4L4Y was describing (correcting the first element to the amplitude of the others), and then change the ones() to zeros() in your preallocation statement. The other bit of this is that Matlab's FFT gives back phasing relative to cosine. So just switch the sin in your F to cos and you should be all set with that. Let me know if this fixes your issue.
i know with hist you can pass a vector of bin edges as an input. you could try doing that for histogram as well (assuming it's possible) to see if they give the same results. it's also worth looking into histc as well, which uses center-points as opposed to edges. my bet is it's just a difference in how histogram and hist (and histc) define their buckets. maybe see if you can have matlab return those as well with: &amp;#x200B; \[counts,centers\] = hist(**data, 25**) &amp;#x200B; (i doubt this is the case since you are assuming the data is gamma/exponential, but is it possible your data isn't necessarily continuous and is instead discrete? if so, another possibility is that matlab is handling data that falls on the edges of the buckets differently. if the data is "discrete" such that you have a large number of points that are equal to edges, like at 1.25, it could be putting them in the "less than 1.25" in one case and "greater than 1.25" in the other.) 
Thanks man I really appreciate it, it worked. I had to what you said but without changing the zeros func. Thanks again.
zeros( a,b,c,d) will make a multi-dimensional array of size a \*b\*c\*d, with zeros for all elements. Here, it has 4 (=2\*2) entries for each combination of Freq and Offset. could you be more specific about what you mean for 'all distances and offsets' for this problem? 
 2.3:(0.3/(NFreq-1)):2.6 is used to create a vector. It's basically start\_value : delta : end\_value Note that end value is inclusive (vector will include end value if it is exactly hit based on the delta).
What does the documentation say about this? 
[stepinfo\(\)](https://www.mathworks.com/help/control/ref/stepinfo.html)
You can share set-up (and tear-down) between function by having a methods block labeled (TestMethodSetup). Matlab writes about it here: [https://www.mathworks.com/help/matlab/matlab\_prog/write-setup-and-teardown-code-using-classes.html](https://www.mathworks.com/help/matlab/matlab_prog/write-setup-and-teardown-code-using-classes.html)
What I mean to say is for the PO AND Ts to show on the plot of a scope block
there are cursor measurements and triggers you can enable on a scope block, but i've never found them to be too useful and more just clunky. https://www.mathworks.com/help/simulink/ug/cursor-measurements-panel.html https://www.mathworks.com/help/simulink/ug/scope-trigger-panel.html i've always had to adjust the cursors and manually get what i need rather than having the scope label it for me, let alone in real time. if it were me id just post process in a matlab figure with stepinfo() or something else. you could get fancy and put the script in the PostFcn of the model and have the figure pop up after each run if you really wanted, but that'd probably be annoying when you don't need it. besides, i usually recommend staying out of model properties since most users don't know that exists and can cause problems if you send your model to others.
Instead of function, you can build a test class where you can write multiple methods each testing one functionality. 
Use a TestParameter property in a test class to automatically test with each value. Test classes pay for themselves quickly and this is one of the reasons.
Cursor measurements are what I currently use, but as you said, they are very tedious. Guess I have to live with it for now.
Testparam ( thereby creating three separate method calls), shared setup code in testmethodsetup are all good suggestions. That would be the ideal way. My suggestion is also look at adding diagnostics [munit diag. ](https://www.mathworks.com/help/matlab/ref/matlab.unittest.diagnostics.diagnostic-class.html) 
What do you know about the problem? What have you tried? I assume you already have some background in the mathematics of the task you've been given? 
the only think that i was given is to record a sound signal less than 3 sec and insert it to matlab and so i did. Then i had to plot it and then came the question above. I tried a formula that supposedly calculates the energy of a singal: n = \[-10:9\]; e1= exp(abs(n)); %e\^|n| e2 = (2).\^abs(n); I was wondering and it was the subject that i needed the help mostly how someones understands the question above so i could translate it to matlab code and especially the part that says "100msec sliding window and with a 50% overlay between adjacent windows. " &amp;#x200B;
Do you have a question?
yes i wonder if the formula i use is correct n = \[-10:9\]; e1= exp(abs(n)); %e\^|n| e2 = (2).\^abs(n); and if not how would any advice me to go further into the solution? &amp;#x200B;
Did you copy paste that from somewhere? What does n represent? Where's your signal?
my signal is a random audio file i recorded and inserted into matlab. then im asked to plot it and so i did. Then im asked the aquestion in the original post above. Sorry for the bad translation but i used a translator because its not in english. The formula above is in a pdf posted from the teacher and i suppose it was the one i needed to use but im not sure. \*the exercise stated that it had to be an audio signal with sampling rate 8000 Hz and thats it. 
That has nothing to do with the power in a signal. We can't help you if you didn't pay attention in class. We can't teach you signal processing. You should get some help from your school to learn the material you need, and then when you understand it, feel free to as for help with using Matlab. Matlab can do whatever calculations you want, but it needs to be told what to do. It cannot do calculations for you if you don't know how to do it by hand. 
you are right maybe im not being enough thorough here. So my signal [https://imgur.com/a/gHeqhoi](https://imgur.com/a/gHeqhoi) . so i need to plot the energy of it within a 100msec sliding window and with a 50% overlay between adjacent windows. And the formula of energy [https://imgur.com/hcGz3r3](https://imgur.com/hcGz3r3). the think i need help mostly is the "100msec sliding window and with a 50% overlay between adjacent windows." ??? &amp;#x200B; sorry for all the trouble btw
You pointed out that hist uses bin centers while histogram uses bin edges, but the code you used doesn't account for that. That is, if you pass in the exact same edges to each function they will bin the data differently and you'll get two different plots. &amp;#x200B; There is an example here showing how to convert bin centers to bin edges: [https://www.mathworks.com/help/matlab/creating\_plots/replace-discouraged-instances-of-hist-and-histc.html#bup38m7-5](https://www.mathworks.com/help/matlab/creating_plots/replace-discouraged-instances-of-hist-and-histc.html#bup38m7-5)
It's a bit concerning that you've confused sigma notation for e^x. You seem to have much greater difficulty than figuring out a moving average. 
You can do this in python too using the sympy, numpy, and control systems toolboxes. All free. 
it seems that you are just aggressive for some reason i dont understand why. the formula for the energy (sigma notation) is given to me by the teacher so propably someone else here is a bit confused but anyway. Next time just dont reply if you dont have the time or courage to help and just want to be smart...
Yes sure but may be not all are programmers like yourself!
K
Nice to see you got it working (somehow) using sudo. I think the lock error is actually unrelated to the uucp group, and is actually related to the lock group. On Fedora at least the lock file directory is only writable by people in the lock group, so unless your user is in it, you can't create the lock file. Also, I believe your avrdude error from your comment is related to the rxtx library in MATLAB. MATLAB ships its own library, but they are horribly out of date and won't work properly. To use them properly, you need to link in the system-wide rxtx library. This document should give you the commands to fix the group problem and rxtx library problem: [https://github.com/imciner2/Linux-Scripts/blob/master/InstallationNotes/InstallationNotes\_MATLAB.txt](https://github.com/imciner2/Linux-Scripts/blob/master/InstallationNotes/InstallationNotes_MATLAB.txt)
If the missing areas are saturated or have a different value than the rest of the image you can threshold them and create a binary image of your missing information and save that
[https://imgur.com/a/tguFXf6](https://imgur.com/a/tguFXf6) Here is the image
^(Hi, I'm a bot for linking direct images of albums with only 1 image) **https://i.imgur.com/CzeB3Vo.jpg** ^^[Source](https://github.com/AUTplayed/imguralbumbot) ^^| ^^[Why?](https://github.com/AUTplayed/imguralbumbot/blob/master/README.md) ^^| ^^[Creator](https://np.reddit.com/user/AUTplayed/) ^^| ^^[ignoreme](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=ignoreme&amp;message=ignoreme) ^^| ^^[deletthis](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=delet%20this&amp;message=delet%20this%20ede6w9m) 
The RGB values of white pixels are 255, 255, 255. you could threshold your image and see what areas you detect with different thresholds. You can literally check and see if THRESH = 255; white_areas = IMG(:,:,1) &gt; THRESH &amp; IMG(:,:,2) &gt; THRESH &amp; IMG(:,:,3) &gt; THRESH ; There is probably a more efficient way but that might be a good start.
One of the best ways to learn is by reading and trying things out. Sometimes with a new language or IDE it can be hard to know what to look for... Check out: * [How to draw a rectangle](https://www.mathworks.com/help/matlab/ref/rectangle.html) * More generally, [how to use the patch command](https://www.mathworks.com/help/matlab/ref/patch.html) * [This cool comparison of plot commands by Jan at MATLAB Answers](https://www.mathworks.com/matlabcentral/answers/353653-how-to-draw-bunch-of-line-segments)
Would you mind using [pastebin](https://pastebin.com/) or `code formatting` to share the code in question? You can edit your post to add it in. I clicked your link (which many people won't bother to do, honestly), but as soon as I saw it was a download, I closed the tab. You'll get better help if you meet folks at least halfway, especially since this is a homework problem. We want to see that you're putting in the effort and just need some help over a speed bump.
an RGB image should be stored as a 3-dimensional matrix in Matlab. Look at it as three 2D matrices. Each 2D matrix is 1024 by 768 (based on the imgur link you linked to with the picture being 1024 by 768 pixels). Each of the three matrices have values at each pixel location, either an R (red), G (green) or B (blue) value for the pixel in the image, and it should be in that order. Hence, if your 1024x768x3 matrix is called IMG, then IMG(:,:,1) is is all of the 1024x768 values in the 1st 2D matrix corresponding with the R values. You're only interested in R values that are 255 (or at least *close* to 255, all of the ones you're interested in might have been stored as 254 or lower). By taking the IMG(:,:,1) matrix and seeing which are &gt; or &gt;= THRESH, you're making a binary matrix with 1s where the values are above your set threshold and 0 everywhere else. 
This is a great starting point for the technical side. For your problem in particular I would recommend drawing out by hand what you are trying to plot. Specifically what are each of the vertices for an arbitrary rectangle in terms of the integration range, the number of rectangles, the function values at different points, ect. I always find that if I have a well defined description of the objects I want to draw that it ends up going much smoother.
Why do you want to use Matlab to do this?
I have a script that searches all folders in under the cwd and looks for a certain file type, opens all 5hr folders that contain that file type and opens all the files within each folder. I could send it to you if you think it would help. You would need to change it a bit to do what you need but it would be a good starting point 
It sounds like a great addition to your paper/project to provide a visualization for the estimates you use for integration. I think you're onto the right track too, in terms of using just a few rectangles/trapezoids to show the estimation process. Look into the "patch" and "fill" commands to create filled polygons to represent your integration estimates on the plot. 
Do you have any idea why do I have to use all the 521 harmonics to get the same plot i mean the upper one. Because 2 harmonics the fundamental and the 2nd should be enough.
I have a similar script that does something else and it looks like this. Not sure why you're code doesn't work. Can you describe the behavior or the error you get? %%%%%%%DROPBOX FOLDERS%%%%%%%%%%%%%%%% A = dir('pathtodir'); for ii = 3:length(A) if A(ii).isdir % do something end end
If you’re selecting that whole window from those pictures, it looks like the dominant harmonic is the 19th or so relative to a fundamental that spans the entire window. You’ll see it in your mag/phase plot. So you’ll definitely need to go at least that high to get something resembling the original. And then to get to harmonics of that (I see a hint of a third in there maybe? To make those peaks so sharp) you’ll need to go out to that multiple of the 19th. 38, 57, etc. Another way to do it would be to grab just a single peak to peak (eyeball it) and examine that as your window. Then all your harmonic content will be relative to the obvious periodic function you are trying to break down. You’ll lose the very wide periodic oscillation (notice how the average amplitude of that wave gets slightly larger in the middle and smaller at the beginning and end) though. 
As a starting point, it might be worth increasing your Java heap allocation to the maximum: [https://www.mathworks.com/help/matlab/matlab_external/java-heap-memory-preferences.html](https://www.mathworks.com/help/matlab/matlab_external/java-heap-memory-preferences.html)
Google led me here: [http://flir.custhelp.com/app/answers/detail/a\_id/92/\~/how-do-i-convert-from-saf-format-to-matlab-format%3F](http://flir.custhelp.com/app/answers/detail/a_id/92/~/how-do-i-convert-from-saf-format-to-matlab-format%3F)
I have to do it using matlab. Its required. 
Yes please, if you don't mind. Are they opened in a tree?
Matlab could do this, is it the best? I wouldn't know what to tell you but, it would be easy to use and quick to get results. I would start off by making date and time different columns. Then convert the data to .csv for easier use. Matlab will make a matrix that you would expect like you see in Excel. If you have plenty of ram I'm sure you can load it all in, of not you'll have to get a bit fancy and read the data in chunks. Anyway, once you have that it's as simple as saying which data you want to average over which times. With a few additional conditional statements you can make it create data for seperate time frames (hours,days,weeks,etc.) My best advice to new Matlab users is to break your solution up into as many simple/small operations possible. Then once you have a game plan implement the code. Matlab has great documentation, so definitely google functions and possible solutions to those little small problems you've found. At the end you'll have some Frankenstein code that you could debug until you have the answer. Keep us updated OP.
Sure...if Elon is your dad I want a lot of money tho lol
Oof, why not try to pick out some questions that would help you get a better understanding, and post them here?
https://www.reddit.com/r/matlab/comments/462uwe/submitting_homework_questions_read_this/
Pm me
do you mean something like this: contour(A,\[1000 1000\]) you can check out the contour() function and the 'levels' argument documentation: [https://www.mathworks.com/help/matlab/ref/contour.html#mw\_4959b997-8ea1-4e0e-aa5e-44e5fdbfa8c5](https://www.mathworks.com/help/matlab/ref/contour.html#mw_4959b997-8ea1-4e0e-aa5e-44e5fdbfa8c5)
&gt; If you're having trouble finding the distribution of the plots I would recommend using more bins. Hey thanks a lot for the pointers! My issue is that the shape of the underlying distribution should and does not depend on the number of bins. Simply because a histogram is a rough approximation of the underlying smooth function. And yes, when I use automated binning, because of the number of samples I have (over 90k), you do get empty bins which look funny. 
Hey thanks! I tried all this. I have over 90k samples which really fucks this up.
It sounds like you want to find and search through the slope of your signal. If you can find the peak, then you only need to search for changes in the slope.
Somewhat, yea. &amp;#x200B; What I want to do is generate the surf plot of A then add a single contour line to the surf plot which connects all values &gt;= 1000. &amp;#x200B; Imagine, as an example, that my surf plot is a sphere (it isn't, but this example might help illustrate) where the "equator" is at Z=0 and the "north pole" is at a value of 50. What I would want to do is add a bold colored line at a value of, say, Z=43. So I would have the overall surf plot, but it would be annotated (if that is the right word) with the line which follows the surface.
So it allows me to choose a folder and displays it in the tree. However, when I click on the root folder in the tree I get the following errors: Error using dir Function is not defined for 'matlab.ui.container.TreeNode' inputs. &amp;#x200B; Error in mytreeapp/nodechange (line 13) files=dir(node); Error using matlab.ui.control.internal.controller.ComponentController/executeUserCallback (line 352) Error while evaluating Tree PrivateSelectionChangedFcn. 
This is a significant task for someone who has never coded before. In what context are you doing this? For a job? School? Do you have access to Matlab for free? 
The dir function only takes folder names of input type string. https://www.mathworks.com/help/matlab/ref/dir.html You need to convert the treenode to a string. Not sure how to do that but it's at least a step in the right direction. 
I think I understand, does this seem helpful? figure, surf(A), hold on, contour3(A,\[1000,1000\]) (you can maybe play with the color and linewidth in countour3 to make it more visible) check out the countour3() function: [https://www.mathworks.com/help/matlab/ref/contour3.html](https://www.mathworks.com/help/matlab/ref/contour3.html)
Rock on! That works. Thanks a ton, sir/ma'am!
Looks like some kind of chemical reaction data. 
Please read our [rules for asking Homework Questions](https://www.reddit.com/r/matlab/comments/462uwe/submitting_homework_questions_read_this/). It seems more likely that we'll need your GF to be here, because we don't know what she needs help with, and it doesn't seem like you do either. 
but she can't speak english and i don't whant to she find out what is her birthday gift i read it i am hopeless can u give me clue what should i do 
We won't do a homework assignment for someone. We will gladly help someone who needs help, but we will help them figure out how to do their own work. We don't do it for them. 
I don't know, but there's inevitably a better way than to use globals
this is completely reasonable but can you guys just help me out i am from whole other country and don't have anyone close to me that could help me i really don't know what to do and i want to surprise her and maker her happy 
what the hell should i do with this conditions :( i am losing my mind here man you mean there is no other way ! 
Do you have any recommendations? I can't declare the variables in the MATLAB function because that means they will be re-initialized every time the MATLAB function is called.
No, there is no way that we will help you help her cheat on her schooling. 
You need to declare the global variable in every function that uses it. This works: function globalVariablesPractice() global x disp(x); end &gt;&gt; mexFcn Initialising global variables... 0 
Thank you so much!!!
If it's in a matlab function, you could use [persistent](https://www.mathworks.com/help/matlab/ref/persistent.html) If it's in mex I don't really know (do you need mex for performance reasons?), but I think you could use a static variable.
man that's so harsh :) it's not that she ask me to do this 
What are the specs on that? I run Matlab on a Surface Book sometimes, and when I'm crunching big data sets or opening large files it just struggles- processor, memory and thermal limitations. It also slows down with simultaneous read/write from the hard drive, or working with files stored on a network; does any of that apply to you?
I agree with this. Using pandas resample function would make quick work https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html
First breadcrumb - pick up some of the tutorials on matlab's simulink, and start looking at the toolbox.
Google Matlab racing lounge Mostly simulink, but it should help you
Zeropad the signal so that their zeros are in the same spot in order
and how do i do that?
Look at Particle Image Velocimetry. This technique uses sub pixel methods to find the peak of a cross correlation function. Basically you’re fitting a suitable surface to the data and getting the peak of the fitted surface. Another more simple method you could use is to try the contourc function on the peak at various heights and get the centroids of the resulting curves. 
That’s exactly what I’m trying to achieve but I just don’t know how to code it in matlab. Could you help with the code for fitting the surface over a correlation matrix and finding the peak?
Sure. Do you have the curve fitting toolbox?
I’m not entirely sure but I think I could install it if I don’t. I’ll send you a chat message so we can continue this conversation outwith the comments section.
I do indeed have the curve fitting toolbox installed - also I have sent you a message on chat.
Typically this kind of complex mechanical simulation is done by various differential equation solvers. 
222**0**00 001**1**11
a1 = -3:1:2; % b1 = a1; a = [2 2 2 0 0 0]; % zero pad by adding zero to the vector b = [0 0 1 1 1]; % adding zeros makes the vector 'b' zero position aligned with vector 'a' zero position k1 = conv(a,b); stem(k1); I think this is what you are looking for. 
 I made this visualization for a post on my website, [Double Spring Mass Systems](https://gereshes.com/2019/01/07/double-spring-mass-systems-matlabs-ode-45/). It's made by forward integrating the equations of motion using Matlab's ODE45. 
how exactly did you do that? 
thanks for help but convolution is not correct. It is moved by 3 positions to right. 
Because you also need to use proper x vector for stem plot. Without it the data will always start with index 1.
oh i get it now! but i think point of homework is to calculate everything in matlab. I didn't know where convolution starts until i calculated it on paper. is there any other way?
I added zeros to the end of the first vector and the beginning of the second...
Ohh alright ill look into that. Thank you!!
I’m not near a computer, but try renaming your time span matrix to tspan, or something other than t. 
Your output of ode45 includes “t” so that likely is ruining the time span t which is an input for the function. Try using separate variables for t (the output vector) and t (the time span).
Thanks, I’ve changed the name of the time span but it gives the same output as before 
maybe try plot(t,y(:,1))? I think the y output is usually has two columns, one for y(t) and another for y'(t)
Please show some sample code, so we can help you. 
So, I did a quick sample of what I think you're doing, and am not seeing your same results. Perhaps if I share what I did, you can either point out what I'm doing differently, or perhaps it will help you troubleshoot. test = cell(3,3,10); test_insert = 'One', 'two', 'three';'A', 'B', 'C'; 'Mon', 'Tue', 'Wed'}; test(:,:,5) = test_insert; size(test) When I do that, the size of `test` is still 3x3x10, which seems to be different from what's happening to you. 
Atom is a text editor, right? &amp;#x200B; You can compile Matlab programs as standalone executables if you have the Compiler toolbox, but it's pricey, not included in the student version, and (i think) only compatible with Professional licenses. You can call these executables from the terminal or use it for stand-alone applications that don't depend on Matlab being installed on the computer they get run on. &amp;#x200B; If you have Matlab on the computer and don't have the Compiler toolbox, i believe you can call a .m file from within the terminal without launching the entire IDE. &amp;#x200B; &amp;#x200B; &amp;#x200B; &amp;#x200B;
 matlab -nodisplay
thank u all for your inputs &amp; giving ur valuable time on this... i shall give them a try! :)
Would this mean MATLAB application would running in the background?
It's because of precision of floating point numbers: https://uk.mathworks.com/help/matlab/matlab_prog/floating-point-numbers.html a somewhat bad solution to your problem could be: h=find(round(x,2)==round(i,2)) But I don't know what you're trying to do, as you given practically no information.
See this: https://floating-point-gui.de/ A good solution is to use the Matlab built-in constant [`eps`](https://nl.mathworks.com/help/matlab/ref/eps.html) like so: h=find(abs(x-i) &lt; eps) 
Uh, feel like people missed the forest for the trees on this one. You can't run loops off non-integer values like what you're trying to do. You say the error doesn't work between 0.5 and 0.6, but in more inclined to say it shouldn't work at all.
Rather than using find, I always just use the min function, as in [~,h]=min(abs(x-I)); This will always return a single value, rather than using find with a threshold of eps, which may return multiple answers or no answer.
What are you expecting for the output? I'm getting some weird fluctuations at the end of the solution but that is just a problem with ode45's stock tolerance values. add the lines before your ode45 call opts = odeset; opts.RelTol = 1.0e-6 % Default is 1.0e-3 opts.AbsTol = 1.0e-10 % Default is 1.0e-6 and modify your ode45 call to \[t,y\] = ode45(@dydt1,t,y0,opts); As a side note, you can solve your ode exactly. Using the above values, I obtained an RMSE value of 7.2544e-5.
One thing to point out: the floating point error problem isn't a MATLAB problem, it's in any language. 
No, it will be front and center, only CLI, no GUI.
As others have pointed out, the basic idea is that even "simple" rational literals such as "0.1" are not represented exactly in the double floating-point type, and comparisons with tolerance (vs. exact equality) may be sufficient for what you're doing. However, there *is* something slightly more interesting going on here, that *is* unique to MATLAB, and not just general to floating-point comparisons: the syntax "0:0.1:1" has two different meanings here! To see this, consider the following expanded example: x = 0:0.1:1; y = 0; k = 1; for z = 0:0.1:1 disp([ ... char(java.lang.Double.toString(x(k))), ' ', ... char(java.lang.Double.toString(y)), ' ', ... char(java.lang.Double.toString(z))]); y = y + 0.1; k = k + 1; end There are *three* different behaviors going on. First, in the assignment to x, the expression "0:0.1:1" is essentially shorthand for "colon(0,0.1,1)", which as the docs suggest, creates a vector using some slightly fancy calculations to evenly space the resulting vector of values, while dealing with the limited precision of floating point. In the for loop, on the other hand, the expression "0:0.1:1" means something different, as your original code shows. The docs suggest that it means, "start at 0, and increment by 0.1 on each iteration"... but I don't think that's quite accurate, since that's what we are doing explicitly here with y, which yields a *third* different behavior. Note that the for loop allows an alternative syntax, where instead of "start:inc:stop", you specify an array explicitly, and the loop iterates over columns of the array. I *thought* that this was in principle the only *real* behavior of a for loop; that is, the "start:inc:stop" syntax wasn't actually special, but just evaluated to "colon(start,inc,stop)" and then iterated over. But the above example shows that is not the case. To see this more vividly, note that the following minor change to your code makes it work as you would expect: x = 0:0.1:1; for i = colon(0,0.1,1) h = find(x == i) end 
Problem solved! I took a cue from your work and spent some time rebuilding the basic process outside of the code, where it behaved exactly as it was supposed to. Then I build some function passing around it; still working fine. *Then* I tried a basic GUIDE gui, passing it between the various parts... and it broke. I was, as it turns out, not passing the cell successfully through the various functions in my gui code. It did fine for a while, but when I "called" it later it generated a new cell that overwrote the old one. If I call it with `SpeechCellAnswers=getappdata(0,'SpeechCellAnswers')` every time it appears, and reassign it with `setappdata` afterwords, it remains intact and keeps all the information. This has been a very important lesson for me on function passing. Thanks for your help!
It sounds like you need to evaluate a Discrete Fourier Transform. If the frequencies are evenly spaced, you can use MATLAB’s ifft or fft. If not, you can resample and then use ifft or fft as described [here](https://www.mathworks.com/matlabcentral/answers/334826-non-uniform-sample-in-frequency-analysis-non-uniform-dft) . Is that what you were looking for?
If you're using a version of MATLAB later than 2016b, you could take advantage of implicit expansion to do something like: `zeta = squeeze(sum(A.*cos(w.*t - k*x)));` Where `x` is a row vector (e.g. via `linspace`); `k`, `A`, and `w` are column vectors; and, `t` is a 1x1xn vector (e.g. created via `permute` and `linspace`). That would give you a `length(x)` x `length(t)` matrix that has your signal at every value of `x` for each given value of `t`. Since that's incomprehensible for people that don't sit around trying to be clever with MATLAB all day, you might want to start off with two loops: an inner loop to create your signal for all given values of `x` for a single given value of `t`, and an outer loop that goes through each value of `t`.
This is EXACTLY what I was looking for. Thank you my sir!
Considered that, and will evaluate. I have several ways of computing the needed force (horizontal wave force on a cylinder) and want to limit computing time because it is getting out of hand. Thanks for the suggestion!
Try fprintf('%. 5e',0.1+0.1+0.1-0.3)
You should include the outputs for those of us who don't have Matlab readily available!
First points. Pastebin is ideal for code dumps just for the sake of our readability in the future. Bit of a nightmare won here. Also, you'll find your life is just more pleasant all around if you use *switch* *case* instead of a whole series of nested IFs. If you understand how loops work then the Matlab documentation on it will make sense to you. I'm writing on phone right now so can't check... Buuuut... Domestic like a string comparison issue. Namely, when comparing the # sign it gets confused. I can't recall off the top of my head if this is a wild card, but because you're saying A# returns Ab, it's completing that part of the if statement early (another reason for switch). Maybe have a a selection box with all possible note values and an 8ve box?
Sorry, I posted this from my PC so I didn’t realize how atrocious it would look on a phone. My knowledge of Matlab is limited so I would need to read up on what *switch case* is and how to create selection boxes. 
Just as an FYI though. The switch case won't solve the problems if you stay using strings from what I can see without playing with it. For the sake of learning I'd try and figure it out with the strings. You can test if this is the driving factor by placing the A#, C# if statements above the if statements for A natural, c natural etc. With if, Matlab will find the first instance it can complete, and then stop. So even if it satisfies later conditions, it won't matter because it will have left the if loop. 
Ok, I’ll see what I can do
For general coding I always avoid using special symbols like %, @, $, #, etc. since they are often used for something specific. I haven't ran your code, but my guess is that using the pound symbol as an input may have something to do since Matlab uses it as a flag for text formatting.
`isreal` should work to identify complex numbers. Your error message sounds unrelated, so you probably have some other problem in your code.
`if isreal(x) c = whatever it should be (1xn matrix) else c = 1 end` I'm currently doing this. I'm not sure if assigning c = 1 is a good idea.Is it?
instead of writing: [768 1024 3] you can just use: size(img2) 
Cool, thank you very much. I thought there must be a much simpler way. Appreciate it :)
Sorry, following is the output from the GP comment: 0.0 0.0 0.0 0.1 0.1 0.1 0.2 0.2 0.2 0.30000000000000004 0.30000000000000004 0.30000000000000004 0.4 0.4 0.4 0.5 0.5 0.5 0.6 0.6 0.6000000000000001 0.7 0.7 0.7000000000000001 0.8 0.7999999999999999 0.8 0.9 0.8999999999999999 0.9 1.0 0.9999999999999999 1.0 I *think* that the "for x = a:dx:b" syntax is essentially setting x to (a+dx\*k) for k ranging from 0 until exceeding b, but I'm not sure. Also, I tried this in Octave 4.4.1, and it does *not* exhibit this behavior; that is, in Octave, the for loop stepped range syntax does seem to be equivalent to colon(). 
So, you can't return `c` sometimes as a vector and sometimes as a scalar, because that will cause the problem you're talking about- you can't have an array which sometimes has `n` columns and sometimes only has 1 column. However, I think you need to figure out the range of your inputs before you input them into your optimization function, because just making up a cost function will make your optimization function mis-behave, as I is likely using simplex or gradient decent to find the min, and it does that by trying to shrink the cost function. If you are "making up" the cost function, then it will break the search. 
Thanks for the reply. I'll correct the constraint function so it always return same dimensional vector. I'm actually using a physics based model as cost function and since not for all possible combinations of inputs, there exists a real output that's pretty much out of my control. This is also the reason I'm not using gradient based optimisation functions. 
Quick thought would be to do a fft and chop off the higher frequencies. Then transform back to time domain. Will give you a square wave that is rounded at the edges.
Or, you know, just use a low-pass filter.
Yup that would work too. I have never worked with any of the filter functions in Matlab that I can recall, But that would probably be the simplest answer.
Low-pass filter it. I goofed with some code, and a blood-simple 200-sample moving average (at at sample rate of 44100 Hz) does enough. After goofing with chebyshev, elliptic, and for filters as well, the best I found was a 200-sample hann window as the filter kernel: fs = 44100 ; % 44.1kHz, standard sampling frequency trem_speed = 5 ; % 5 hz. Arbitrarily chosen. t_vec = 0 : 1/fs : 3 ; % 3s for illustrative purposes raw_trem = sign( sin( 2*pi * trem_speed * t_vec ) ) ; close all figure( 'Units' , 'Normalized' , 'Position' , [ 0.1 0.1 0.8 0.8 ] ) subplot( 211 ) h = plot( t_vec , raw_trem , t_vec , raw_trem ) ; hold on , axis tight , grid on xlim( [ 1.095 , 1.105 ] ) legend( { 'Raw Sharp Tremolo' , 'Smoothed Tremolo' } ) subplot( 212 ) spectrogram( raw_trem , hanning( 256 ) , [] , [] , fs , 'yaxis' ) for n = 1:200 filtered = filtfilt( hanning( n ) / sum( hanning( n ) ) , 1 , raw_trem ) ; h(2).YData = filtered ; spectrogram( filtered , hanning( 256 ) , [] , [] , fs , 'yaxis' ) title( sprintf( 'Window Length = %0.2f ms' , n / fs * 1000 ) ) drawnow end 
You can get all the file names using the [`dir`](https://www.mathworks.com/help/matlab/ref/dir.html) function. Based on how the data is formatted, I recommend using [`readtable`](https://www.mathworks.com/help/matlab/ref/readtable.html), or [`csvread`](https://www.mathworks.com/help/matlab/ref/csvread.html) or [`textscan`](https://www.mathworks.com/help/matlab/ref/textscan.html). 
I honestly don't know why I didn't try lowpassing it in the first place... I thought about it but just never did. Just tried with low passing and it does the job
Which DAW are you using? Personally, I've found LMMS to be an excellent DAW, with a ton of builtin synths and no need to mess with frequencies.
You don’t want to use imresize3 for an RGB image, though it’ll work since you aren’t resizing the third dimension in your code. Use imresize for 2-D RGB images.
MATLAB's built in PDE stuff is not great IMO. Their PDE toolbox people left the company 10 years ago and the toolbox hasn't been updated must since. I would either write your own (not too bad for 1D if you have good resources) or use something like CLAWPACK or FEniCS in Python
Those are the different ways of describing the same thing...
 B = imresize(A,size(img1)); How could i use another image size as a reference then as i get an error message when i use just imresize
Get started with the problem and ask when you get stuck. It doesn't look like you've even attempted the problemq
In a situation like that, where I was unsure of which of two methods gave the better answer, I would personally try both to see what they *sound like*. That's probably because I used to produce electronic music, though. ;) If it weren't audio samples (even just noise), I would try both anyway just to see the difference, if any. Why waffle over what if's when you could be waffling over what... is's... what are's? Whatever, just do the comparison and then you'll *know*. An alternative: break out the pencil and paper and see what ol' Joe Fourier has to say about the analytical result. Your (symbolic) discrete time domain model would be something like: `h[k] = H_0 + B*g[k]`, where `H_0` is the DC component and `g[k]` is the arbitrary dynamic component, with peak value of 1. Right? As for what kind of spectral analysis would be the most useful: spectral density estimation (by histogram), of course! The more you make it look like a [graphic equalizer monitor](https://www.google.com/search?biw=1920&amp;bih=938&amp;tbm=isch&amp;sa=1&amp;ei=dqM4XIzsFqaw0PEP_5a4uAk&amp;q=software+graphic+equalizer&amp;oq=software+graphic+equalizer&amp;gs_l=img.3..0i24.16174.17773..17902...0.0..0.80.734.10......1....1..gws-wiz-img.......0i67j0j0i7i30j0i8i7i30.qCgY8ZsFQW8), the more kudos you get from me (though I have no idea what your professor will think)! More importantly, this allows you to compare with the appropriate envelopes of the colors of noise from either an online source (like Wikipedia) or your reference text. But that's just like, my opinion, man.
That's why I'm asking ... I need some guidelines what is wrong with you ? I have read moderators note and it is supposed to be a sub that helps people who have problem with MATLAB so if u don't gonna help don't commend...
Did, the rules specifically say not to help people unless they've shown they've put thought into the problem, and besides that, no one wants to help someone cheat. 
Dude I just asked for guidelines not the solution. I'm new to MATLAB and did you think that the exercise was just this one question. Anyway if I was looking for people to tell me go Google it up I could do it on my own 
I think you misunderstand the point of this subreddit. The majority of the users are incredibly helpful and knowledgeable, but we didn't get that by asking other people to solve our problems. We try, then fail, try again and then work together to come to a solution. Typically... I'll spend an hour or so brainstorming an idea on paper and pencil, try my luck at solving the problem myself, check the Matlab wiki for help, THEN come here and ask questions if I need pushed in the right direction. 
Do image 1 and image 2 have the same number of pixels? If yes, it should not be a problem
If you've found every area in Image 2 with a white pixel, you have coordinates of the white areas in the image. Take these coordinates and find them in Image 1.
You will need to go back and look at the problem again. What you posted makes no sense in the MATLAB language since MATLAB indexes using \[\] brackets and variables start at index 1. The code n=0:20 --&gt; \[0,1,2,3,4,5,...,19,20\] y\[n\]=x\[n\]+0.5\*x\[n-10\] --&gt;\[ y\[0\]=x\[0\]+0.5\*x\[-10\], ..., y\[20\]=x\[20\]+0.5\*x\[10\] \] makes no sense for n &lt; 11 &amp;#x200B; Please come back with more information and what you have tried.
Thanks a lot I will do so 
Yes they do, its just how i then find the same pixels in the other image and then transfer the areas from one to the other
Where a white pixel is I have 1 and the rest are 0's. I used the thresh code you gave a few days ago. I assume i would use a for loop to find all the 1's and then somehow transfer them to the other image
Areas_in_Image_1 = White_Pixel_Matrix &amp; Image_2; If you have a binary matrix just AND it with your second image.
Cheers for the response. I guess I was asking because I have done both time and frequency domain and they obviously have different looking results. Not knowing what I'm actually looking for means that I am unsure as to which would be the most appropriate analysis. Listening to the sounds also doesn't help much as they are snippets of white noise!
Get a binary 2d image of coordinates of the white pixels. These are the pixels you want to replace. Store this data in an array, let's call it b1. Set all the white pixels in image 2 to 0: image2(image2 == image 2.* b1) = 0; Now add the values from image 1: image2 = image2 + image.* b1; Let me know if this worked for you
Is the binary 2d image just a 1 or 0 for every pixel in the 768 x 1024 image, or how would i create the binary 2d image of coordinates? I can then give it a shot and see if it works
You: &gt; Not knowing what I'm actually looking for means that I am unsure as to which would be the most appropriate analysis. Me: &gt; More importantly, this allows you to compare with the appropriate envelopes of the colors of noise from either an online source (like Wikipedia) or your reference text. Did you look this up? That's why I included it. ;) --- &gt; ...I have done both time and frequency domain and they obviously have different looking results. Apples and oranges do look different. Fortunately there are built-in tools to turn oranges back into apples and vice-versa. You know about `fft`, but do you know about [`ifft`](https://www.mathworks.com/help/matlab/ref/ifft.html)? The idea is to compare the two time domain signals, and then compare the two frequency domain signals. This is going to be a very handy set of tools in your student toolbox! --- Lots more help and info available in [MathWorks' Documentation on the topic](https://www.mathworks.com/help/matlab/fourier-analysis-and-filtering.html).
Yes. It is a 1 when it is white and a 0 when it is anything else. For example the top left pixel, which has the coordinates (1|1): if it has the rgb values (1|1|1), the b1 value on its coordinate (1|1) is 1. If it is not, this value of b1 is 0. You can create this binary image the following way: b1=zeros(768,1024); for u=1:768 for v=1:1024 if sum(image2(u, v, :)) ==3 b1(u, v) =1; end end end
I tried to just create the binary image for the white areas using that, however it is just giving me everything as zeros
Perhaps because they are not exactly light. Try using a threshold. For example by altering the if condition: if sum(image2(u, v, :)) ==2.5
hmmm, they are all white. It works when i use this: filled_areas = 254; white_areas = missing(:,:,1) &gt; filled_areas &amp; missing(:,:,2) &gt; filled_areas &amp; missing(:,:,3) &gt; filled_areas; That change to the if statement still doesnt change it :( 
hmmm, they are all white. It works when i use this: filled_areas = 254; white_areas = missing(:,:,1) &gt; filled_areas &amp; missing(:,:,2) &gt; filled_areas &amp; missing(:,:,3) &gt; filled_areas; That change to the if statement still doesnt change it :(
Oh yes of course, the values are from 0 to 255. My bad. Perhaps just try using: if image2(u, v, 1)&gt;220 &amp; image2(u, v, 2)&gt;220 &amp; image2(u, v, 3)&gt;220
That works perfectly:) So now i have this binary image/matrix, i need to save it as an array? Then set the white pixels to zero? And then add the values from image 1? 
Just assign it. If it's called b1 for example then you already assigned it. And yes, afterwards clear the white values and add the multiplication with the first image. 
If you need to use stepz() and impz() you need a coefficients of a discrete transfer function. You need to convert the equation to transfer function.
hmm tried your example but throws me some errors, not sure how to get around it. This is what i have so far: &amp;#x200B; clc, clear; close all; image2 = imread('img1.jpg'); image1 = imread('img2.jpg'); &amp;#x200B; b1=zeros(768,1024); for u=1:768 for v=1:1024 if image2(u, v, 1)&gt;220 &amp;&amp; image2(u, v, 2)&gt;220 &amp;&amp; image2(u, v, 3)&gt;220 b1(u, v) =1; end end end &amp;#x200B; image2(image2 == image2.\* b1) = 0; &amp;#x200B; image2 = image2 + image1.\* b1; &amp;#x200B; figure, imshow(image2);
The Speedgoat is very expensive for what it is, which is little more than well specced workstation PC level, plus decent DAQ HW and some fibre optic low latency comms. It is possible to build your own Simulink RT target out of a PC, but they don’t like you doing this any more because it means they have to maintain a raft of drivers. You can certainly build one and have a go though, if you have a spare PC lying around you’ve not got much to lose. You can probably get NI IO to work with this. I believe Simulink can be built for Arduino but I’ve not tried it personally and I would guess that the subset of toolboxes and solvers you have to work with might be limiting. 
I own 3 Speedgoat machines, which as ttc6 mentioned, are industry build workstations. So you get a nice rack mountable case and supported IO hardware from them. Here's the issue. Since Mathworks and Speedgoat are in the same bed, they have completed eliminated Simulink support for 3rd party hardware such as NI with R2018+. So they are pigeonholing you to use Speedgoat hardware, but with some workarounds, you can still use your own hardware by loading older versions of Matlab/Simulink and copying those models over. The Speedgoat support is superb if you run into hardware problems. I also have my own Dell XPS 420 4 core system booting into Simulink Real-time using the slrtexplr interface to create the USB target. It works the same. For arduino, you can deploy simulink/C++ code to that system but you will be very limited wrt processing power and sample rate, ie 1kHz for signal processing at the absolute max for just 1 channel. So I don't recommend that environment. For embedded targets, research FPGAs or other devices. But if you have your own IO hardware and you have enough PCI slots in a desktop system sitting around, use that. The CPU processing power of any 10 year old system just sitting around will be enough in most cases. In fact, many IO hardware still use PCI 5V form factor and newer systems might not even have that available. What kind of model are you developing and at what rate are you operating? What you can do is benchmark you model if you set up a target system. Look at this: https://www.mathworks.com/help/xpc/api/simulinkrealtime.utils.minimumsampletime.html I've been using xPC, SLRT for 15 years now so I have a lot of experience in this area. Message me if you have any other questions and I'll be glad to help.
Its a pricey solution, but DSpace has some great options for interfacing with Simulink. I used to work in a lower limb exoskeleton lab and used them all the time. You can even build a GUI for changing parameters in pre-compiled code if you want. I was able to reliably use these systems for real-time EMG analysis + control (albeit a very simple controller) with very little issue. 
I used MATLAB real-time for my research. In my experience: (1) The obvious advantage by going the Speedgoat route is that you get direct support from MATLAB for all Speedgoat products, including the target systems and all of their associated peripherals. So yes, this translates directly to ease-of-use, compatibility, and stability. But be warned, you will pay a premium. I looked into Speedgoat briefly and the spec'd me at something ridiculous like $6000 for the most basic target setup. (2) [See here](https://www.mathworks.com/tagteam/37937_xpc_target_selecting_hardware_guide.pdf). Gives some recommendations for CPU architectures based on desired sample times against some benchmarks. I assume you'd want at least 4 GB of RAM, and you'll need an optical drive to boot into the real-time OS (or, better yet, an ethernet adapter to boot the kernel AND establish communication protocol between target and host via TCP/IP. This is much faster than serial so I'd definitely advise going this route). For my research I used an older Dell Precision tower as the target computer, and a NI-6323PCI multifunction DAQ card for all digital/analog I/O. Ran some pretty extensive controllers at 5 kHz with no problems. Make sure whatever peripheral cards you want to use have associated blocks in Simulink real-time. (3) I've never heard of anybody doing this (although I haven't really looked) but I imagine you'd run into memory overload issues very quickly. I'd advise against this route.
Thanks for your reply, we do have NI I/O in the PCI slots of the PC we're using for desktop real-time, so it might be worth investigating converting a PC into a real-time target. my main fear with using a hardware setup that isn't well supported for simulink is that I would get bogged down trying to set it up and get it to work the way i want it to instead of actually developing the algorithms we want to develop. While i do have some embedded systems experience, I don't really know enough to make that a trivial task.
Thanks for your reply, I'll definitely look into DSpace hardware!
Post a link to both images please
As I said in my reply to ttc6, I'm hesitant to go down a path that isn't well supported by mathworks because I don't have enough experience setting up these systems that i can be confident that it wouldn't become a time-sink trying to set it up. Is it fairly straight-forward to take a desktop PC and convert into a real-time target, are there any tutorials perhaps? Yah my main concern with using something like an arduino, RP, or Beaglebone is that we wouldn't have the processing power. We haven't designed one model for the system yet, it was only recently completed in the sense that the major subsystems were demonstrated independently with very basic desktop real-time controllers, then it was assembled as a whole. It became very clear in the process that we would need dedicated hardware. The tricky part is that we didn't have a particular model/algorithm in mind, because the setup was built to test a variety of controllers and models. So it puts us in something of a chicken and egg conundrum where we don't know how much computer power we'll need for everything we might want to do and we don't want to buy hardware without knowing how much we'll need. I suppose the obvious answer is choose a particular model/algorithm to start with and spec out hardware to match by benchmarking, ideally with some overhead depending on how much extra power we would expect to need in the future. I think we just need to start fleshing out what we want to do and go from there, although I think this will be an ongoing process, and I appreciate your offer to field questions, I'll definitely take you up on that! Thanks for you help! 
yah, that price-point sounds pretty obnoxious, If that's what we would expect to pay then we'll probably just go down the path of converting a tower, do you know any good resources for how to do that, maybe a tutorial? as for point 3, I definitely have my doubts about meeting the performance we would need, but I figured it was worth asking. Thanks for your help!
Actually, there are several developers that work on the PDE Toolbox and in 16a they did a complete rewrite of some of the solvers to make it easier to solve complex problems using an OO approach: &amp;#x200B; [https://www.mathworks.com/help/pde/release-notes.html](https://www.mathworks.com/help/pde/release-notes.html)
pdepe uses ode15s underneath, so it is already using a variable order solver meant for stiff problems. If the problem still means stiff, this makes me wonder if changing the parameter value is making the Jacobian nearly singular, which would make the problem a DAE instead. If so you would need PDE toolbox to solve that.
[Mathworks has some pretty good documentation to help you get started](https://www.mathworks.com/help/xpc/configuration-basics-1.html)
You can use Raspberry Pi as a target directly from Simulink. You can outfit the Raspberry Pi with an Automation Hat: [https://forums.pimoroni.com/t/automation-hat-with-simulink/7788](https://forums.pimoroni.com/t/automation-hat-with-simulink/7788)
Desktop computers are cheap. They don't need to be supported by Mathworks. https://www.mathworks.com/help/xpc/gs/set-up-and-configure-xpc-target.html Just follow that and it should get you started. Sounds like you need to do some MIL design as you already have the hardware that you will interface with, ie. motor, cylinder. You mentioned controllers. Are you planning on doing HIL design and implementing the controller as well or will you communicate with a physical one via EtherNET/IP or something? Or has this yet to be decided? I've looked into pneumatic systems as well, and I'd recommend https://www.enfieldtech.com/. They have some good control products. So really, if you are getting a controller, you'll probably need an Multifunction I/O board and a COMM Protocol board ie, EtherNet/IP. These all mostly come in either PMC, PCI/PCIe form so any Desktop computer will be sufficient. Or better yet, spec out a motherboard with many PCI/PCIe slots and an Intel (LGA1151) socket type. For under $500 you can build a super fast xPC. Good luck.
What NI hardware do you have? Part numbers specifically if you don't mind me asking. 
I've dabbled a bit with dSPACE years ago, mainly their IO LED panel. They have some great products and I would definitely recommend them as well if you go for an industry solution.
I doubt he'd get the processing power from ARM over Intel. Maybe for rapid prototyping small setups, but it's not going to be a good solution in this case. 
Yes I understand completely, I’ve been there many times with LabView! ‘Ah I’ll just write a VI for this’ and four days later... There are limitations to the Simulink RT platform (as with anything) that largely also apply to the Speedgoat. They won’t tell you at the point of purchase. But at least it doesn’t cost you anything to have a go with a PC based Simulink RT target, and the benefit of no more support from the Mathworks is that if it doesn’t work straight away you know you don’t have to sink a ton of time into it. In my experience setting up embedded controllers is almost always a janky process with poor support from the software companies, you have to start somewhere and if it hasn’t cost you £30k to have a go then you aren’t left with so much of a bitter aftertaste!
i tried this code n = \[0:20\]; u3=0.5\*(n&gt;=10); stem(n,u3); &amp;#x200B; for the 0,5\*x(n-10) and the same code for x(n) but instead for n&gt;=10 i changed it to n&gt;=0 and it worked for each one in order to get discrete step plots. Do you know how can i add them in the same figure? is it like an one action code or i have to search more?
One way to have two plots in one figure is a 'hold on;' command.
I've been using Simulink for a long time and worked with some of the real-time solutions out there. Simulink Desktop real-time is good enough for some initial purposes with few IO modules and low sample rates, but as the project complexity increases, its functionality is not at the same level than a real-time hardware and a specific hard real-time OS, in the end Simulink desktop real-time runs on top of Windows that is not designed to provide real-time capabilities. I hope you can find the following useful: 1. Yes, Speedgoat is the preferred and only official real-time hardware provider by Mathworks. This means mainly that Speedgoat is completely integrated into Simulink, so that you don't need another software to manage control the real-time target as opposed to other solution providers, and supports always the latest Matlab releases because software and hardware are developed and tested simultaneously and in collaboration between the two companies. This also reflects on the customer support, which is also unified may you have any problem during the operation. 2. There are several factors that are relevant, but the most important are the closed-loop sample time and the complexity of your model. As far as I understand, you will run the control algorithm on the real-time hardware, which requires far less computational power than, for instance, running plant models for Hardware-in-the-Loop applications. In terms of sample rates, I guess you should be in the kHz order of magnitude, so you don't need the top CPU performance real-time target for your use-case. This also helps to keep costs low, because an entry-level hardware should be enough for you. Talking about Speedgoat, this is the Speedgoat Baseline that you can check here ([https://www.speedgoat.com/products-services/real-time-target-machines/baseline](https://www.speedgoat.com/products-services/real-time-target-machines/baseline)). You would have to think as well of the IOs you need. In case you don't need anything very special, even the IOs included in the initial configuration may be enough for you, the price wouldn't reach the figures of previous comments. And if you need those, one advantage of Speedgoat is that is completely modular and tailored to your needs, so you only get and pay what you need, nothing else. And more importantly, you have the flexibility to add new IO modules to your real-time target in the future as your project grows. 3. For some cases, you might use Arduino or Raspberry Pi from Simulink as shown at [https://www.mathworks.com/hardware-support/arduino-simulink.html](https://www.mathworks.com/hardware-support/arduino-simulink.html) and [https://www.mathworks.com/hardware-support/raspberry-pi-simulink.html](https://www.mathworks.com/hardware-support/raspberry-pi-simulink.html), the level of integration, the IO and CPU capabilities are obviously more restricted, but some people still do it, especially in a combination with the Speedgoat hardware via UDP. Please feel to PM me, if you want more detailed information.
So this first image is the one with the missing white areas. https://imgur.com/a/2WazL20 Then this image is the one i need to remove the noise from, then resize it so its the same size as the first image. Then take the areas that correspond to the white areas in the first image and combine them to make a new image. https://imgur.com/a/jJxmgk3
i figured out this code : u2=(n&gt;=0); u3=0.01\*(n&gt;=10); u1=u2+u3; stepz/impz(n,u1); axis(\[-10 20 -0.5 20\]); &amp;#x200B; am i in the correct way??
That doesn't look good. It will return an error. If you want to go this way and not the transfer function, then maybe for loop will work for you.
it worked just fine but im having trouble figuring the transfer function with matlab because i want to try z transformation but i dont know how to state the equation i want. i try syms x n f=x(n)+0.5\*x(n); ztrans(f) but i get a list of erros. any suggestion on how to state variables ?
Read about how to change differential equation to transfer function. Do the calculation on paper first and then implement solution.
yes totally wrong what i did before. I wanted to avoid paper but i cant get the solution through matlab only so back to paper thanks a lot
Looks good. Two little nitpicks tough : - functions should end with `end` not `return`. The keyword `return` is used to return prematurely from a function. - When creating the file, point to using new-&gt;function instead of script. It provides the boiler plate for the prototype. 
Good stuff here, thanks. I always like to review this stuff from time to time to refresh my memory on things I don't use as often. Heck, I even run through the Matlab Academy basics from time to time as well.
Nice thanks for the feedback! 
Thanks, yeah it's really meant to be a summary of the basics.
Yep &gt; car = "FILENAME" &gt; imread(var)
Thank you very much. I figured out what was wrong with my code, the variable class was cell, not string. I thought it was string.
What level course is this for? What's the title of the course? Undergraduate or graduate course? If undergraduate, what background should students have?
Hrm. It seems like that should work! Are you adding your call to round() after your law of cosines calculation?
yes i put in: function \[sidec\] = cosign(sidea, sideb, anglec) anglec = anglec.\*(pi/180) sidec = sqrt(sidea.\^2 + sideb.\^2 - 2.\*sidea.\*sideb.\*cos(anglec)) sidec = round(sidec, 2) end &amp;#x200B; and then call with sidec = cosign(3,4,60) &amp;#x200B; and it returns the unrouned answer 
One possibility is that MATLAB can't find your new function. These might sound silly but... Did you save the file that contains the new function (with rounding)? Do you by chance have two functions (the old and the new) both defined and called "cosign". It could be that MATLAB finds the old definition and uses that one.
oh i just realized what was wrong i got it now. thank you!
undergraduate, this is for functional programming and no background required
What was wrong, just out of curiosity?
Nicely done. Can be important to clarify that tilde only avoids storing an output in memory, short of some ‘nargout’ if-statements inside the function it does nothing to suppress the computations related to the output-variable.
Look up dcmtk https://dicom.offis.de/dcmtk.php.en It contains a few binaries that you can call from Matlab or anything else to push to a DICOM server. I believe there's a binary called storescu.
A color image will have a third dimension. Use [h,w,d] = size(image). The third dimension should be 3 corresponding to the red, blue, green channels.
Hi thanks for the help! &gt; &gt; &gt;function MyFilteredImage = Smooth(ImageName) &gt; &gt;I = ImageName; &gt; &gt;MaskSize = 3; &gt; &gt;\[h,w,d\] = size(I); &gt; &gt;paddsize = floor(MaskSize/2); &gt; &gt;I = double(padarray(I,\[paddsize paddsize\])); &gt; &gt;I2 = zeros(h,w,d); &gt; &gt;for i=paddsize+1:h-paddsize &gt; &gt;for j=paddsize+1:w-paddsize &gt; &gt;pixbuffer = I(i-paddsize:i+paddsize, j-paddsize:j+paddsize); &gt; &gt;I2(i,j,d) = mean(mean(pixbuffer)); &gt; &gt;end &gt; &gt;end &gt; &gt;MyFilteredImage = I2((paddsize+1):(h-paddsize),(paddsize+1):(w-paddsize)); &gt; &gt;subplot(1,2,1); &gt; &gt;imshow((uint8(I))); &gt; &gt;title('Original image'); &gt; &gt;subplot(1,2,2); &gt; &gt;imshow((uint8(MyFilteredImage))); &gt; &gt;title('Smooth Filtered image'); &gt; &gt;end &amp;#x200B; do I also need to create an additional dimension alongside i and j? At present this code is displaying back a fully black image. &amp;#x200B;
Conceptually, you can think of filtering an RGB image as filtering 3 grayscale images, one plane at a time. I’d approach the problem that way.
I'm a prof in univ. We use a lot of dspace system and also a speed goat and a ni rio. From time to time we use embedded coder with different target. My thought: + dspace : quite expensive but a great user interface. A micro autobox will cost about 10k€. Integration with simulink is nice, but you cannot easily control dspace from Matlab. The experiment (the user interface) is a separate soft. The recording options are very nice. We typically record 200variables at 100hz without any issue. A lot of triggers options. A very important thing when you want to tune contrôler is the user experience. Dspace is great for that : a lot of widget, highly customizable. You can automatize everything in python. + speed goat. The hardware is as good as dspace but the software is faaaarrr behind. The soft is simulink real-time which is not mature enough for serious project. For instance, you cannot display graphs real-time on the widget page. They record data first and display next. As a result it is impossible to tune a control loop easily. Not talking of the graphical bugs with groupbox. It take a while to configure recorder... And the config cannot be saved with the model. You have to done it every time. But it has a very interesting integration with Matlab. you can easily run. Experiment from the command line, record things and retrieve result by line of code. So basically if you do not want a very detailed user interface, and you work by programming only, this is OK. +nationonal instrument. The hardware is cheaper than the others. You can make a simulink desktop app a simple multi input-output card at around 1000€ that runs at 100hz. 
It is a bad idea to filter each color channel like that. It is better to go to hsv color space before to avoid any crazy stuff when you recombine colors. 
Also you don't have to end your function with `end`. You can just end the function
That’s what the default behavior of imfilter is. Also, L*a*b* is arguably a better choice if you care about filtering in perceptually uniform space. But, for a homework problem, I stand by my answer. Moving to an alternative color space is adding unnecessary complexity to the exercise.
Is the signal small compared to the square wave? Generate something that looks like the square signal and subtract it from the original. To make the signal see when it crosses the average of the entire signal. Kind of like a zero crossing detector. 
From my experience HSV is better than LAB for filtering, even though I must admit that this is somehow subjective. To also answer OP if you know about Fourier Transform you can implement something using the convolution theorem. It will be faster and shorter in code length. 
If it’s a box filter, which it is, there is an O(1) algorithm with respect to kernel size. Which would be still faster than the FFT. Again, this is a simple homework exercise.
You peeked my interest, what is this algorithm? Also OP said he need to smooth an image without conv2, he never talk about box filter, he just implemented it that way. 
Right. But his code is currently a box filter. So, my point was if you’re going to start performance optimizing. You can go faster. The algorithm is to compute the integral image representation of the input, then its two adds and two subtractions per pixel, regardless of support of filter kernel. If not dealing in box filter, it’s still not always the case Frequency domain will be faster. Many kernels (eg gaussian are separable in the spatial domain).
Ow, interesting, thank you for the details!
Adding a third for loop over d should work. Your ‘picbuffer = I(... line should also have a third dimension. 
If it’s just a simple Gaussian filter, why not just use imgaussfilt3 and filter directly in the spatial domain and be done with it?
Thank you, this looks promising. I can't find binaries - just the .ccs. Maybe I'll bite the bullet and figure out how to compile it.
I don't have the image processing toolbox
In that case, why are you filtering a plane at a time instead of using a 3-d Gaussian, in whatever domain you prefer?
What do you mean? What has uncertainty?
I'm just averaging a plane at a time to find the frequencies for the filter (required for assignment). I am trying to use a 2D or 3D gaussian for filtering.
A loop over all values of alpha. 
like this: for alpha=0:0.1:pi/2 syms N T eqn1= N\*cos(alpha) - ((m\*v\^(2))/R)\*sin(alpha)- m\*g\*cos(alpha)-T\*sin(alpha)==0; eqn2=-N\*sin(alpha)+T\*cos(alpha)-((m\*v\^(2))/R)\*cos(alpha)+m\*g\*sin(alpha)==0; \[solN, solT\]=vpasolve(\[eqn1, eqn2\], \[N,T\]); end &amp;#x200B; The problem is that matlab ahows only one value, and gives me the solutions as: 1x1sym Can't understand how i can found the array of results instead (for instance, if alpha has 100 values, i will expect the slutions to be an array of 1x100, one solution per alpha's value)
Not quite. It should be something like this alpha1 = linspace(0,pi/2,100) for i=1:100 alpha = alpha1(i) [solN(i),solT(i)] = .... end
[https://blogs.mathworks.com/loren/2015/08/04/artificial-neural-networks-for-beginners/](https://blogs.mathworks.com/loren/2015/08/04/artificial-neural-networks-for-beginners/)
just set y=0, and isolate
This is a basic geometry problem. Are you given the equation of the curve? Would you know how to do this by hand?
I was given a set of values of Z and T And I wrote plot(T,Z)
Thank you kind sir/madam.
What have you tried?
ok, this work, thank you! but still, the solutions of T and N are written as "1x100 sym", without numerical values. Did i do something wrong?
This is not necessarily trivial at all. It depends very much on known restrictions... Do you know that the curve is a polynomial? Is it of a certain degree? If so, fit the data with a relevant function, and extract the intercept If the plotted line *necessarily* crosses the axis, then you are trying to interpolate data. A difficult thing to do if you have no prior knowledge about the curve. If it doesn't cross the axis, you want to extrapolate. This is *nearly impossible* without some simplifying assumptions about the curve. In that case I think a spline fit would be your best shot.
Everything seems fine in the screenshot, you should not have a warning there. (yes it's a warning not an error. You should still have results ) Could you share the mode file (slx or mdl) instead of the screenshot to see more precisely if I can find something wrong? (if you don't know were to upload it, send me a private message I'll give you an email) 
You see that’s the thing, running it clears all the graphs :S I’ll have a go at uploading it. 
Has the teacher ever taught you about image filtering techniques?
If you have the optimization package, you could try fsolve.
Well, now seems to work fine! I probably haven't looked for the right result, when i was looking for the solution! Thank you very much for the help!!
No, only a few denoising methods such as median, wiener and then that neural networks can denoise but nothing more
 This is what I would do. image1 is the picture with white areas missing. image2 is your noisy image. Implement whatever filtering you want. %% Resize image2 dims = size(image1); dims = dims(1:2); image2 = imresize(image2,dims); %% Find white areas, convert from logical to Uint8 threshold = 250; white_areas = image1(:,:,1) &gt; threshold &amp; image1(:,:,2) &gt; threshold &amp; image1(:,:,3) &gt; threshold; white_areas = uint8(white_areas); %% Set white areas value to 0, find areas of interest from image2 image1(image1 == image1.*white_areas)=0; data_of_interest = image2.*white_areas; %% Reconstruct reconstructed = image1 + data_of_interest; figure; imshow(reconstructed); 
Thank you so much, just sent you a direct message before i saw this. I will give this a try thank you :) :)